import{U as fe,Z as _e,$ as ge,g as zt,f as Ot,u as Lt,a0 as Gt,p as Pt,a1 as pe,a as le,w as ve,s as ne,o as me,C as qt,R as ye,x as ke}from"../app.c2288951.js";import{f as Tt,aN as be,e as Yt,h as Qt,V as we,a3 as ce,k as Wt,af as xe,a8 as te,d as Ht,C as mt,ae as Te,a as ie,a9 as Se,ad as Ce,a6 as Kt,av as $e,w as Ft,F as Ee,a0 as re}from"./framework.3b97cefe.js";function ae(z){return fe(z)&&z.nodeType===1&&!_e(z)}let Xt;const Jt=new Set,_t=(z,A="warn")=>{var x,h;const S=()=>{};return!z||(Xt||(Xt=setTimeout(()=>{Jt.clear(),Xt=null},1500)),Jt.has(z))?S:(Jt.add(z),((h=(x=ge)[A])==null?void 0:h.call(x,z))||S)},sn=z=>{const A=Tt(),S=be({columns:[],data:{},calendars:[],queryDataFlag:!1,getProjectCalendar:()=>{u()},hoursPerDay:8}),x=z;let h={},_={};const u=async()=>{var c,i,o;if(typeof x.calendarsApi=="object"&&((c=Object.keys(x.calendarsApi))==null?void 0:c.length)!==0){const{url:e,method:t,params:n,dataType:a}=Yt(x.calendarsApi),r=await zt({url:e,params:{...n},method:t||"get",dataType:a||"json"});(r==null?void 0:r.code)===200?(((i=r.data)==null?void 0:i.length)>0&&(S.hoursPerDay=(o=r.data[0])==null?void 0:o.day_hour),S.calendars=x.afterCalendarsRequest?x.afterCalendarsRequest(r.data):(r==null?void 0:r.data)||[]):(S.calendars=[],_t(r==null?void 0:r.msg))}};return(async()=>{var c,i,o,e,t,n,a;try{try{await u()}catch{S.calendars=[],console.error("请求项目日历数据异常！")}if(typeof x.configApi=="object"&&((c=Object.keys(x.configApi))==null?void 0:c.length)!==0){const{url:r,method:l,params:d,dataType:f}=Yt(x.configApi),g=await zt({url:r,params:{...d},method:l||"get",dataType:f||"json"});if((g==null?void 0:g.code)===200)S.columns=x.afterConfigRequest?x.afterConfigRequest(g.data):(g==null?void 0:g.data)||[];else{_t(g==null?void 0:g.msg),A.value&&((i=A.value)==null||i.closeBaseGanttLoading());return}}if(typeof x.dataSourceApi=="object"&&((o=Object.keys(x.dataSourceApi))==null?void 0:o.length)!==0){const{url:r,method:l,dataType:d,params:f,studioParams:g}=Yt(x.dataSourceApi);let p={};x.beforeRequest&&(p=x.beforeRequest(x)),_={...g,...f,...p},h={url:r,params:_,method:l||"get",dataType:d||"json",timeout:60*1e3};let v={};if((x==null?void 0:x.initialLoad)!==!1)v=await zt(h);else{A.value&&((e=A.value)==null||e.closeBaseGanttLoading());return}(v==null?void 0:v.code)===200?S.data=x.afterDataRequest?x.afterDataRequest(v==null?void 0:v.data):(v==null?void 0:v.data)||[]:(_t(v==null?void 0:v.msg),A.value&&((t=A.value)==null||t.closeBaseGanttLoading()))}else A.value&&((n=A.value)==null||n.closeBaseGanttLoading());return S}catch{S.columns=[],S.data=[],A.value&&((a=A.value)==null||a.closeBaseGanttLoading()),console.error("请求列数据、数据异常！")}})(),[A,S,{getBaseGanttId(){var c;return A.value&&((c=A.value)==null?void 0:c.getBaseGanttId())},getBaseGanttInstance(){var c;return A.value&&((c=A.value)==null?void 0:c.getBaseGanttInstance())},refreshBaseGanttData(){var c;return A.value&&((c=A.value)==null?void 0:c.refreshBaseGanttData())},getBaseGanttConfig(){var c;return A.value&&((c=A.value)==null?void 0:c.getBaseGanttConfig())},setBaseGanttConfig(c){var i;return A.value&&((i=A.value)==null?void 0:i.setBaseGanttConfig(c))},getBaseGanttColumns(){var c;return A.value&&((c=A.value)==null?void 0:c.getBaseGanttColumns())},batchSetBaseGanttColumns(c){var i;return A.value&&((i=A.value)==null?void 0:i.batchSetBaseGanttColumns(c))},appendBaseGanttColumns(c,i){var o;return A.value&&((o=A.value)==null?void 0:o.appendBaseGanttColumns(c,i))},deleteBaseGanttColumns(c){var i;return A.value&&((i=A.value)==null?void 0:i.deleteBaseGanttColumns(c))},deleteAllBaseGanttColumns(){var c;return A.value&&((c=A.value)==null?void 0:c.deleteAllBaseGanttColumns())},updateBaseGanttColumns(c){var i;return A.value&&((i=A.value)==null?void 0:i.updateBaseGanttColumns(c))},getBaseGanttSelectedIds(){var c;return A.value&&((c=A.value)==null?void 0:c.getBaseGanttSelectedIds())},getBaseGanttSelectedRows(){var c;return A.value&&((c=A.value)==null?void 0:c.getBaseGanttSelectedRows())},setBaseGanttColumnsDisplay(c){var i;return A.value&&((i=A.value)==null?void 0:i.setBaseGanttColumnsDisplay(c))},hideBaseGanttChart(){var c;return A.value&&((c=A.value)==null?void 0:c.hideBaseGanttChart())},hideBaseGanttGrid(){var c;return A.value&&((c=A.value)==null?void 0:c.hideBaseGanttGrid())},showBaseGanttChartGrid(){var c;return A.value&&((c=A.value)==null?void 0:c.showBaseGanttChartGrid())},taskIndentAndOutdent(c){var i;return A.value&&((i=A.value)==null?void 0:i.taskIndentAndOutdent(c))},getDifferenceData(){var c;return A.value&&((c=A.value)==null?void 0:c.getDifferenceData())},checkDifferenceData(){var c;return A.value&&((c=A.value)==null?void 0:c.checkDifferenceData())},toggleCriticalPath(c){var i;return A.value&&((i=A.value)==null?void 0:i.toggleCriticalPath(c))},switchBaseGanttBaseLine(){var c;return A.value&&((c=A.value)==null?void 0:c.switchBaseGanttBaseLine())},setBaseGanttBaseLine(c,i,o){var e;return A.value&&((e=A.value)==null?void 0:e.setBaseGanttBaseLine(c,i,o))},switchBaseGanttTodayLine(c){var i;return A.value&&((i=A.value)==null?void 0:i.switchBaseGanttTodayLine(c))},collapseBaseGanttLevel(c){var i;return A.value&&((i=A.value)==null?void 0:i.collapseBaseGanttLevel(c))},expandBaseGanttLevel(c){var i;return A.value&&((i=A.value)==null?void 0:i.expandBaseGanttLevel(c))},setBaseGanttContextMenu(c,i){var o;return A.value&&((o=A.value)==null?void 0:o.setBaseGanttContextMenu(c,i))},setBaseGanttProjectStart(c,i){var o;return A.value&&((o=A.value)==null?void 0:o.setBaseGanttProjectStart(c,i))},setBaseGanttProjectEnd(c){var i;return A.value&&((i=A.value)==null?void 0:i.setBaseGanttProjectEnd(c))},setBaseGanttZoom(c){var i;return A.value&&((i=A.value)==null?void 0:i.setBaseGanttZoom(c))},addRelationTaskLink(c){var i;return A.value&&((i=A.value)==null?void 0:i.addRelationTaskLink(c))},deleteRelationTaskLink(c){var i;return A.value&&((i=A.value)==null?void 0:i.deleteRelationTaskLink(c))},async queryBaseGanttData(c={},i=!1,o=""){var e;if(typeof c=="object"&&(h.params={..._,...c}),A.value&&((e=A.value)==null||e.enableBaseGanttLoading(o)),i)try{await u()}catch{S.calendars=[],console.error("请求项目日历数据异常！")}return zt(h).then(t=>(S.data=t==null?void 0:t.data,S.queryDataFlag=!0,t)).finally(()=>{var t;A.value&&((t=A.value)==null||t.closeBaseGanttLoading())})},queryProjectCalendar:u,openProjectCalendar(){var c;return A.value&&((c=A.value)==null?void 0:c.openProjectCalendar())},enableBaseGanttLoading(c){var i;return A.value&&((i=A.value)==null?void 0:i.enableBaseGanttLoading(c))},closeBaseGanttLoading(){var c;return A.value&&((c=A.value)==null?void 0:c.closeBaseGanttLoading())},filterBaseGanttTask(...c){var i;return A.value&&((i=A.value)==null?void 0:i.filterBaseGanttTask(...c))},customTaskTooltipContent(c,i){var o;return A.value&&((o=A.value)==null?void 0:o.customTaskTooltipContent(c,i))},freezeBaseGanttColumns(...c){var i;return A.value&&((i=A.value)==null?void 0:i.freezeBaseGanttColumns(...c))},copyOrCutBaseGanttData(c){var i;return A.value&&((i=A.value)==null?void 0:i.copyOrCutBaseGanttData(c))},pasteBaseGanttData(){var c;return A.value&&((c=A.value)==null?void 0:c.pasteBaseGanttData())},openBaseGanttAbout(){var c;return A.value&&((c=A.value)==null?void 0:c.openBaseGanttAbout())},exportBaseGanttPNG(){var c;return A.value&&((c=A.value)==null?void 0:c.exportBaseGanttPNG())},exportBaseGanttPDF(){var c;return A.value&&((c=A.value)==null?void 0:c.exportBaseGanttPDF())},exportBaseGanttExcel(){var c;return A.value&&((c=A.value)==null?void 0:c.exportBaseGanttExcel())},exportBaseGanttMSProject(){var c;return A.value&&((c=A.value)==null?void 0:c.exportBaseGanttMSProject())},setBaseGanttData(c){var i;return A.value&&((i=A.value)==null?void 0:i.setBaseGanttData(c))},updateBaseGanttData(c){var i;return A.value&&((i=A.value)==null?void 0:i.updateBaseGanttData(c))},deleteSelectedTask(c){var i;return A.value&&((i=A.value)==null?void 0:i.deleteSelectedTask(c))},getChildTaskId(c,i){var o;return A.value&&((o=A.value)==null?void 0:o.getChildTaskId(c,i))},checkTaskLimit(c,i){var o;return A.value&&((o=A.value)==null?void 0:o.checkTaskLimit(c,i))}}]},ue={css:"gantt_container",cols:[{gravity:6,rows:[{view:"grid",scrollable:!0,scrollX:"gridScroll",scrollY:"scrollVer"},{view:"scrollbar",id:"gridScroll",scroll:"x",group:"hor"}]},{resizer:!0,width:2},{gravity:5,rows:[{view:"timeline",scrollX:"timelineScroll",scrollY:"scrollVer"},{view:"scrollbar",id:"timelineScroll",scroll:"x",group:"hor"}]},{view:"scrollbar",id:"scrollVer"}]},De={css:"gantt_container",cols:[{rows:[{view:"grid",scrollable:!0,scrollX:"gridScroll",scrollY:"scrollVer"},{view:"scrollbar",id:"gridScroll",scroll:"x",group:"hor"}]},{view:"scrollbar",id:"scrollVer"}]},Ae={css:"gantt_container",cols:[{rows:[{view:"timeline",scrollX:"timelineScroll",scrollY:"scrollVer"},{view:"scrollbar",id:"timelineScroll",scroll:"x",group:"hor"}]},{view:"scrollbar",id:"scrollVer"}]},Ut={hour:0,day:1,week:2,month:3,quarter:4,year:5},Pe=["asap","snet","fnlt"],Nt={CHECKBOXNAME:"external_checkbox",ADDNAME:"custom_add",INITWIDTH:48};var gt=(z=>(z.TASKNEW="TaskNew",z.TASKWAITRESOLVE="TaskWaitResolve",z.TASKRESOLVING="TaskResolving",z.TASKRESOLVED="TaskResolved",z.TASKWAITSTART="TaskWaitStart",z.TASKEXCUTE="TaskExcute",z.TASKAPPROVE="TaskApprove",z.TASKFINISHED="TaskFinished",z.TASKPAUSE="TaskPause",z.TASKSTOP="TaskStop",z))(gt||{});const oe={TaskNew:"project.wbs.new",TaskWaitResolve:"project.wbs.toberesolved",TaskResolving:"project.wbs.resolving",TaskResolved:"project.wbs.resolved",TaskWaitStart:"project.wbs.unstart",TaskExcute:"project.wbs.executing",TaskApprove:"project.wbs.approving",TaskFinished:"project.wbs.finished",TaskPause:"project.wbs.pause",TaskStop:"project.wbs.terminated"},Bt=["TaskApprove","TaskFinished"],xt="newFlag";var Ct=(z=>(z.PROJECT_PLAN="EditPlan",z.PROJECT_PLAN_TASKIDPREFIX="I_PM_TASK",z.PROJECT_PLAN_LINKIDPREFIX="I_PM_TASK_LINK",z.CHANGE_PLAN="ChangePlan",z.CHANGE_PLAN_TASKIDPREFIX="I_PM_TASK_BAK",z.CHANGE_PLAN_LINKIDPREFIX="I_PM_TASK_BAK_LINK",z.PROJECT_MODEL_PLAN="ProjectModelPlan",z.PROJECT_MODEL_PLAN_TASKIDPREFIX="I_PM_TASK_MODEL",z.PROJECT_MODEL_PLAN_LINKIDPREFIX="I_PM_TASK_MODEL_LINK",z.TASK_MODEL_PLAN="TaskModelPlan",z.TASK_MODEL_PLAN_TASKIDPREFIX="I_PM_TASK_MODEL",z.TASK_MODEL_PLAN_LINKIDPREFIX="I_PM_TASK_MODEL_LINK",z))(Ct||{}),Rt=(z=>(z.AUTH_RESOLVE="auth_resolve",z.AUTH_RESOLVE_FLAG="isShow",z.PUBLISH_STATUS="publish_status",z))(Rt||{});const Le={options:{type:Array,default:()=>[]},durationUnit:{type:String,default:"minute",validator(z){return["minute","day"].includes(z)}},hoursPerDay:{type:Number,default:8},calendars:{type:Array,default:()=>[]},getProjectCalendar:{type:Function,default:()=>({})},columns:{type:Array,default:()=>[]},queryDataFlag:{type:Boolean,default:!1},data:{type:Object,default:()=>({})},readonly:{type:Boolean,default:!1},renderFlag:{type:Boolean,default:!0},enableLoadingFlag:{type:Boolean,default:!0},columnAddFlag:{type:Boolean,default:!0},selectedFalg:{type:Boolean,default:!1},enableChartGridSwitch:{type:Boolean,default:!0},workTime:{type:Boolean,default:!0},showWorkTimeClass:{type:Boolean,default:!0},todayLine:{type:Boolean,default:!0},progressCalculate:{type:Boolean,default:!1},statusCalculate:{type:Boolean,default:!1},complateCalculate:{type:Boolean,default:!0},dragProgress:{type:Boolean,default:!1},autoShowProgress:{type:Boolean,default:!0},autoShowProgressWithZoom:{type:Number,default:2},autoSchedule:{type:Boolean,default:!0},orderBranch:{type:Boolean,default:!1},gridDateFormat:{type:Boolean,default:!0},reorderGridColumn:{type:Boolean,default:!0},defaultZoom:{type:String,default:"week"},skipOffTime:{type:Boolean,default:!1},showBaseLine:{type:Boolean,default:!0},undoSteps:{type:Number,default:60},roundDndDate:{type:Boolean,default:!1},correctWorkTime:{type:Boolean,default:!0},autoTypes:{type:Boolean,default:!0},isSingleProject:{type:Boolean,default:!0},columnsReactiveFlag:{type:Boolean,default:!1},outdentInSituFlag:{type:Boolean,default:!0},scrollOnClick:{type:Boolean,default:!0},rangeDynamically:{type:Boolean,default:!0},baseLineRightText:{type:Boolean,default:!0},ignoreMilestone:{type:Boolean,default:!0},enableProjectStartEndDate:{type:Boolean,default:!0},enableFilter:{type:Boolean,default:!1},enableDecompose:{type:Boolean,default:!1},showTooltip:{type:Boolean,default:!0},showLinkTooltip:{type:Boolean,default:!0},tempSaveCalendar:{type:Boolean,default:!1},copyDataKeepLevel:{type:Boolean,default:!0},resizeRow:{type:Boolean,default:!1},barHeight:{type:Number,default:20},differenceWbsData:{type:Boolean,default:!0},globalCalendar:{type:Boolean,default:!1},columnsLocale:{type:Boolean,default:!1},cutToPastePosition:{type:Boolean,default:!0},toolbar:{type:Boolean,default:!1},limitZoomInLevel:{type:Number,default:0},chartBoxSelection:{type:Boolean,default:!0},showEmptyState:{type:Boolean,default:!1},dynamicTextPosition:{type:Boolean,default:!1},scheduleProjectConstraint:{type:Boolean,default:!1},showStartEndDateLine:{type:Boolean,default:!1},fineTuning:{type:Boolean,default:!1},bizType:{type:String,default:"1"},highlightDragPosition:{type:Boolean,default:!0},showDragVertical:{type:Boolean,default:!0},showDragHorizontal:{type:Boolean,default:!0},calendarUrl:{type:Object,default:()=>({queryUrl:"/wbs/v1/data/calendar/list",saveUrl:"/wbs/v1/data/calendar/save"})},scaleHeight:{type:Number,default:50},rowHeight:{type:Number,default:35},enablePasteLoadingTotal:{type:Number,default:30},queryKeepLevel:{type:Boolean,default:!1},tempIdRealIdMap:{type:Object,default:()=>({data:{}})},gridElasticColumns:{type:Boolean,default:!0},autoOpenLevel:{type:Boolean,default:!1},enableMilestoneBgColor:{type:Boolean,default:!0},enableColumnResizeTooltip:{type:Boolean,default:!0},defaultHideChart:{type:Boolean,default:!1},showPrevDate:{type:Boolean,default:!1},showProjectEndMarker:{type:Boolean,default:!0},separateProjectStart:{type:Boolean,default:!0},outsideTimeScaleDay:{type:Number,default:5},enableMilestoneLine:{type:Boolean,default:!0}};var de={exports:{}};(function(z,A){(function(S,x){z.exports=x()})(window,function(){return function(S){var x={};function h(_){if(x[_])return x[_].exports;var u=x[_]={i:_,l:!1,exports:{}};return S[_].call(u.exports,u,u.exports,h),u.l=!0,u.exports}return h.m=S,h.c=x,h.d=function(_,u,s){h.o(_,u)||Object.defineProperty(_,u,{enumerable:!0,get:s})},h.r=function(_){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},h.t=function(_,u){if(1&u&&(_=h(_)),8&u||4&u&&typeof _=="object"&&_&&_.__esModule)return _;var s=Object.create(null);if(h.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:_}),2&u&&typeof _!="string")for(var c in _)h.d(s,c,(function(i){return _[i]}).bind(null,c));return s},h.n=function(_){var u=_&&_.__esModule?function(){return _.default}:function(){return _};return h.d(u,"a",u),u},h.o=function(_,u){return Object.prototype.hasOwnProperty.call(_,u)},h.p="/codebase/",h(h.s=326)}([function(S,x,h){function _(i){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}var u,s=h(2),c={}.constructor.toString();S.exports={copy:function i(o){var e,t;if(o&&_(o)=="object")switch(!0){case s.isDate(o):t=new Date(o);break;case s.isArray(o):for(t=new Array(o.length),e=0;e<o.length;e++)t[e]=i(o[e]);break;default:for(e in t=function(n){return n.constructor.toString()!==c}(o)?Object.create(o):{},o)Object.prototype.hasOwnProperty.apply(o,[e])&&(t[e]=i(o[e]))}return t||o},defined:function(i){return i!==void 0},mixin:function(i,o,e){for(var t in o)(i[t]===void 0||e)&&(i[t]=o[t]);return i},uid:function(){return u||(u=new Date().valueOf()),++u},bind:function(i,o){return i.bind?i.bind(o):function(){return i.apply(o,arguments)}},event:function(i,o,e,t){i.addEventListener?i.addEventListener(o,e,t!==void 0&&t):i.attachEvent&&i.attachEvent("on"+o,e)},eventRemove:function(i,o,e,t){i.removeEventListener?i.removeEventListener(o,e,t!==void 0&&t):i.detachEvent&&i.detachEvent("on"+o,e)}}},function(S,x){function h(r){var l=0,d=0,f=0,g=0;if(r.getBoundingClientRect){var p=r.getBoundingClientRect(),v=document.body,y=document.documentElement||document.body.parentNode||document.body,m=window.pageYOffset||y.scrollTop||v.scrollTop,b=window.pageXOffset||y.scrollLeft||v.scrollLeft,k=y.clientTop||v.clientTop||0,C=y.clientLeft||v.clientLeft||0;l=p.top+m-k,d=p.left+b-C,f=document.body.offsetWidth-p.right,g=document.body.offsetHeight-p.bottom}else{for(;r;)l+=parseInt(r.offsetTop,10),d+=parseInt(r.offsetLeft,10),r=r.offsetParent;f=document.body.offsetWidth-r.offsetWidth-d,g=document.body.offsetHeight-r.offsetHeight-l}return{y:Math.round(l),x:Math.round(d),width:r.offsetWidth,height:r.offsetHeight,right:Math.round(f),bottom:Math.round(g)}}function _(r){var l=!1,d=!1;if(window.getComputedStyle){var f=window.getComputedStyle(r,null);l=f.display,d=f.visibility}else r.currentStyle&&(l=r.currentStyle.display,d=r.currentStyle.visibility);return l!="none"&&d!="hidden"}function u(r){return!isNaN(r.getAttribute("tabindex"))&&1*r.getAttribute("tabindex")>=0}function s(r){return!{a:!0,area:!0}[r.nodeName.loLowerCase()]||!!r.getAttribute("href")}function c(r){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[r.nodeName.toLowerCase()]||!r.hasAttribute("disabled")}function i(r){if(!r)return"";var l=r.className||"";return l.baseVal&&(l=l.baseVal),l.indexOf||(l=""),t(l)}var o;function e(r){var l;return r.tagName?l=r:(l=(r=r||window.event).target||r.srcElement).shadowRoot&&r.composedPath&&(l=r.composedPath()[0]),l}function t(r){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(r)}function n(){return document.head.createShadowRoot||document.head.attachShadow}function a(r){if(!r||!n())return document.body;for(;r.parentNode&&(r=r.parentNode);)if(r instanceof ShadowRoot)return r.host;return document.body}S.exports={getNodePosition:h,getFocusableNodes:function(r){for(var l=r.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(l,0),f=0;f<d.length;f++)d[f].$position=f;for(d.sort(function(p,v){return p.tabIndex===0&&v.tabIndex!==0?1:p.tabIndex!==0&&v.tabIndex===0?-1:p.tabIndex===v.tabIndex?p.$position-v.$position:p.tabIndex<v.tabIndex?-1:1}),f=0;f<d.length;f++){var g=d[f];(u(g)||c(g)||s(g))&&_(g)||(d.splice(f,1),f--)}return d},getScrollSize:function(){var r=document.createElement("div");r.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(r);var l=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),l},getClassName:i,addClassName:function(r,l){l&&r.className.indexOf(l)===-1&&(r.className+=" "+l)},removeClassName:function(r,l){l=l.split(" ");for(var d=0;d<l.length;d++){var f=new RegExp("\\s?\\b"+l[d]+"\\b(?![-_.])","");r.className=r.className.replace(f,"")}},insertNode:function(r,l){o||(o=document.createElement("div")),o.innerHTML=l;var d=o.firstChild;return r.appendChild(d),d},removeNode:function(r){r&&r.parentNode&&r.parentNode.removeChild(r)},getChildNodes:function(r,l){for(var d=r.childNodes,f=d.length,g=[],p=0;p<f;p++){var v=d[p];v.className&&v.className.indexOf(l)!==-1&&g.push(v)}return g},toNode:function(r){return typeof r=="string"?document.getElementById(r)||document.querySelector(r)||document.body:r||document.body},locateClassName:function(r,l,d){var f=e(r),g="";for(d===void 0&&(d=!0);f;){if(g=i(f)){var p=g.indexOf(l);if(p>=0){if(!d)return f;var v=p===0||!t(g.charAt(p-1)),y=p+l.length>=g.length||!t(g.charAt(p+l.length));if(v&&y)return f}}f=f.parentNode}return null},locateAttribute:function(r,l){if(l){for(var d=e(r);d;){if(d.getAttribute&&d.getAttribute(l))return d;d=d.parentNode}return null}},getTargetNode:e,getRelativeEventPosition:function(r,l){var d=document.documentElement,f=h(l);return{x:r.clientX+d.scrollLeft-d.clientLeft-f.x+l.scrollLeft,y:r.clientY+d.scrollTop-d.clientTop-f.y+l.scrollTop}},isChildOf:function(r,l){if(!r||!l)return!1;for(;r&&r!=l;)r=r.parentNode;return r===l},hasClass:function(r,l){return"classList"in r?r.classList.contains(l):new RegExp("\\b"+l+"\\b").test(r.className)},closest:function(r,l){if(r.closest)return r.closest(l);if(r.matches||r.msMatchesSelector||r.webkitMatchesSelector){var d=r;if(!document.documentElement.contains(d))return null;do{if((d.matches||d.msMatchesSelector||d.webkitMatchesSelector).call(d,l))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}return console.error("Your browser is not supported"),null},getRootNode:a,hasShadowParent:function(r){return!!a(r)},isShadowDomSupported:n,getActiveElement:function(){var r=document.activeElement;return r.shadowRoot&&(r=r.shadowRoot.activeElement),r===document.body&&document.getSelection&&(r=document.getSelection().focusNode||document.body),r}}},function(S,x){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}var _={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function u(i){return!(!i||h(i)!=="object")&&!!(i.getFullYear&&i.getMonth&&i.getDate)}function s(i,o){var e=[];if(i.filter)return i.filter(o);for(var t=0;t<i.length;t++)o(i[t],t)&&(e[e.length]=i[t]);return e}function c(i){return i===0}S.exports={getSecondsInUnit:function(i){return _[i]||_.hour},forEach:function(i,o){if(i.forEach)i.forEach(o);else for(var e=i.slice(),t=0;t<e.length;t++)o(e[t],t)},arrayMap:function(i,o){if(i.map)return i.map(o);for(var e=i.slice(),t=[],n=0;n<e.length;n++)t.push(o(e[n],n));return t},arrayIncludes:function(i,o){if(i.includes)return i.includes(o);for(var e=0;e<i.length;e++)if(i[e]===o)return!0;return!1},arrayFind:function(i,o){if(i.find)return i.find(o);for(var e=0;e<i.length;e++)if(o(i[e],e))return i[e]},arrayFilter:s,arrayDifference:function(i,o){return s(i,function(e,t){return!o(e,t)})},arraySome:function(i,o){if(i.length===0)return!1;for(var e=0;e<i.length;e++)if(o(i[e],e,i))return!0;return!1},hashToArray:function(i){var o=[];for(var e in i)i.hasOwnProperty(e)&&o.push(i[e]);return o},sortArrayOfHash:function(i,o,e){var t=function(n,a){return n<a};i.sort(function(n,a){return n[o]===a[o]?0:e?t(n[o],a[o]):t(a[o],n[o])})},throttle:function(i,o){var e=!1;return function(){e||(i.apply(null,arguments),e=!0,setTimeout(function(){e=!1},o))}},isArray:function(i){return Array.isArray?Array.isArray(i):i&&i.length!==void 0&&i.pop&&i.push},isDate:u,isValidDate:function(i){return u(i)&&!isNaN(i.getTime())},isStringObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function String() { [native code] }"},isNumberObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Number() { [native code] }"},isBooleanObject:function(i){return i&&h(i)==="object"&&Function.prototype.toString.call(i.constructor)==="function Boolean() { [native code] }"},delay:function(i,o){var e,t=function n(){n.$cancelTimeout(),n.$pending=!0;var a=Array.prototype.slice.call(arguments);e=setTimeout(function(){i.apply(this,a),n.$pending=!1},o)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(e),t.$pending=!1},t.$execute=function(){var n=Array.prototype.slice.call(arguments);i.apply(this,n),t.$cancelTimeout()},t},objectKeys:function(i){if(Object.keys)return Object.keys(i);var o,e=[];for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&e.push(o);return e},isEventable:function(i){return i.attachEvent&&i.detachEvent},replaceValidZeroId:function(i,o){return c(i)&&!c(o)&&(i="0"),i},checkZeroId:c,findBinary:function(i,o){for(var e,t,n,a=0,r=i.length-1;a<=r;)if(t=+i[e=Math.floor((a+r)/2)],n=+i[e-1],t<o)a=e+1;else{if(!(t>o)){for(;+i[e]==+i[e+1];)e++;return e}if(!isNaN(n)&&n<o)return e-1;r=e-1}return i.length-1}}},function(S,x){S.exports=function(h,_){for(var u in _)_.hasOwnProperty(u)&&(h[u]=_[u]);function s(){this.constructor=h}h.prototype=_===null?Object.create(_):(s.prototype=_.prototype,new s)}},function(S,x){function h(u){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}var _;_=function(){return this}();try{_=_||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":h(window))==="object"&&(_=window)}S.exports=_},function(S,x){var h=function(){this._silent_mode=!1,this.listeners={}};h.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var _=function(u){var s={},c=0,i=function(){var o=!0;for(var e in s){var t=s[e].apply(u,arguments);o=o&&t}return o};return i.addEvent=function(o,e){if(typeof o=="function"){var t;if(e&&e.id?t=e.id:(t=c,c++),e&&e.once){var n=o;o=function(){n(),i.removeEvent(t)}}return s[t]=o,t}return!1},i.removeEvent=function(o){delete s[o]},i.clear=function(){s={}},i};S.exports=function(u){var s=new h;u.attachEvent=function(c,i,o){c="ev_"+c.toLowerCase(),s.listeners[c]||(s.listeners[c]=_(this)),o&&o.thisObject&&(i=i.bind(o.thisObject));var e=c+":"+s.listeners[c].addEvent(i,o);return o&&o.id&&(e=o.id),e},u.attachAll=function(c){this.attachEvent("listen_all",c)},u.callEvent=function(c,i){if(s._silent_mode)return!0;var o="ev_"+c.toLowerCase(),e=s.listeners;return e.ev_listen_all&&e.ev_listen_all.apply(this,[c].concat(i)),!e[o]||e[o].apply(this,i)},u.checkEvent=function(c){return!!s.listeners["ev_"+c.toLowerCase()]},u.detachEvent=function(c){if(c){var i=s.listeners;for(var o in i)i[o].removeEvent(c);var e=c.split(":");if(i=s.listeners,e.length===2){var t=e[0],n=e[1];i[t]&&i[t].removeEvent(n)}}},u.detachAllEvents=function(){for(var c in s.listeners)s.listeners[c].clear()}}},function(S,x){S.exports=function(h,_,u,s,c){var i=_.getItemIndexByTopPosition(c.y)||0,o=_.getItemIndexByTopPosition(c.y_end)||s.count();return{start:Math.max(0,i-1),end:Math.min(s.count(),o+1)}}},function(S,x){function h(){console.log("Method is not implemented.")}function _(){}_.prototype.render=h,_.prototype.set_value=h,_.prototype.get_value=h,_.prototype.focus=h,S.exports=function(u){return _}},function(S,x){var h=typeof window<"u",_={isIE:h&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:h&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:h&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:h&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:h&&navigator.userAgent.indexOf("Opera")>=0,isChrome:h&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:h&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:h&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:h&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:h&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!h||typeof navigator>"u"};S.exports=_},function(S,x){typeof Object.create=="function"?S.exports=function(h,_){h.super_=_,h.prototype=Object.create(_.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}})}:S.exports=function(h,_){h.super_=_;var u=function(){};u.prototype=_.prototype,h.prototype=new u,h.prototype.constructor=h}},function(S,x){var h,_,u=S.exports={};function s(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function i(f){if(h===setTimeout)return setTimeout(f,0);if((h===s||!h)&&setTimeout)return h=setTimeout,setTimeout(f,0);try{return h(f,0)}catch{try{return h.call(null,f,0)}catch{return h.call(this,f,0)}}}(function(){try{h=typeof setTimeout=="function"?setTimeout:s}catch{h=s}try{_=typeof clearTimeout=="function"?clearTimeout:c}catch{_=c}})();var o,e=[],t=!1,n=-1;function a(){t&&o&&(t=!1,o.length?e=o.concat(e):n=-1,e.length&&r())}function r(){if(!t){var f=i(a);t=!0;for(var g=e.length;g;){for(o=e,e=[];++n<g;)o&&o[n].run();n=-1,g=e.length}o=null,t=!1,function(p){if(_===clearTimeout)return clearTimeout(p);if((_===c||!_)&&clearTimeout)return _=clearTimeout,clearTimeout(p);try{_(p)}catch{try{return _.call(null,p)}catch{return _.call(this,p)}}}(f)}}function l(f,g){this.fun=f,this.array=g}function d(){}u.nextTick=function(f){var g=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)g[p-1]=arguments[p];e.push(new l(f,g)),e.length!==1||t||i(r)},l.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=d,u.addListener=d,u.once=d,u.off=d,u.removeListener=d,u.removeAllListeners=d,u.emit=d,u.prependListener=d,u.prependOnceListener=d,u.listeners=function(f){return[]},u.binding=function(f){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(f){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(S,x){S.exports=function(h){var _=function(){};return _.prototype={show:function(u,s,c,i){},hide:function(){},set_value:function(u,s,c,i){this.get_input(i).value=u},get_value:function(u,s,c){return this.get_input(c).value||""},is_changed:function(u,s,c,i){var o=this.get_value(s,c,i);return o&&u&&o.valueOf&&u.valueOf?o.valueOf()!=u.valueOf():o!=u},is_valid:function(u,s,c,i){return!0},save:function(u,s,c){},get_input:function(u){return u.querySelector("input")},focus:function(u){var s=this.get_input(u);s&&(s.focus&&s.focus(),s.select&&s.select())}},_}},function(S,x,h){var _=h(0),u=h(5),s=h(1),c=function(){function i(o,e,t,n){o&&(this.$container=s.toNode(o),this.$parent=o),this.$config=_.mixin(e,{headerHeight:33}),this.$gantt=n,this.$domEvents=n._createDomEventScope(),this.$id=e.id||"c"+_.uid(),this.$name="cell",this.$factory=t,u(this)}return i.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},i.prototype.cell=function(o){return null},i.prototype.scrollTo=function(o,e){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*o==o&&(t.scrollLeft=o),1*e==e&&(t.scrollTop=e)},i.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},i.prototype.resize=function(o){if(this.$parent)return this.$parent.resize(o);o===!1&&(this.$preResize=!0);var e=this.$container,t=e.offsetWidth,n=e.offsetHeight,a=this.getSize();e===document.body&&(t=document.body.offsetWidth,n=document.body.offsetHeight),t<a.minWidth&&(t=a.minWidth),t>a.maxWidth&&(t=a.maxWidth),n<a.minHeight&&(n=a.minHeight),n>a.maxHeight&&(n=a.maxHeight),this.setSize(t,n),this.$preResize,this.$preResize=!1},i.prototype.hide=function(){this._hide(!0),this.resize()},i.prototype.show=function(o){this._hide(!1),o&&this.$parent&&this.$parent.show(),this.resize()},i.prototype._hide=function(o){if(o===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(o===!1&&!this.$view.parentNode){var e=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,e)}this.$config.hidden=o},i.prototype.$toHTML=function(o,e){o===void 0&&(o=""),e=[e||"",this.$config.css||""].join(" ");var t=this.$config,n="";return t.raw?o=typeof t.raw=="string"?t.raw:"":(o||(o="<div class='gantt_layout_content' "+(e?" class='"+e+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(n="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+e+"' data-cell-id='"+this.$id+"'>"+n+o+"</div>"},i.prototype.$fill=function(o,e){this.$view=o,this.$parent=e,this.init()},i.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},i.prototype.init=function(){var o=this;this._headerClickHandler=function(e){s.locateAttribute(e,"data-cell-id")==o.$id&&o.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},i.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},i.prototype.getSize=function(){var o={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var e=this.$config.mode==="x";o[e?"width":"height"]=o[e?"maxWidth":"maxHeight"]=this.$config.headerHeight}return o},i.prototype.getContentSize=function(){var o=this.$lastSize.contentX;o!==1*o&&(o=this.$lastSize.width);var e=this.$lastSize.contentY;return e!==1*e&&(e=this.$lastSize.height),{width:o,height:e}},i.prototype._getBorderSizes=function(){var o={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(o.left=1,o.horizontal++),this._currentBorders[this._borders.right]&&(o.right=1,o.horizontal++),this._currentBorders[this._borders.top]&&(o.top=1,o.vertical++),this._currentBorders[this._borders.bottom]&&(o.bottom=1,o.vertical++)),o},i.prototype.setSize=function(o,e){this.$view.style.width=o+"px",this.$view.style.height=e+"px";var t=this._getBorderSizes(),n=e-t.vertical,a=o-t.horizontal;this.$lastSize={x:o,y:e,contentX:a,contentY:n},this.$config.header?this._sizeHeader():this._sizeContent()},i.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},i.prototype._setBorders=function(o,e){e||(e=this);var t=e.$view;for(var n in this._borders)s.removeClassName(t,this._borders[n]);typeof o=="string"&&(o=[o]);var a={};for(n=0;n<o.length;n++)s.addClassName(t,o[n]),a[o[n]]=!0;e._currentBorders=a},i.prototype._sizeContent=function(){var o=this.$view.childNodes[0];o&&o.className=="gantt_layout_content"&&(o.style.height=this.$lastSize.contentY+"px")},i.prototype._sizeHeader=function(){var o=this.$lastSize;o.contentY-=this.$config.headerHeight;var e=this.$view.childNodes[0],t=this.$view.childNodes[1],n=this.$config.mode==="x";if(this.$config.collapsed)if(t.style.display="none",n){e.className="gantt_layout_header collapsed_x",e.style.width=o.y+"px";var a=Math.floor(o.y/2-o.x/2);e.style.transform="rotate(90deg) translate("+a+"px, "+a+"px)",t.style.display="none"}else e.className="gantt_layout_header collapsed_y";else e.className=n?"gantt_layout_header":"gantt_layout_header vertical",e.style.width="auto",e.style.transform="",t.style.display="",t.style.height=o.contentY+"px";e.style.height=this.$config.headerHeight+"px"},i}();S.exports=c},function(S,x,h){var _=h(22),u=Object.keys||function(l){var d=[];for(var f in l)d.push(f);return d};S.exports=n;var s=h(18);s.inherits=h(9);var c=h(67),i=h(63);s.inherits(n,c);for(var o=u(i.prototype),e=0;e<o.length;e++){var t=o[e];n.prototype[t]||(n.prototype[t]=i.prototype[t])}function n(l){if(!(this instanceof n))return new n(l);c.call(this,l),i.call(this,l),l&&l.readable===!1&&(this.readable=!1),l&&l.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,l&&l.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",a)}function a(){this.allowHalfOpen||this._writableState.ended||_.nextTick(r,this)}function r(l){l.end()}Object.defineProperty(n.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(n.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),n.prototype._destroy=function(l,d){this.push(null),this.end(),_.nextTick(d,l)}},function(S,x,h){(function(_){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var u=h(306),s=h(305),c=h(71);function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o($,D){if(i()<D)throw new RangeError("Invalid typed array length");return e.TYPED_ARRAY_SUPPORT?($=new Uint8Array(D)).__proto__=e.prototype:($===null&&($=new e(D)),$.length=D),$}function e($,D,M){if(!(e.TYPED_ARRAY_SUPPORT||this instanceof e))return new e($,D,M);if(typeof $=="number"){if(typeof D=="string")throw new Error("If encoding is specified then the first argument must be a string");return a(this,$)}return t(this,$,D,M)}function t($,D,M,U){if(typeof D=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&D instanceof ArrayBuffer?function(q,X,nt,J){if(X.byteLength,nt<0||X.byteLength<nt)throw new RangeError("'offset' is out of bounds");if(X.byteLength<nt+(J||0))throw new RangeError("'length' is out of bounds");return X=nt===void 0&&J===void 0?new Uint8Array(X):J===void 0?new Uint8Array(X,nt):new Uint8Array(X,nt,J),e.TYPED_ARRAY_SUPPORT?(q=X).__proto__=e.prototype:q=r(q,X),q}($,D,M,U):typeof D=="string"?function(q,X,nt){if(typeof nt=="string"&&nt!==""||(nt="utf8"),!e.isEncoding(nt))throw new TypeError('"encoding" must be a valid string encoding');var J=0|d(X,nt),rt=(q=o(q,J)).write(X,nt);return rt!==J&&(q=q.slice(0,rt)),q}($,D,M):function(q,X){if(e.isBuffer(X)){var nt=0|l(X.length);return(q=o(q,nt)).length===0||X.copy(q,0,0,nt),q}if(X){if(typeof ArrayBuffer<"u"&&X.buffer instanceof ArrayBuffer||"length"in X)return typeof X.length!="number"||function(J){return J!=J}(X.length)?o(q,0):r(q,X);if(X.type==="Buffer"&&c(X.data))return r(q,X.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}($,D)}function n($){if(typeof $!="number")throw new TypeError('"size" argument must be a number');if($<0)throw new RangeError('"size" argument must not be negative')}function a($,D){if(n(D),$=o($,D<0?0:0|l(D)),!e.TYPED_ARRAY_SUPPORT)for(var M=0;M<D;++M)$[M]=0;return $}function r($,D){var M=D.length<0?0:0|l(D.length);$=o($,M);for(var U=0;U<M;U+=1)$[U]=255&D[U];return $}function l($){if($>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|$}function d($,D){if(e.isBuffer($))return $.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView($)||$ instanceof ArrayBuffer))return $.byteLength;typeof $!="string"&&($=""+$);var M=$.length;if(M===0)return 0;for(var U=!1;;)switch(D){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":case void 0:return Q($).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*M;case"hex":return M>>>1;case"base64":return W($).length;default:if(U)return Q($).length;D=(""+D).toLowerCase(),U=!0}}function f($,D,M){var U=$[D];$[D]=$[M],$[M]=U}function g($,D,M,U,q){if($.length===0)return-1;if(typeof M=="string"?(U=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,isNaN(M)&&(M=q?0:$.length-1),M<0&&(M=$.length+M),M>=$.length){if(q)return-1;M=$.length-1}else if(M<0){if(!q)return-1;M=0}if(typeof D=="string"&&(D=e.from(D,U)),e.isBuffer(D))return D.length===0?-1:p($,D,M,U,q);if(typeof D=="number")return D&=255,e.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?q?Uint8Array.prototype.indexOf.call($,D,M):Uint8Array.prototype.lastIndexOf.call($,D,M):p($,[D],M,U,q);throw new TypeError("val must be string, number or Buffer")}function p($,D,M,U,q){var X,nt=1,J=$.length,rt=D.length;if(U!==void 0&&((U=String(U).toLowerCase())==="ucs2"||U==="ucs-2"||U==="utf16le"||U==="utf-16le")){if($.length<2||D.length<2)return-1;nt=2,J/=2,rt/=2,M/=2}function ct(kt,bt){return nt===1?kt[bt]:kt.readUInt16BE(bt*nt)}if(q){var lt=-1;for(X=M;X<J;X++)if(ct($,X)===ct(D,lt===-1?0:X-lt)){if(lt===-1&&(lt=X),X-lt+1===rt)return lt*nt}else lt!==-1&&(X-=X-lt),lt=-1}else for(M+rt>J&&(M=J-rt),X=M;X>=0;X--){for(var ht=!0,pt=0;pt<rt;pt++)if(ct($,X+pt)!==ct(D,pt)){ht=!1;break}if(ht)return X}return-1}function v($,D,M,U){M=Number(M)||0;var q=$.length-M;U?(U=Number(U))>q&&(U=q):U=q;var X=D.length;if(X%2!=0)throw new TypeError("Invalid hex string");U>X/2&&(U=X/2);for(var nt=0;nt<U;++nt){var J=parseInt(D.substr(2*nt,2),16);if(isNaN(J))return nt;$[M+nt]=J}return nt}function y($,D,M,U){return O(Q(D,$.length-M),$,M,U)}function m($,D,M,U){return O(function(q){for(var X=[],nt=0;nt<q.length;++nt)X.push(255&q.charCodeAt(nt));return X}(D),$,M,U)}function b($,D,M,U){return m($,D,M,U)}function k($,D,M,U){return O(W(D),$,M,U)}function C($,D,M,U){return O(function(q,X){for(var nt,J,rt,ct=[],lt=0;lt<q.length&&!((X-=2)<0);++lt)nt=q.charCodeAt(lt),J=nt>>8,rt=nt%256,ct.push(rt),ct.push(J);return ct}(D,$.length-M),$,M,U)}function w($,D,M){return D===0&&M===$.length?u.fromByteArray($):u.fromByteArray($.slice(D,M))}function T($,D,M){M=Math.min($.length,M);for(var U=[],q=D;q<M;){var X,nt,J,rt,ct=$[q],lt=null,ht=ct>239?4:ct>223?3:ct>191?2:1;if(q+ht<=M)switch(ht){case 1:ct<128&&(lt=ct);break;case 2:(192&(X=$[q+1]))==128&&(rt=(31&ct)<<6|63&X)>127&&(lt=rt);break;case 3:X=$[q+1],nt=$[q+2],(192&X)==128&&(192&nt)==128&&(rt=(15&ct)<<12|(63&X)<<6|63&nt)>2047&&(rt<55296||rt>57343)&&(lt=rt);break;case 4:X=$[q+1],nt=$[q+2],J=$[q+3],(192&X)==128&&(192&nt)==128&&(192&J)==128&&(rt=(15&ct)<<18|(63&X)<<12|(63&nt)<<6|63&J)>65535&&rt<1114112&&(lt=rt)}lt===null?(lt=65533,ht=1):lt>65535&&(lt-=65536,U.push(lt>>>10&1023|55296),lt=56320|1023&lt),U.push(lt),q+=ht}return function(pt){var kt=pt.length;if(kt<=E)return String.fromCharCode.apply(String,pt);for(var bt="",St=0;St<kt;)bt+=String.fromCharCode.apply(String,pt.slice(St,St+=E));return bt}(U)}x.Buffer=e,x.SlowBuffer=function($){return+$!=$&&($=0),e.alloc(+$)},x.INSPECT_MAX_BYTES=50,e.TYPED_ARRAY_SUPPORT=_.TYPED_ARRAY_SUPPORT!==void 0?_.TYPED_ARRAY_SUPPORT:function(){try{var $=new Uint8Array(1);return $.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},$.foo()===42&&typeof $.subarray=="function"&&$.subarray(1,1).byteLength===0}catch{return!1}}(),x.kMaxLength=i(),e.poolSize=8192,e._augment=function($){return $.__proto__=e.prototype,$},e.from=function($,D,M){return t(null,$,D,M)},e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&e[Symbol.species]===e&&Object.defineProperty(e,Symbol.species,{value:null,configurable:!0})),e.alloc=function($,D,M){return function(U,q,X,nt){return n(q),q<=0?o(U,q):X!==void 0?typeof nt=="string"?o(U,q).fill(X,nt):o(U,q).fill(X):o(U,q)}(null,$,D,M)},e.allocUnsafe=function($){return a(null,$)},e.allocUnsafeSlow=function($){return a(null,$)},e.isBuffer=function($){return!($==null||!$._isBuffer)},e.compare=function($,D){if(!e.isBuffer($)||!e.isBuffer(D))throw new TypeError("Arguments must be Buffers");if($===D)return 0;for(var M=$.length,U=D.length,q=0,X=Math.min(M,U);q<X;++q)if($[q]!==D[q]){M=$[q],U=D[q];break}return M<U?-1:U<M?1:0},e.isEncoding=function($){switch(String($).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function($,D){if(!c($))throw new TypeError('"list" argument must be an Array of Buffers');if($.length===0)return e.alloc(0);var M;if(D===void 0)for(D=0,M=0;M<$.length;++M)D+=$[M].length;var U=e.allocUnsafe(D),q=0;for(M=0;M<$.length;++M){var X=$[M];if(!e.isBuffer(X))throw new TypeError('"list" argument must be an Array of Buffers');X.copy(U,q),q+=X.length}return U},e.byteLength=d,e.prototype._isBuffer=!0,e.prototype.swap16=function(){var $=this.length;if($%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<$;D+=2)f(this,D,D+1);return this},e.prototype.swap32=function(){var $=this.length;if($%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<$;D+=4)f(this,D,D+3),f(this,D+1,D+2);return this},e.prototype.swap64=function(){var $=this.length;if($%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<$;D+=8)f(this,D,D+7),f(this,D+1,D+6),f(this,D+2,D+5),f(this,D+3,D+4);return this},e.prototype.toString=function(){var $=0|this.length;return $===0?"":arguments.length===0?T(this,0,$):(function(D,M,U){var q=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0)<=(M>>>=0))return"";for(D||(D="utf8");;)switch(D){case"hex":return N(this,M,U);case"utf8":case"utf-8":return T(this,M,U);case"ascii":return P(this,M,U);case"latin1":case"binary":return j(this,M,U);case"base64":return w(this,M,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,M,U);default:if(q)throw new TypeError("Unknown encoding: "+D);D=(D+"").toLowerCase(),q=!0}}).apply(this,arguments)},e.prototype.equals=function($){if(!e.isBuffer($))throw new TypeError("Argument must be a Buffer");return this===$||e.compare(this,$)===0},e.prototype.inspect=function(){var $="",D=x.INSPECT_MAX_BYTES;return this.length>0&&($=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&($+=" ... ")),"<Buffer "+$+">"},e.prototype.compare=function($,D,M,U,q){if(!e.isBuffer($))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),M===void 0&&(M=$?$.length:0),U===void 0&&(U=0),q===void 0&&(q=this.length),D<0||M>$.length||U<0||q>this.length)throw new RangeError("out of range index");if(U>=q&&D>=M)return 0;if(U>=q)return-1;if(D>=M)return 1;if(D>>>=0,M>>>=0,U>>>=0,q>>>=0,this===$)return 0;for(var X=q-U,nt=M-D,J=Math.min(X,nt),rt=this.slice(U,q),ct=$.slice(D,M),lt=0;lt<J;++lt)if(rt[lt]!==ct[lt]){X=rt[lt],nt=ct[lt];break}return X<nt?-1:nt<X?1:0},e.prototype.includes=function($,D,M){return this.indexOf($,D,M)!==-1},e.prototype.indexOf=function($,D,M){return g(this,$,D,M,!0)},e.prototype.lastIndexOf=function($,D,M){return g(this,$,D,M,!1)},e.prototype.write=function($,D,M,U){if(D===void 0)U="utf8",M=this.length,D=0;else if(M===void 0&&typeof D=="string")U=D,M=this.length,D=0;else{if(!isFinite(D))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");D|=0,isFinite(M)?(M|=0,U===void 0&&(U="utf8")):(U=M,M=void 0)}var q=this.length-D;if((M===void 0||M>q)&&(M=q),$.length>0&&(M<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");U||(U="utf8");for(var X=!1;;)switch(U){case"hex":return v(this,$,D,M);case"utf8":case"utf-8":return y(this,$,D,M);case"ascii":return m(this,$,D,M);case"latin1":case"binary":return b(this,$,D,M);case"base64":return k(this,$,D,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,$,D,M);default:if(X)throw new TypeError("Unknown encoding: "+U);U=(""+U).toLowerCase(),X=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var E=4096;function P($,D,M){var U="";M=Math.min($.length,M);for(var q=D;q<M;++q)U+=String.fromCharCode(127&$[q]);return U}function j($,D,M){var U="";M=Math.min($.length,M);for(var q=D;q<M;++q)U+=String.fromCharCode($[q]);return U}function N($,D,M){var U=$.length;(!D||D<0)&&(D=0),(!M||M<0||M>U)&&(M=U);for(var q="",X=D;X<M;++X)q+=K($[X]);return q}function L($,D,M){for(var U=$.slice(D,M),q="",X=0;X<U.length;X+=2)q+=String.fromCharCode(U[X]+256*U[X+1]);return q}function B($,D,M){if($%1!=0||$<0)throw new RangeError("offset is not uint");if($+D>M)throw new RangeError("Trying to access beyond buffer length")}function I($,D,M,U,q,X){if(!e.isBuffer($))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>q||D<X)throw new RangeError('"value" argument is out of bounds');if(M+U>$.length)throw new RangeError("Index out of range")}function V($,D,M,U){D<0&&(D=65535+D+1);for(var q=0,X=Math.min($.length-M,2);q<X;++q)$[M+q]=(D&255<<8*(U?q:1-q))>>>8*(U?q:1-q)}function Y($,D,M,U){D<0&&(D=4294967295+D+1);for(var q=0,X=Math.min($.length-M,4);q<X;++q)$[M+q]=D>>>8*(U?q:3-q)&255}function H($,D,M,U,q,X){if(M+U>$.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function F($,D,M,U,q){return q||H($,0,M,4),s.write($,D,M,U,23,4),M+4}function G($,D,M,U,q){return q||H($,0,M,8),s.write($,D,M,U,52,8),M+8}e.prototype.slice=function($,D){var M,U=this.length;if($=~~$,D=D===void 0?U:~~D,$<0?($+=U)<0&&($=0):$>U&&($=U),D<0?(D+=U)<0&&(D=0):D>U&&(D=U),D<$&&(D=$),e.TYPED_ARRAY_SUPPORT)(M=this.subarray($,D)).__proto__=e.prototype;else{var q=D-$;M=new e(q,void 0);for(var X=0;X<q;++X)M[X]=this[X+$]}return M},e.prototype.readUIntLE=function($,D,M){$|=0,D|=0,M||B($,D,this.length);for(var U=this[$],q=1,X=0;++X<D&&(q*=256);)U+=this[$+X]*q;return U},e.prototype.readUIntBE=function($,D,M){$|=0,D|=0,M||B($,D,this.length);for(var U=this[$+--D],q=1;D>0&&(q*=256);)U+=this[$+--D]*q;return U},e.prototype.readUInt8=function($,D){return D||B($,1,this.length),this[$]},e.prototype.readUInt16LE=function($,D){return D||B($,2,this.length),this[$]|this[$+1]<<8},e.prototype.readUInt16BE=function($,D){return D||B($,2,this.length),this[$]<<8|this[$+1]},e.prototype.readUInt32LE=function($,D){return D||B($,4,this.length),(this[$]|this[$+1]<<8|this[$+2]<<16)+16777216*this[$+3]},e.prototype.readUInt32BE=function($,D){return D||B($,4,this.length),16777216*this[$]+(this[$+1]<<16|this[$+2]<<8|this[$+3])},e.prototype.readIntLE=function($,D,M){$|=0,D|=0,M||B($,D,this.length);for(var U=this[$],q=1,X=0;++X<D&&(q*=256);)U+=this[$+X]*q;return U>=(q*=128)&&(U-=Math.pow(2,8*D)),U},e.prototype.readIntBE=function($,D,M){$|=0,D|=0,M||B($,D,this.length);for(var U=D,q=1,X=this[$+--U];U>0&&(q*=256);)X+=this[$+--U]*q;return X>=(q*=128)&&(X-=Math.pow(2,8*D)),X},e.prototype.readInt8=function($,D){return D||B($,1,this.length),128&this[$]?-1*(255-this[$]+1):this[$]},e.prototype.readInt16LE=function($,D){D||B($,2,this.length);var M=this[$]|this[$+1]<<8;return 32768&M?4294901760|M:M},e.prototype.readInt16BE=function($,D){D||B($,2,this.length);var M=this[$+1]|this[$]<<8;return 32768&M?4294901760|M:M},e.prototype.readInt32LE=function($,D){return D||B($,4,this.length),this[$]|this[$+1]<<8|this[$+2]<<16|this[$+3]<<24},e.prototype.readInt32BE=function($,D){return D||B($,4,this.length),this[$]<<24|this[$+1]<<16|this[$+2]<<8|this[$+3]},e.prototype.readFloatLE=function($,D){return D||B($,4,this.length),s.read(this,$,!0,23,4)},e.prototype.readFloatBE=function($,D){return D||B($,4,this.length),s.read(this,$,!1,23,4)},e.prototype.readDoubleLE=function($,D){return D||B($,8,this.length),s.read(this,$,!0,52,8)},e.prototype.readDoubleBE=function($,D){return D||B($,8,this.length),s.read(this,$,!1,52,8)},e.prototype.writeUIntLE=function($,D,M,U){$=+$,D|=0,M|=0,U||I(this,$,D,M,Math.pow(2,8*M)-1,0);var q=1,X=0;for(this[D]=255&$;++X<M&&(q*=256);)this[D+X]=$/q&255;return D+M},e.prototype.writeUIntBE=function($,D,M,U){$=+$,D|=0,M|=0,U||I(this,$,D,M,Math.pow(2,8*M)-1,0);var q=M-1,X=1;for(this[D+q]=255&$;--q>=0&&(X*=256);)this[D+q]=$/X&255;return D+M},e.prototype.writeUInt8=function($,D,M){return $=+$,D|=0,M||I(this,$,D,1,255,0),e.TYPED_ARRAY_SUPPORT||($=Math.floor($)),this[D]=255&$,D+1},e.prototype.writeUInt16LE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[D]=255&$,this[D+1]=$>>>8):V(this,$,D,!0),D+2},e.prototype.writeUInt16BE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[D]=$>>>8,this[D+1]=255&$):V(this,$,D,!1),D+2},e.prototype.writeUInt32LE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[D+3]=$>>>24,this[D+2]=$>>>16,this[D+1]=$>>>8,this[D]=255&$):Y(this,$,D,!0),D+4},e.prototype.writeUInt32BE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[D]=$>>>24,this[D+1]=$>>>16,this[D+2]=$>>>8,this[D+3]=255&$):Y(this,$,D,!1),D+4},e.prototype.writeIntLE=function($,D,M,U){if($=+$,D|=0,!U){var q=Math.pow(2,8*M-1);I(this,$,D,M,q-1,-q)}var X=0,nt=1,J=0;for(this[D]=255&$;++X<M&&(nt*=256);)$<0&&J===0&&this[D+X-1]!==0&&(J=1),this[D+X]=($/nt>>0)-J&255;return D+M},e.prototype.writeIntBE=function($,D,M,U){if($=+$,D|=0,!U){var q=Math.pow(2,8*M-1);I(this,$,D,M,q-1,-q)}var X=M-1,nt=1,J=0;for(this[D+X]=255&$;--X>=0&&(nt*=256);)$<0&&J===0&&this[D+X+1]!==0&&(J=1),this[D+X]=($/nt>>0)-J&255;return D+M},e.prototype.writeInt8=function($,D,M){return $=+$,D|=0,M||I(this,$,D,1,127,-128),e.TYPED_ARRAY_SUPPORT||($=Math.floor($)),$<0&&($=255+$+1),this[D]=255&$,D+1},e.prototype.writeInt16LE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[D]=255&$,this[D+1]=$>>>8):V(this,$,D,!0),D+2},e.prototype.writeInt16BE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[D]=$>>>8,this[D+1]=255&$):V(this,$,D,!1),D+2},e.prototype.writeInt32LE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[D]=255&$,this[D+1]=$>>>8,this[D+2]=$>>>16,this[D+3]=$>>>24):Y(this,$,D,!0),D+4},e.prototype.writeInt32BE=function($,D,M){return $=+$,D|=0,M||I(this,$,D,4,2147483647,-2147483648),$<0&&($=4294967295+$+1),e.TYPED_ARRAY_SUPPORT?(this[D]=$>>>24,this[D+1]=$>>>16,this[D+2]=$>>>8,this[D+3]=255&$):Y(this,$,D,!1),D+4},e.prototype.writeFloatLE=function($,D,M){return F(this,$,D,!0,M)},e.prototype.writeFloatBE=function($,D,M){return F(this,$,D,!1,M)},e.prototype.writeDoubleLE=function($,D,M){return G(this,$,D,!0,M)},e.prototype.writeDoubleBE=function($,D,M){return G(this,$,D,!1,M)},e.prototype.copy=function($,D,M,U){if(M||(M=0),U||U===0||(U=this.length),D>=$.length&&(D=$.length),D||(D=0),U>0&&U<M&&(U=M),U===M||$.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(M<0||M>=this.length)throw new RangeError("sourceStart out of bounds");if(U<0)throw new RangeError("sourceEnd out of bounds");U>this.length&&(U=this.length),$.length-D<U-M&&(U=$.length-D+M);var q,X=U-M;if(this===$&&M<D&&D<U)for(q=X-1;q>=0;--q)$[q+D]=this[q+M];else if(X<1e3||!e.TYPED_ARRAY_SUPPORT)for(q=0;q<X;++q)$[q+D]=this[q+M];else Uint8Array.prototype.set.call($,this.subarray(M,M+X),D);return X},e.prototype.fill=function($,D,M,U){if(typeof $=="string"){if(typeof D=="string"?(U=D,D=0,M=this.length):typeof M=="string"&&(U=M,M=this.length),$.length===1){var q=$.charCodeAt(0);q<256&&($=q)}if(U!==void 0&&typeof U!="string")throw new TypeError("encoding must be a string");if(typeof U=="string"&&!e.isEncoding(U))throw new TypeError("Unknown encoding: "+U)}else typeof $=="number"&&($&=255);if(D<0||this.length<D||this.length<M)throw new RangeError("Out of range index");if(M<=D)return this;var X;if(D>>>=0,M=M===void 0?this.length:M>>>0,$||($=0),typeof $=="number")for(X=D;X<M;++X)this[X]=$;else{var nt=e.isBuffer($)?$:Q(new e($,U).toString()),J=nt.length;for(X=0;X<M-D;++X)this[X+D]=nt[X%J]}return this};var R=/[^+\/0-9A-Za-z-_]/g;function K($){return $<16?"0"+$.toString(16):$.toString(16)}function Q($,D){var M;D=D||1/0;for(var U=$.length,q=null,X=[],nt=0;nt<U;++nt){if((M=$.charCodeAt(nt))>55295&&M<57344){if(!q){if(M>56319){(D-=3)>-1&&X.push(239,191,189);continue}if(nt+1===U){(D-=3)>-1&&X.push(239,191,189);continue}q=M;continue}if(M<56320){(D-=3)>-1&&X.push(239,191,189),q=M;continue}M=65536+(q-55296<<10|M-56320)}else q&&(D-=3)>-1&&X.push(239,191,189);if(q=null,M<128){if((D-=1)<0)break;X.push(M)}else if(M<2048){if((D-=2)<0)break;X.push(M>>6|192,63&M|128)}else if(M<65536){if((D-=3)<0)break;X.push(M>>12|224,M>>6&63|128,63&M|128)}else{if(!(M<1114112))throw new Error("Invalid code point");if((D-=4)<0)break;X.push(M>>18|240,M>>12&63|128,M>>6&63|128,63&M|128)}}return X}function W($){return u.toByteArray(function(D){if((D=function(M){return M.trim?M.trim():M.replace(/^\s+|\s+$/g,"")}(D).replace(R,"")).length<2)return"";for(;D.length%4!=0;)D+="=";return D}($))}function O($,D,M,U){for(var q=0;q<U&&!(q+M>=D.length||q>=$.length);++q)D[q+M]=$[q];return q}}).call(this,h(4))},function(S,x,h){var _=h(8);S.exports=function(u){return _.isNode||!u.$root}},function(S,x){S.exports=function(h,_,u,s){return(s=_?_.config:s)&&s.placeholder_task&&u.exists(h)?u.getItem(h).type===s.types.placeholder:!1}},function(S,x,h){(function(_){var u;u=typeof window<"u"?window:_,S.exports=u}).call(this,h(4))},function(S,x,h){(function(_){function u(c){"@babel/helpers - typeof";return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}function s(c){return Object.prototype.toString.call(c)}x.isArray=function(c){return Array.isArray?Array.isArray(c):s(c)==="[object Array]"},x.isBoolean=function(c){return typeof c=="boolean"},x.isNull=function(c){return c===null},x.isNullOrUndefined=function(c){return c==null},x.isNumber=function(c){return typeof c=="number"},x.isString=function(c){return typeof c=="string"},x.isSymbol=function(c){return u(c)==="symbol"},x.isUndefined=function(c){return c===void 0},x.isRegExp=function(c){return s(c)==="[object RegExp]"},x.isObject=function(c){return u(c)==="object"&&c!==null},x.isDate=function(c){return s(c)==="[object Date]"},x.isError=function(c){return s(c)==="[object Error]"||c instanceof Error},x.isFunction=function(c){return typeof c=="function"},x.isPrimitive=function(c){return c===null||typeof c=="boolean"||typeof c=="number"||typeof c=="string"||u(c)==="symbol"||c===void 0},x.isBuffer=_.isBuffer}).call(this,h(14).Buffer)},function(S,x){S.exports=function(h,_,u,s,c){if(!h.start_date||!h.end_date)return null;var i=u.getItemTop(h.id),o=u.getItemHeight(h.id);if(i>_.y_end||i+o<_.y)return!1;var e=u.posFromDate(h.start_date),t=u.posFromDate(h.end_date),n=Math.min(e,t)-200,a=Math.max(e,t)+200;return!(n>_.x_end||a<_.x)}},function(S,x){S.exports=function(h){return h.config.smart_rendering&&h._smart_render}},function(S,x,h){var _=h(14),u=_.Buffer;function s(i,o){for(var e in i)o[e]=i[e]}function c(i,o,e){return u(i,o,e)}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?S.exports=_:(s(_,x),x.Buffer=c),s(u,c),c.from=function(i,o,e){if(typeof i=="number")throw new TypeError("Argument must not be a number");return u(i,o,e)},c.alloc=function(i,o,e){if(typeof i!="number")throw new TypeError("Argument must be a number");var t=u(i);return o!==void 0?typeof e=="string"?t.fill(o,e):t.fill(o):t.fill(0),t},c.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return u(i)},c.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return _.SlowBuffer(i)}},function(S,x,h){(function(_){!_.version||_.version.indexOf("v0.")===0||_.version.indexOf("v1.")===0&&_.version.indexOf("v1.8.")!==0?S.exports={nextTick:function(u,s,c,i){if(typeof u!="function")throw new TypeError('"callback" argument must be a function');var o,e,t=arguments.length;switch(t){case 0:case 1:return _.nextTick(u);case 2:return _.nextTick(function(){u.call(null,s)});case 3:return _.nextTick(function(){u.call(null,s,c)});case 4:return _.nextTick(function(){u.call(null,s,c,i)});default:for(o=new Array(t-1),e=0;e<o.length;)o[e++]=arguments[e];return _.nextTick(function(){u.apply(null,o)})}}}:S.exports=_}).call(this,h(10))},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(){this.link=null,this.task=null,this.start_date=null,this.end_date=null,this.latestStart=null,this.earliestStart=null,this.earliestEnd=null,this.latestEnd=null,this.latestSchedulingStart=null,this.earliestSchedulingStart=null,this.latestSchedulingEnd=null,this.earliestSchedulingEnd=null,this.kind="asap",this.conflict=!1}return u.Create=function(s){var c=new u;if(s)for(var i in c)s[i]!==void 0&&(c[i]=s[i]);return c},u}();x.TaskPlan=_},function(S,x,h){var _=h(2),u={getHtmlSelect:function(i,o,e){var t="",n=this;return i=i||[],_.forEach(i,function(a){var r=[{key:"value",value:a.key}];e==a.key&&(r[r.length]={key:"selected",value:"selected"}),a.attributes&&(r=r.concat(a.attributes)),t+=n.getHtmlOption({innerHTML:a.label},r)}),s("select",{innerHTML:t},o)},getHtmlOption:function(i,o){return s("option",i,o)},getHtmlButton:function(i,o){return s("button",i,o)},getHtmlDiv:function(i,o){return s("div",i,o)},getHtmlLabel:function(i,o){return s("label",i,o)},getHtmlInput:function(i){return"<input"+c(i||[])+">"}};function s(i,o,e){return o=o||[],"<"+i+c(e||[])+">"+(o.innerHTML||"")+"</"+i+">"}function c(i){var o="";return _.forEach(i,function(e){o+=" "+e.key+"='"+e.value+"'"}),o}S.exports=u},function(S,x,h){var _=h(3),u=h(24);S.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}return _(i,c),i.prototype.render=function(o){var e="<div class='gantt_cal_ltext' style='height:"+((o.height||"23")+"px")+";'>";return e+=u.getHtmlSelect(o.options,[{key:"style",value:"width:100%;"}]),e+="</div>"},i.prototype.set_value=function(o,e,t,n){var a=o.firstChild;!a._dhx_onchange&&n.onchange&&(a.onchange=n.onchange,a._dhx_onchange=!0),e===void 0&&(e=(a.options[0]||{}).value),a.value=e||""},i.prototype.get_value=function(o){return o.firstChild.value},i.prototype.focus=function(o){var e=o.firstChild;s._focus(e,!0)},i}},function(S,x,h){var _=h(0);S.exports={createDropTargetObject:function(u){var s={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return u&&_.mixin(s,u,!0),s},nextSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.nextSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),(c.getParent(u)!=i.targetParent||i.targetIndex<c.getBranchIndex(u))&&(i.targetIndex+=1),i},prevSiblingTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.prevSibling=!0,i.targetParent=c.getParent(i.targetId),i.targetIndex=c.getBranchIndex(i.targetId),c.getParent(u)==i.targetParent&&i.targetIndex>c.getBranchIndex(u)&&(i.targetIndex-=1),i},firstChildTarget:function(u,s,c){var i=this.createDropTargetObject();return i.targetId=s,i.targetParent=i.targetId,i.targetIndex=0,i.child=!0,i},lastChildTarget:function(u,s,c){var i=c.getChildren(s),o=this.createDropTargetObject();return o.targetId=i[i.length-1],o.targetParent=s,o.targetIndex=i.length,o.nextSibling=!0,o}}},function(S,x,h){var _=h(20);S.exports=function(u,s,c,i){var o=s.width[u];if(o<=0)return!1;if(!i.config.smart_rendering||_(i))return!0;var e=s.left[u]-o,t=s.left[u]+o;return e<=c.x_end&&t>=c.x}},function(S,x){S.exports=function(h,_){var u=0,s=h.left.length-1;if(_)for(var c=0;c<h.left.length;c++){var i=h.left[c];if(i<_.x&&(u=c),i>_.x_end){s=c;break}}return{start:u,end:s}}},function(S,x){S.exports=function(h,_,u){return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:0,right:1/0}}},function(S,x){S.exports=function(h){function _(i,o,e){if(!h._isAllowedUnscheduledTask(i)&&h._isTaskInTimelineLimits(i)){var t=o.getItemPosition(i),n=e,a=o.$getTemplates(),r=h.getTaskType(i.type),l=o.getBarHeight(i.id,r==n.types.milestone),d=0;r==n.types.milestone&&(d=(l-t.height)/2);var f=Math.floor((o.getItemHeight(i.id)-l)/2);r==n.types.milestone&&(t.left-=Math.round(l/2),t.width=l);var g=document.createElement("div"),p=Math.round(t.width);o.$config.item_attribute&&(g.setAttribute(o.$config.item_attribute,i.id),g.setAttribute(o.$config.bind+"_id",i.id)),n.show_progress&&r!=n.types.milestone&&function(C,w,T,E,P){var j=1*C.progress||0;T=Math.max(T-2,0);var N=document.createElement("div"),L=Math.round(T*j);L=Math.min(T,L),C.progressColor&&(N.style.backgroundColor=C.progressColor,N.style.opacity=1),N.style.width=L+"px",N.className="gantt_task_progress",N.innerHTML=P.progress_text(C.start_date,C.end_date,C),E.rtl&&(N.style.position="absolute",N.style.right="0px");var B=document.createElement("div");if(B.className="gantt_task_progress_wrapper",B.appendChild(N),w.appendChild(B),h.config.drag_progress&&!h.isReadonly(C)){var I=document.createElement("div"),V=L;E.rtl&&(V=T-L),I.style.left=V+"px",I.className="gantt_task_progress_drag",N.appendChild(I),w.appendChild(I)}}(i,g,p,n,a);var v=function(C,w,T){var E=document.createElement("div");return h.getTaskType(C.type)!=h.config.types.milestone?E.innerHTML=T.task_text(C.start_date,C.end_date,C):h.getTaskType(C.type)==h.config.types.milestone&&w&&(E.style.height=E.style.width=w+"px"),E.className="gantt_task_content",E}(i,p,a);i.textColor&&(v.style.color=i.textColor),g.appendChild(v);var y=function(C,w,T,E){var P=E.$getConfig(),j=[C];w&&j.push(w);var N=h.getState(),L=h.getTask(T);if(h.getTaskType(L.type)==P.types.milestone?j.push("gantt_milestone"):h.getTaskType(L.type)==P.types.project&&j.push("gantt_project"),j.push("gantt_bar_"+h.getTaskType(L.type)),h.isSummaryTask(L)&&j.push("gantt_dependent_task"),h.isSplitTask(L)&&(P.open_split_tasks&&!L.$open||!P.open_split_tasks)&&j.push("gantt_split_parent"),P.select_task&&h.isSelectedTask(T)&&j.push("gantt_selected"),T==N.drag_id&&(j.push("gantt_drag_"+N.drag_mode),N.touch_drag&&j.push("gantt_touch_"+N.drag_mode)),N.link_source_id==T&&j.push("gantt_link_source"),N.link_target_id==T&&j.push("gantt_link_target"),P.highlight_critical_path&&h.isCriticalTask&&h.isCriticalTask(L)&&j.push("gantt_critical_task"),N.link_landing_area&&N.link_target_id&&N.link_source_id&&N.link_target_id!=N.link_source_id&&(N.link_target_id==T||N.link_source_id==T)){var B=N.link_source_id,I=N.link_from_start,V=N.link_to_start,Y=h.isLinkAllowed(B,T,I,V),H="";H=Y?V?"link_start_allow":"link_finish_allow":V?"link_start_deny":"link_finish_deny",j.push(H)}return j.join(" ")}("gantt_task_line",a.task_class(i.start_date,i.end_date,i),i.id,o);(i.color||i.progressColor||i.textColor)&&(y+=" gantt_task_inline_color"),t.width<20&&(y+=" gantt_thin_task"),g.className=y;var m=["left:"+t.left+"px","top:"+(f+t.top)+"px","height:"+(r==n.types.milestone?t.height:l)+"px","line-height:"+Math.max(l<30?l-2:l,0)+"px","width:"+p+"px"];i.color&&m.push("background-color:"+i.color),i.textColor&&m.push("color:"+i.textColor),g.style.cssText=m.join(";");var b=function(C,w,T,E){var P="gantt_left "+s(!w.rtl,C),j=null;return E&&(j={type:"marginRight",value:E}),u(C,T.leftside_text,P,j)}(i,n,a,d);b&&g.appendChild(b),(b=function(C,w,T,E){var P="gantt_right "+s(!!w.rtl,C),j=null;return E&&(j={type:"marginLeft",value:E}),u(C,T.rightside_text,P,j)}(i,n,a,d))&&g.appendChild(b),h._waiAria.setTaskBarAttr(i,g);var k=h.getState();return h.isReadonly(i)||(n.drag_resize&&!h.isSummaryTask(i)&&r!=n.types.milestone&&c(g,"gantt_task_drag",i,function(C){var w=document.createElement("div");return w.className=C,w},n),n.drag_links&&n.show_links&&c(g,"gantt_link_control",i,function(C){var w=document.createElement("div");w.className=C,w.style.cssText=["height:"+l+"px","line-height:"+l+"px"].join(";");var T=document.createElement("div");T.className="gantt_link_point";var E=!1;return k.link_source_id&&n.touch&&(E=!0),T.style.display=E?"block":"",w.appendChild(T),w},n,d)),g}}function u(i,o,e,t){if(!o)return null;var n=o(i.start_date,i.end_date,i);if(!n)return null;var a=document.createElement("div");return a.className="gantt_side_content "+e,a.innerHTML=n,t&&(a.style[t.type]=Math.abs(t.value)+"px"),a}function s(i,o){var e=function(d){return d?{$source:[h.config.links.start_to_start],$target:[h.config.links.start_to_start,h.config.links.finish_to_start]}:{$source:[h.config.links.finish_to_start,h.config.links.finish_to_finish],$target:[h.config.links.finish_to_finish]}}(i);for(var t in e)for(var n=o[t],a=0;a<n.length;a++)for(var r=h.getLink(n[a]),l=0;l<e[t].length;l++)if(r.type==e[t][l])return"gantt_link_crossing";return""}function c(i,o,e,t,n,a){var r,l=h.getState();+e.start_date>=+l.min_date&&((r=t([o,n.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),a&&(r.style.marginLeft=a+"px"),i.appendChild(r)),+e.end_date<=+l.max_date&&((r=t([o,n.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),a&&(r.style.marginRight=a+"px"),i.appendChild(r))}return function(i,o,e){var t=(e=o.$getConfig()).type_renderers[h.getTaskType(i.type)],n=_;return t?t.call(h,i,function(a){return n.call(h,a,o,e)},o):n.call(h,i,o,e)}}},function(S,x,h){var _=h(2);function u(s){if(s._delayRender&&s._delayRender.$cancelTimeout(),s.$gantt){var c=s.$gantt.$data.tasksStore,i=s.$config.rowStore,o="_attached_"+i.$config.name;s[o]&&(c.detachEvent(s[o]),s[o]=null),i.$attachedResourceViewHandler&&(i.detachEvent(i.$attachedResourceViewHandler),i.$attachedResourceViewHandler=null,c.detachEvent(i.$attachedTaskStoreHandler),i.$attachedTaskStoreHandler=null)}}S.exports=function(s){var c=s.prototype.init,i=s.prototype.destructor;return{init:function(){c.apply(this,arguments),this._linkToTaskStore()},destructor:function(){u(this),i.apply(this,arguments)},_linkToTaskStore:function(){if(this.$config.rowStore&&this.$gantt.$data.tasksStore){var o=this.$gantt.$data.tasksStore,e=this.$config.rowStore;u(this);var t=this,n=_.delay(function(){t.$gantt.getState().lightbox?n():t.$config.rowStore.refresh()},300);this._delayRender=n;var a="_attached_"+e.$config.name;t[a]||(t[a]=o.attachEvent("onStoreUpdated",function(){return n.$pending||n(),!0})),this.$gantt.attachEvent("onDestroy",function(){return u(t),!0}),e.$attachedResourceViewHandler||(e.$attachedResourceViewHandler=e.attachEvent("onBeforeFilter",function(){return!t.$gantt.getState().lightbox&&(n.$pending&&n.$cancelTimeout(),t._updateNestedTasks(),!0)}),e.$attachedTaskStoreHandler=o.attachEvent("onAfterDelete",function(){e._mark_recompute=!0}))}},_updateNestedTasks:function(){var o=this.$gantt,e=o.getDatastore(o.config.resource_store);e.$config.fetchTasks&&e.silent(function(){var t=[],n={},a={};for(var r in e.eachItem(function(l){if(l.$role!="task"){var d=o.getResourceAssignments(l.id),f={};d.sort(function(g,p){var v=e.pull,y=v["".concat(g.task_id,"_").concat(g.resource_id)],m=v["".concat(p.task_id,"_").concat(p.resource_id)];return y&&m?y.$local_index-m.$local_index:0}),d.forEach(function(g){if(!f[g.task_id]){f[g.task_id]=!0;var p=o.getTask(g.task_id),v=Object.create(p);v.id=p.id+"_"+l.id,v.$task_id=p.id,v.$resource_id=l.id,v[e.$parentProperty]=l.id,v.$role="task",t.push(v),n[v.id]=!0}})}else a[l.id]=!0}),a)n[r]||e.removeItem(r);t.length&&e.parse(t)})}}}},function(S,x){S.exports=function(h,_,u){return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:0,right:1/0}}},function(S,x){S.exports=function(h){var _=[];return{delegate:function(u,s,c,i){_.push([u,s,c,i]),h.$services.getService("mouseEvents").delegate(u,s,c,i)},destructor:function(){for(var u=h.$services.getService("mouseEvents"),s=0;s<_.length;s++){var c=_[s];u.detach(c[0],c[1],c[2],c[3])}_=[]}}}},function(S,x,h){var _=h(1),u=h(0),s=h(5),c=h(222),i=h(47),o=h(220),e=h(219).default,t=function(n,a,r,l){this.$config=u.mixin({},a||{}),this.$gantt=l,this.$parent=n,s(this),this.$state={},u.mixin(this,i(this))};t.prototype={init:function(n){var a=this.$gantt,r=a._waiAria.gridAttrString(),l=a._waiAria.gridDataAttrString(),d=this.$getConfig(),f=d.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(f=this.$config.reorder_grid_columns),n.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+r+"></div>",this.$grid=n.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+a._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+l+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var g=d[this.$config.bind+"_attribute"];if(!g&&this.$config.bind&&(g="data-"+this.$config.bind+"-id"),this.$config.item_attribute=g||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var v=c(a,this);v.init(),this._renderHeaderResizers=v.doOnRender,this._mouseDelegates=h(33)(a),o(a,this).init(),this._addLayers(this.$gantt),this._initEvents(),f&&(this._columnDND=new e(a,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(n,a){var r=n[a];if(r&&r!="*"){var l=this.$gantt,d=1*r;isNaN(d)?l.assert(!1,"Wrong "+a+" value of column "+n.name):n[a]=d}},setSize:function(n,a){this.$config.width=this.$state.width=n,this.$config.height=this.$state.height=a;for(var r,l=this.getGridColumns(),d=0,f=(b=this.$getConfig()).grid_elastic_columns,g=0,p=l.length;g<p;g++)this._validateColumnWidth(l[g],"min_width"),this._validateColumnWidth(l[g],"max_width"),this._validateColumnWidth(l[g],"width"),d+=1*l[g].width;if(!isNaN(d)&&this.$config.scrollable||(d=r=this._setColumnsWidth(n+1)),this.$config.scrollable&&f&&!isNaN(d)){var v="width";f=="min_width"&&(v="min_width");var y=0;l.forEach(function(C){y+=C[v]||b.min_grid_column_width}),y--;var m=Math.max(y,n);d=this._setColumnsWidth(m),r=n}this.$config.scrollable?(this.$grid_scale.style.width=d+"px",this.$grid_data.style.width=d+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var b=this.$getConfig();r!==n&&(r!==void 0?(b.grid_width=r,this.$config.width=r-1):isNaN(d)||(this._setColumnsWidth(d),b.grid_width=d,this.$config.width=d-1));var k=Math.max(this.$state.height-b.scale_height,0);this.$grid_data.style.height=k+"px",this.refresh()},getSize:function(){var n=this.$getConfig(),a=this.$config.rowStore?this.getTotalHeight():0,r=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?r:0,contentY:this.isVisible()?n.scale_height+a:0,scrollHeight:this.isVisible()?a:0,scrollWidth:this.isVisible()?r:0}},_bindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=n,n&&!n._gridCacheAttached){var a=this;n._gridCacheAttached=n.attachEvent("onBeforeFilter",function(){a._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var n=this.$gantt.getDatastore(this.$config.bind);n&&n._gridCacheAttached&&(n.detachEvent(n._gridCacheAttached),n._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var n=this.$config.scrollLeft||0,a=this.$config.scrollTop||0,r=this.$config.height||0,l=this.$config.width||0;return{y:a,y_end:a+r,x:n,x_end:n+l,height:r,width:l}},scrollTo:function(n,a){if(this.isVisible()){var r=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n==n&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=n,r=!0),1*a==a&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=a,r=!0),r&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(n,a){for(var r=this.$getConfig().columns,l=0,d=0;d<r.length;d++)if(a&&r[d].hide&&l++,r[d].name==n)return d-l;return null},getColumn:function(n){var a=this.getColumnIndex(n);return a===null?null:this.$getConfig().columns[a]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var n=this.$gantt,a=this;return[{renderer:n.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return a.isVisible()}]},{renderer:n.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return n.config.resize_rows}]}]},_addLayers:function(n){if(this.$config.bind){this._taskLayers=[];var a=this,r=this.$gantt.$services.getService("layers"),l=r.getDataRender(this.$config.bind);l||(l=r.createDataRender({name:this.$config.bind,defaultContainer:function(){return a.$grid_data}}));for(var d=this.$config.layers,f=0;d&&f<d.length;f++){var g=d[f];g.view=this;var p=l.addLayer(g);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(n){var a=this.$getConfig(),r=this.$config.rowStore;if(r&&n===null&&this.isVisible()&&a.smart_rendering){var l;if(this.$config.scrollY){var d=this.$gantt.$ui.getView(this.$config.scrollY);d&&(l=d.getScrollState().scrollSize)}if(l||(l=r?this.getTotalHeight():0),l){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var f=this.$rowsPlaceholder=document.createElement("div");f.style.visibility="hidden",f.style.height=l+"px",f.style.width="1px",this.$grid_data.appendChild(f)}}},_initSmartRenderingPlaceholder:function(){var n=this.$config.rowStore;n&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=n.attachEvent("onStoreUpdated",u.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var n=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",n.bind(function(a,r,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(a,this.$config.item_attribute);return f&&d.close(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",n.bind(function(a,r,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(a,this.$config.item_attribute);return f&&d.open(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(n){var a=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var r=0;r<this._taskLayers.length;r++)a.removeLayer(this._taskLayers[r]);this._taskLayers=[]},_getColumnWidth:function(n,a,r){var l=n.min_width||a.min_grid_column_width,d=Math.max(r,l||10);return n.max_width&&(d=Math.min(d,n.max_width)),d},_checkGridColumnMinWidthLimits:function(n,a){for(var r=0,l=n.length;r<l;r++){var d=1*n[r].width;!n[r].min_width&&d<a.min_grid_column_width&&(n[r].min_width=d)}},_getGridWidthLimits:function(){for(var n=this.$getConfig(),a=this.getGridColumns(),r=0,l=0,d=0;d<a.length;d++)r+=a[d].min_width?a[d].min_width:n.min_grid_column_width,l!==void 0&&(l=a[d].max_width?l+a[d].max_width:void 0);return this._checkGridColumnMinWidthLimits(a,n),[r,l]},_setColumnsWidth:function(n,a){var r=this.$getConfig(),l=this.getGridColumns(),d=0,f=n;a=window.isNaN(a)?-1:a;for(var g=0,p=l.length;g<p;g++)d+=1*l[g].width;if(window.isNaN(d))for(this._calculateGridWidth(),d=0,g=0,p=l.length;g<p;g++)d+=1*l[g].width;var v=f-d,y=0;for(g=0;g<a+1;g++)y+=l[g].width;for(d-=y,g=a+1;g<l.length;g++){var m=l[g],b=Math.round(v*(m.width/d));v<0?m.min_width&&m.width+b<m.min_width?b=m.min_width-m.width:!m.min_width&&r.min_grid_column_width&&m.width+b<r.min_grid_column_width&&(b=r.min_grid_column_width-m.width):m.max_width&&m.width+b>m.max_width&&(b=m.max_width-m.width),d-=m.width,m.width+=b,v-=b}for(var k=v>0?1:-1;v>0&&k===1||v<0&&k===-1;){var C=v;for(g=a+1;g<l.length;g++){var w;if((w=l[g].width+k)==this._getColumnWidth(l[g],r,w)&&(v-=k,l[g].width=w),!v)break}if(C==v)break}return v&&a>-1&&(w=l[a].width+v)==this._getColumnWidth(l[a],r,w)&&(l[a].width=w),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var n=this.getGridColumns(),a=0,r=0;r<n.length;r++){var l=parseFloat(n[r].width);if(window.isNaN(l))return!1;a+=l}return a},_calculateGridWidth:function(){for(var n=this.$getConfig(),a=this.getGridColumns(),r=0,l=[],d=[],f=0;f<a.length;f++){var g=parseFloat(a[f].width);window.isNaN(g)&&(g=n.min_grid_column_width||10,l.push(f)),d[f]=g,r+=g}var p=this._getGridWidth()+1;if(n.autofit||l.length){var v=p-r;if(n.autofit&&!n.grid_elastic_columns)for(f=0;f<d.length;f++){var y=Math.round(v/(d.length-f));d[f]+=y,(m=this._getColumnWidth(a[f],n,d[f]))!=d[f]&&(y=m-d[f],d[f]=m),v-=y}else if(l.length)for(f=0;f<l.length;f++){y=Math.round(v/(l.length-f));var m,b=l[f];d[b]+=y,(m=this._getColumnWidth(a[b],n,d[b]))!=d[b]&&(y=m-d[b],d[b]=m),v-=y}for(f=0;f<d.length;f++)a[f].width=d[f]}else{var k=p!=r;this.$config.width=r-1,n.grid_width=r,k&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var n=this.$gantt,a=this.$getConfig(),r=this.$gantt.locale,l=this.$gantt.templates,d=this.getGridColumns();a.rtl&&(d=d.reverse());for(var f=[],g=0,p=r.labels,v=a.scale_height-1,y=0;y<d.length;y++){var m=y==d.length-1,b=d[y];b.name||(b.name=n.uid()+"");var k=1*b.width,C=this._getGridWidth();m&&C>g+k&&(b.width=k=C-g),g+=k;var w=n._sort&&b.name==n._sort.name?"<div class='gantt_sort gantt_"+n._sort.direction+"'></div>":"",T=["gantt_grid_head_cell","gantt_grid_head_"+b.name,m?"gantt_last_cell":"",l.grid_header_class(b.name,b)].join(" "),E="width:"+(k-(m?1:0))+"px;",P=b.label||p["column_"+b.name]||p[b.name];P=P||"";var j="<div class='"+T+"' style='"+E+"' "+n._waiAria.gridScaleCellAttrString(b,P)+" data-column-id='"+b.name+"' column_id='"+b.name+"' data-column-name='"+b.name+"' data-column-index='"+y+"'>"+P+w+"</div>";f.push(j)}this.$grid_scale.style.height=a.scale_height+"px",this.$grid_scale.style.lineHeight=v+"px",this.$grid_scale.innerHTML=f.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},S.exports=t},function(S,x,h){(function(_){var u=h(304),s=h(69),c=h(296),i=h(295),o=h(294),e=x;e.request=function(t,n){t=typeof t=="string"?o.parse(t):c(t);var a=_.location.protocol.search(/^https?:$/)===-1?"http:":"",r=t.protocol||a,l=t.hostname||t.host,d=t.port,f=t.path||"/";l&&l.indexOf(":")!==-1&&(l="["+l+"]"),t.url=(l?r+"//"+l:"")+(d?":"+d:"")+f,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var g=new u(t);return n&&g.on("response",n),g},e.get=function(t,n){var a=e.request(t,n);return a.end(),a},e.ClientRequest=u,e.IncomingMessage=s.IncomingMessage,e.Agent=function(){},e.Agent.defaultMaxSockets=4,e.globalAgent=new e.Agent,e.STATUS_CODES=i,e.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,h(4))},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),function(_){_.ASAP="asap",_.ALAP="alap",_.SNET="snet",_.SNLT="snlt",_.FNET="fnet",_.FNLT="fnlt",_.MSO="mso",_.MFO="mfo"}(x.ConstraintTypes||(x.ConstraintTypes={}))},,function(S,x,h){},function(S,x,h){var _=h(2);S.exports=function(u){var s={};return u.$data.tasksStore.attachEvent("onStoreUpdated",function(){s={}}),function(c,i,o,e){var t=c.id+"_"+i+"_"+o.unit+"_"+o.step;return s[t]?s[t]:s[t]=function(n,a,r,l){var d,f=!1,g={};u.config.process_resource_assignments&&a===u.config.resource_property?(d=n.$role=="task"?u.getResourceAssignments(n.$resource_id,n.$task_id):u.getResourceAssignments(n.id),f=!0):d=n.$role=="task"?[]:u.getTaskBy(a,n.id);for(var p,v,y,m,b,g=function(j,N,L){for(var B=N.unit,I=N.step,V={},Y={},H=0;H<j.length;H++){var F=j[H],G=F;L&&(G=u.getTask(F.task_id));var R=F.start_date||G.start_date,K=F.end_date||G.end_date;L&&(F.start_date&&(R=new Date(Math.max(F.start_date.valueOf(),G.start_date.valueOf()))),F.end_date&&(K=new Date(Math.min(F.end_date.valueOf(),G.end_date.valueOf()))));var Q=_.findBinary(N.trace_x,R.valueOf()),W=new Date(N.trace_x[Q]||u.date[B+"_start"](new Date(R))),O=u.config.work_time?u.getTaskCalendar(G):u;for(Y[O.id]={};W<K;){var $=Y[O.id],D=W,M=D.valueOf();if(W=u.date.add(W,I,B),$[M]!==!1){var U=O.isWorkTime({date:D,task:G,unit:B});U?(V[M]||(V[M]={tasks:[],assignments:[]}),V[M].tasks.push(G),L&&V[M].assignments.push(F)):$[M]=!1}}}return V}(d,r,f),k=r.unit,C=r.step,w=[],T=l.$getConfig(),E=0;E<r.trace_x.length;E++)p=new Date(r.trace_x[E]),v=u.date.add(p,C,k),b=g[p.valueOf()]||{},y=b.tasks||[],m=b.assignments||[],y.length||T.resource_render_empty_cells?w.push({start_date:p,end_date:v,tasks:y,assignments:m}):w.push(null);return w}(c,i,o,e)}}},function(S,x,h){var _=h(0),u=h(41),s=h(31),c=h(3),i=function(o){function e(t,n,a,r){var l=o.apply(this,arguments)||this;return l.$config.bindLinks=null,l}return c(e,o),_.mixin(e.prototype,{init:function(){this.$config.bind===void 0&&(this.$config.bind=this.$getConfig().resource_store),o.prototype.init.apply(this,arguments)},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{renderer:this.$gantt.$ui.layers.resourceRow(),container:this.$task_bars,filter:[n]},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[]}}},!0),_.mixin(e.prototype,s(e),!0),e}(u);S.exports=i},function(S,x,h){var _=h(50),u=h(5),s=h(0),c=h(2),i=h(47),o=h(141),e=function(t,n,a,r){this.$config=s.mixin({},n||{}),this.$scaleHelper=new _(r),this.$gantt=r,this._posFromDateCache={},this._timelineDragScroll=null,s.mixin(this,i(this)),u(this)};e.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var n=this.$getConfig(),a=n[this.$config.bind+"_attribute"],r=n[this.$config.bindLinks+"_attribute"];!a&&this.$config.bind&&(a="data-"+this.$config.bind+"-id"),!r&&this.$config.bindLinks&&(r="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=a||null,this.$config.link_attribute=r||null;var l=this._createLayerConfig();this.$config.layers||(this.$config.layers=l.tasks),this.$config.linkLayers||(this.$config.linkLayers=l.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,n){var a=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*n===n){this.$config.height=n;var r=Math.max(this.$config.height-a.scale_height);this.$task_data.style.height=r+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",a.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var l=this._tasks,d=this.$task_data.childNodes,f=0,g=d.length;f<g;f++){var p=d[f];p.hasAttribute("data-layer")&&p.style&&(p.style.width=l.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),n=this.$config.rowStore?this.getTotalHeight():0,a=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?a:0,contentY:this.isVisible()?t.scale_height+n:0,scrollHeight:this.isVisible()?n:0,scrollWidth:this.isVisible()?a:0}},scrollTo:function(t,n){if(this.isVisible()){var a=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*n===n&&(this.$config.scrollTop=n,this.$task_data.scrollTop=this.$config.scrollTop,a=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),a=!0),a&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),n=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(n,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,n=this.$config.scrollTop||0,a=this.$config.height||0,r=this.$config.width||0;return{y:n,y_end:n+a,x:t,x_end:t+r,height:a,width:r}},_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[n,function(a,r){return!r.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[n],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[n]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var n=this,a=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var r=a.getDataRender(this.$config.bind);r||(r=a.createDataRender({name:this.$config.bind,defaultContainer:function(){return n.$task_data}})),r.container=function(){return n.$task_data};for(var l=this.$config.layers,d=0;l&&d<l.length;d++){typeof(v=l[d])=="string"&&(v=this.$gantt.$ui.layers[v]()),(typeof v=="function"||v&&v.render&&v.update)&&(v={renderer:v}),v.view=this;var f=r.addLayer(v);this._taskLayers.push(f),v.expose&&(this._taskRenderer=r.getLayer(f))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){n.$config.linkStore=n.$gantt.getDatastore(n.$config.bindLinks);var g=a.getDataRender(this.$config.bindLinks);g||(g=a.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return n.$task_data}}));var p=this.$config.linkLayers;for(d=0;p&&d<p.length;d++){var v;typeof v=="string"&&(v=this.$gantt.$ui.layers[v]()),(v=p[d]).view=this;var y=g.addLayer(v);this._taskLayers.push(y),p[d].expose&&(this._linkRenderer=g.getLayer(y))}}},_initStaticBackgroundRender:function(){var t=this,n=o.create(),a=t.$config.rowStore;a&&(this._staticBgHandler=a.attachEvent("onStoreUpdated",function(r,l,d){if(r===null&&t.isVisible()){var f=t.$getConfig();if(f.static_background||f.timeline_placeholder){var g=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),g){var v=t.getTotalHeight();f.timeline_placeholder&&(v=f.timeline_placeholder.height||t.$task_data.offsetHeight||99999),n.render(p,f,t.getScale(),v,t.getItemHeight(l?l.id:null))}}else f.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){n.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var n=this.$gantt.$services.getService("layers"),a=n.getDataRender(this.$config.bind),r=n.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var l=0;l<this._taskLayers.length;l++)a.removeLayer(this._taskLayers[l]);if(this._linkLayers)for(l=0;l<this._linkLayers.length;l++)r.removeLayer(this._linkLayers[l]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),n="",a=0,r=0,l=this.$gantt.getState();if(this.isVisible()){var d=this.$scaleHelper,f=this._getScales();r=t.scale_height;var g=this.$config.width;t.autosize!="x"&&t.autosize!="xy"||(g=Math.max(t.autosize_min_width,0));var p=d.prepareConfigs(f,t.min_column_width,g,r-1,l.min_date,l.max_date,t.rtl),v=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},n=this._getScaleChunkHtml(p,0,this.$config.width),a=v.full_width+"px",r+="px"}this.$task_scale.style.height=r,this.$task_data.style.width=this.$task_scale.style.width=a,this.$task_scale.innerHTML=n},_getScaleChunkHtml:function(t,n,a){for(var r=[],l=this.$gantt.templates.scale_row_class,d=0;d<t.length;d++){var f="gantt_scale_line",g=l(t[d]);g&&(f+=" "+g),r.push('<div class="'+f+'" style="height:'+t[d].height+"px;position:relative;line-height:"+t[d].height+'px">'+this._prepareScaleHtml(t[d],n,a)+"</div>")}return r.join("")},_prepareScaleHtml:function(t,n,a){var r=this.$getConfig(),l=this.$gantt.templates,d=[],f=null,g=null,p=t.format||t.template||t.date;typeof p=="string"&&(p=this.$gantt.date.date_to_str(p));var v=0,y=t.count;!r.smart_scales||isNaN(n)||isNaN(a)||(v=c.findBinary(t.left,n),y=c.findBinary(t.left,a)+1),g=t.css||function(){},!t.css&&r.inherit_scale_class&&(g=l.scale_cell_class);for(var m=v;m<y&&t.trace_x[m];m++){f=new Date(t.trace_x[m]);var b=p.call(this,f),k=t.width[m],C=t.height,w=t.left[m],T="",E="",P="";if(k){T="width:"+k+"px;height:"+C+"px;"+(r.smart_scales?"position:absolute;left:"+w+"px":""),P="gantt_scale_cell"+(m==t.count-1?" gantt_last_cell":""),(E=g.call(this,f))&&(P+=" "+E);var j="<div class='"+P+"'"+this.$gantt._waiAria.getTimelineCellAttr(b)+" style='"+T+"'>"+b+"</div>";d.push(j)}}return d.join("")},dateFromPos:function(t){var n=this._tasks;if(t<0||t>n.full_width||!n.full_width)return null;var a=c.findBinary(this._tasks.left,t),r=this._tasks.left[a],l=n.width[a]||n.col_width,d=0;l&&(d=(t-r)/l,n.rtl&&(d=1-d));var f=0;return d&&(f=this._getColumnDuration(n,n.trace_x[a])),new Date(n.trace_x[a].valueOf()+Math.round(d*f))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var n=String(t.valueOf());if(this._posFromDateCache[n]!==void 0)return this._posFromDateCache[n];var a=this.columnIndexByDate(t);this.$gantt.assert(a>=0,"Invalid day index");var r=Math.floor(a),l=a%1,d=this._tasks.left[Math.min(r,this._tasks.width.length-1)];r==this._tasks.width.length&&(d+=this._tasks.width[this._tasks.width.length-1]),l&&(r<this._tasks.width.length?d+=this._tasks.width[r]*(l%1):d+=1);var f=Math.round(d);return this._posFromDateCache[n]=f,Math.round(f)},_getNextVisibleColumn:function(t,n,a){for(var r=+n[t],l=t;a[r];)r=+n[++l];return l},_getPrevVisibleColumn:function(t,n,a){for(var r=+n[t],l=t;a[r];)r=+n[--l];return l},_getClosestVisibleColumn:function(t,n,a){var r=this._getNextVisibleColumn(t,n,a);return n[r]||(r=this._getPrevVisibleColumn(t,n,a)),r},columnIndexByDate:function(t){var n=new Date(t).valueOf(),a=this._tasks.trace_x_ascending,r=this._tasks.ignore_x,l=this.$gantt.getState();if(n<=l.min_date)return this._tasks.rtl?a.length:0;if(n>=l.max_date)return this._tasks.rtl?0:a.length;var d=c.findBinary(a,n),f=this._getClosestVisibleColumn(d,a,r),g=a[f],p=this._tasks.trace_index_transition;if(!g)return p?p[0]:0;var v=(t-a[f])/this._getColumnDuration(this._tasks,a[f]);return p?p[f]+(1-v):f+v},getItemPosition:function(t,n,a){var r,l,d;return this._tasks.rtl?(l=this.posFromDate(n||t.start_date),r=this.posFromDate(a||t.end_date)):(r=this.posFromDate(n||t.start_date),l=this.posFromDate(a||t.end_date)),d=Math.max(l-r,0),{left:r,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:d,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,n){var a=this.$getConfig(),r=this.$config.rowStore.getItem(t),l=r.task_height||r.bar_height||a.bar_height||a.task_height,d=this.getItemHeight(t);return l=="full"&&(l=d-(a.task_height_offset||5)),l=Math.min(l,d),n&&(l=Math.round(l/Math.sqrt(2))),Math.max(l,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),n=this.$scaleHelper,a=[n.primaryScale(t)].concat(n.getSubScales(t));return n.sortScales(a),a},_getColumnDuration:function(t,n){return this.$gantt.date.add(n,t.step,t.unit)-n},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var n=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){n._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},S.exports=e},function(S,x,h){var _=h(3),u=h(1),s=function(c){function i(o,e,t){var n=c.apply(this,arguments)||this;return o&&(n.$root=!0),n._parseConfig(e),n.$name="layout",n}return _(i,c),i.prototype.destructor=function(){this.$container&&this.$view&&u.removeNode(this.$view);for(var o=0;o<this.$cells.length;o++)this.$cells[o].destructor();this.$cells=[],c.prototype.destructor.call(this)},i.prototype._resizeScrollbars=function(o,e){var t,n=!1,a=[],r=[];function l(v){v.$parent.show(),n=!0,a.push(v)}function d(v){v.$parent.hide(),n=!0,r.push(v)}for(var f=0;f<e.length;f++)o[(t=e[f]).$config.scroll]||t.shouldHide()?d(t):t.shouldShow()?l(t):t.isVisible()?a.push(t):r.push(t);var g={};for(f=0;f<a.length;f++)a[f].$config.group&&(g[a[f].$config.group]=!0);for(f=0;f<r.length;f++)if((t=r[f]).$config.group&&g[t.$config.group]){l(t);for(var p=0;p<a.length;p++)if(a[p]==t){this.$gantt.$scrollbarRepaint=!0;break}}return n},i.prototype._syncCellSizes=function(o,e){if(o){var t={};return this._eachChild(function(n){n.$config.group&&n.$name!="scrollbar"&&n.$name!="resizer"&&(t[n.$config.group]||(t[n.$config.group]=[]),t[n.$config.group].push(n))}),t[o]&&this._syncGroupSize(t[o],e),t[o]}},i.prototype._syncGroupSize=function(o,e){if(o.length)for(var t=o[0].$parent._xLayout?"width":"height",n=o[0].$parent.getNextSibling(o[0].$id)?1:-1,a=e.value,r=e.isGravity,l=0;l<o.length;l++){var d=o[l].getSize(),f=n>0?o[l].$parent.getNextSibling(o[l].$id):o[l].$parent.getPrevSibling(o[l].$id);f.$name=="resizer"&&(f=n>0?f.$parent.getNextSibling(f.$id):f.$parent.getPrevSibling(f.$id));var g=f.getSize();if(r)o[l].$config.gravity=a;else if(f[t]){var p=d.gravity+g.gravity,v=d[t]+g[t],y=p/v;o[l].$config.gravity=y*a,f.$config[t]=v-a,f.$config.gravity=p-y*a}else o[l].$config[t]=a;var m=this.$gantt.$ui.getView("grid");!m||o[l].$content!==m||m.$config.scrollable||r||(this.$gantt.config.grid_width=a)}},i.prototype.resize=function(o){var e=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),e=!0,this._resizeInProgress=!0),c.prototype.resize.call(this,!0),c.prototype.resize.call(this,!1),e){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var n=this.getCellsByType("scroller"),a=0;a<t.length;a++)t[a].$config.hidden||t[a].setContentSize();var r=this._getAutosizeMode(this.$config.autosize),l=this._resizeScrollbars(r,n);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(d){var f=d.$parent,g=f.getContentSize(r);r.x&&(f.$config.$originalWidthStored||(f.$config.$originalWidthStored=!0,f.$config.$originalWidth=f.$config.width),f.$config.width=g.width),r.y&&(f.$config.$originalHeightStored||(f.$config.$originalHeightStored=!0,f.$config.$originalHeight=f.$config.height),f.$config.height=g.height)}),l=!0),l)for(this.resize(),a=0;a<t.length;a++)t[a].$config.hidden||t[a].setContentSize();this.callEvent("onResize",[])}e&&(this._resizeInProgress=!1)},i.prototype._eachChild=function(o,e){if(o(e=e||this),e.$cells)for(var t=0;t<e.$cells.length;t++)this._eachChild(o,e.$cells[t])},i.prototype.isChild=function(o){var e=!1;return this._eachChild(function(t){t!==o&&t.$content!==o||(e=!0)}),e},i.prototype.getCellsByType=function(o){var e=[];if(o===this.$name&&e.push(this),this.$content&&this.$content.$name==o&&e.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var n=i.prototype.getCellsByType.call(this.$cells[t],o);n.length&&e.push.apply(e,n)}return e},i.prototype.getNextSibling=function(o){var e=this.cellIndex(o);return e>=0&&this.$cells[e+1]?this.$cells[e+1]:null},i.prototype.getPrevSibling=function(o){var e=this.cellIndex(o);return e>=0&&this.$cells[e-1]?this.$cells[e-1]:null},i.prototype.cell=function(o){for(var e=0;e<this.$cells.length;e++){var t=this.$cells[e];if(t.$id===o)return t;var n=t.cell(o);if(n)return n}},i.prototype.cellIndex=function(o){for(var e=0;e<this.$cells.length;e++)if(this.$cells[e].$id===o)return e;return-1},i.prototype.moveView=function(o,e){if(this.$cells[e]!==o)return window.alert("Not implemented");e+=this.$config.header?1:0;var t=this.$view;e>=t.childNodes.length?t.appendChild(o.$view):t.insertBefore(o.$view,t.childNodes[e])},i.prototype._parseConfig=function(o){this.$cells=[],this._xLayout=!o.rows;for(var e=o.rows||o.cols||o.views,t=0;t<e.length;t++){var n=e[t];n.mode=this._xLayout?"x":"y";var a=this.$factory.initUI(n,this);a?(a.$parent=this,this.$cells.push(a)):(e.splice(t,1),t--)}},i.prototype.getCells=function(){return this.$cells},i.prototype.render=function(){var o=u.insertNode(this.$container,this.$toHTML());this.$fill(o,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},i.prototype.$fill=function(o,e){this.$view=o,this.$parent=e;for(var t=u.getChildNodes(o,"gantt_layout_cell"),n=t.length-1;n>=0;n--){var a=this.$cells[n];a.$fill(t[n],this),a.$config.hidden&&a.$view.parentNode.removeChild(a.$view)}},i.prototype.$toHTML=function(){for(var o=this._xLayout?"x":"y",e=[],t=0;t<this.$cells.length;t++)e.push(this.$cells[t].$toHTML());return c.prototype.$toHTML.call(this,e.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+o)},i.prototype.getContentSize=function(o){for(var e,t,n,a=0,r=0,l=0;l<this.$cells.length;l++)(t=this.$cells[l]).$config.hidden||(e=t.getContentSize(o),t.$config.view==="scrollbar"&&o[t.$config.scroll]&&(e.height=0,e.width=0),t.$config.resizer&&(this._xLayout?e.height=0:e.width=0),n=t._getBorderSizes(),this._xLayout?(a+=e.width+n.horizontal,r=Math.max(r,e.height+n.vertical)):(a=Math.max(a,e.width+n.horizontal),r+=e.height+n.vertical));return{width:a+=(n=this._getBorderSizes()).horizontal,height:r+=n.vertical}},i.prototype._cleanElSize=function(o){return 1*(o||"").toString().replace("px","")||0},i.prototype._getBoxStyles=function(o){var e=null,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],n={boxSizing:(e=window.getComputedStyle?window.getComputedStyle(o,null):{width:o.clientWidth,height:o.clientHeight}).boxSizing=="border-box"};e.MozBoxSizing&&(n.boxSizing=e.MozBoxSizing=="border-box");for(var a=0;a<t.length;a++)n[t[a]]=e[t[a]]?this._cleanElSize(e[t[a]]):0;var r={horPaddings:n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth,vertPaddings:n.paddingTop+n.paddingBottom+n.borderTopWidth+n.borderBottomWidth,borderBox:n.boxSizing,innerWidth:n.width,innerHeight:n.height,outerWidth:n.width,outerHeight:n.height};return r.borderBox?(r.innerWidth-=r.horPaddings,r.innerHeight-=r.vertPaddings):(r.outerWidth+=r.horPaddings,r.outerHeight+=r.vertPaddings),r},i.prototype._getAutosizeMode=function(o){var e={x:!1,y:!1};return o==="xy"?e.x=e.y=!0:o==="y"||o===!0?e.y=!0:o==="x"&&(e.x=!0),e},i.prototype.autosize=function(o){var e=this._getAutosizeMode(o),t=this._getBoxStyles(this.$container),n=this.getContentSize(o),a=this.$container;e.x&&(t.borderBox&&(n.width+=t.horPaddings),a.style.width=n.width+"px"),e.y&&(t.borderBox&&(n.height+=t.vertPaddings),a.style.height=n.height+"px")},i.prototype.getSize=function(){this._sizes=[];for(var o=0,e=0,t=1e11,n=0,a=1e11,r=0,l=0;l<this.$cells.length;l++){var d=this._sizes[l]=this.$cells[l].getSize();this.$cells[l].$config.hidden||(this._xLayout?(!d.width&&d.minWidth?o+=d.minWidth:o+=d.width,t+=d.maxWidth,e+=d.minWidth,n=Math.max(n,d.height),a=Math.min(a,d.maxHeight),r=Math.max(r,d.minHeight)):(!d.height&&d.minHeight?n+=d.minHeight:n+=d.height,a+=d.maxHeight,r+=d.minHeight,o=Math.max(o,d.width),t=Math.min(t,d.maxWidth),e=Math.max(e,d.minWidth)))}var f=c.prototype.getSize.call(this);return f.maxWidth>=1e5&&(f.maxWidth=t),f.maxHeight>=1e5&&(f.maxHeight=a),f.minWidth=f.minWidth!=f.minWidth?0:f.minWidth,f.minHeight=f.minHeight!=f.minHeight?0:f.minHeight,this._xLayout?(f.minWidth+=this.$config.margin*this.$cells.length||0,f.minWidth+=2*this.$config.padding||0,f.minHeight+=2*this.$config.padding||0):(f.minHeight+=this.$config.margin*this.$cells.length||0,f.minHeight+=2*this.$config.padding||0),f},i.prototype._calcFreeSpace=function(o,e,t){var n=t?e.minWidth:e.minHeight,a=e.maxWidth,r=o;return r?(r>a&&(r=a),r<n&&(r=n),this._free-=r):((r=Math.floor(this._free/this._gravity*e.gravity))>a&&(r=a,this._free-=r,this._gravity-=e.gravity),r<n&&(r=n,this._free-=r,this._gravity-=e.gravity)),r},i.prototype._calcSize=function(o,e,t){var n=o,a=t?e.minWidth:e.minHeight,r=t?e.maxWidth:e.maxHeight;return n||(n=Math.floor(this._free/this._gravity*e.gravity)),n>r&&(n=r),n<a&&(n=a),n},i.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var o=this._xLayout?this._borders.right:this._borders.bottom,e=this.$cells,t=e.length-1,n=t;n>=0;n--)if(!e[n].$config.hidden){t=n;break}for(n=0;n<e.length;n++)if(!e[n].$config.hidden){var a=n>=t,r="";!a&&e[n+1]&&e[n+1].$config.view=="scrollbar"&&(this._xLayout?a=!0:r="gantt_layout_cell_border_transparent"),this._setBorders(a?[]:[o,r],e[n])}},i.prototype._updateCellVisibility=function(){for(var o=this._visibleCells||{},e=!this._visibleCells,t={},n=null,a=[],r=0;r<this._sizes.length;r++)(n=this.$cells[r]).$config.hide_empty&&a.push(n),!e&&n.$config.hidden&&o[n.$id]?n._hide(!0):n.$config.hidden||o[n.$id]||n._hide(!1),n.$config.hidden||(t[n.$id]=!0);for(this._visibleCells=t,r=0;r<a.length;r++){var l=!0;(n=a[r]).$cells.forEach(function(d){d.$config.hidden||d.$config.resizer||(l=!1)}),n.$config.hidden=l}},i.prototype.setSize=function(o,e){this._configureBorders(),c.prototype.setSize.call(this,o,e),e=this.$lastSize.contentY,o=this.$lastSize.contentX;var t,n,a=this.$config.padding||0;this.$view.style.padding=a+"px",this._gravity=0,this._free=this._xLayout?o:e,this._free-=2*a,this._updateCellVisibility();for(var r=0;r<this._sizes.length;r++)if(!(t=this.$cells[r]).$config.hidden){var l=this.$config.margin||0;t.$name!="resizer"||l||(l=-1);var d=t.$view,f=this._xLayout?"marginRight":"marginBottom";r!==this.$cells.length-1&&(d.style[f]=l+"px",this._free-=l),n=this._sizes[r],this._xLayout?n.width||(this._gravity+=n.gravity):n.height||(this._gravity+=n.gravity)}for(r=0;r<this._sizes.length;r++)if(!(t=this.$cells[r]).$config.hidden){var g=(n=this._sizes[r]).width,p=n.height;this._xLayout?this._calcFreeSpace(g,n,!0):this._calcFreeSpace(p,n,!1)}for(r=0;r<this.$cells.length;r++)if(!(t=this.$cells[r]).$config.hidden){n=this._sizes[r];var v=void 0,y=void 0;this._xLayout?(v=this._calcSize(n.width,n,!0),y=e-2*a):(v=o-2*a,y=this._calcSize(n.height,n,!1)),t.setSize(v,y)}},i}(h(12));S.exports=s},function(S,x){S.exports=function(h,_,u,s,c){var i=u.$gantt.getTask(h.source),o=u.$gantt.getTask(h.target),e=u.getItemTop(i.id),t=u.getItemHeight(i.id),n=u.getItemTop(o.id),a=u.getItemHeight(o.id);if(_.y>e+t&&_.y>n+a||_.y_end<n&&_.y_end<e)return!1;var r=u.posFromDate(i.start_date),l=u.posFromDate(i.end_date),d=u.posFromDate(o.start_date),f=u.posFromDate(o.end_date);if(r>l){var g=l;l=r,r=g}return d>f&&(g=f,f=d,d=g),r+=-100,l+=100,d+=-100,f+=100,!(_.x>l&&_.x>f)&&!(_.x_end<r&&_.x_end<d)}},function(S,x,h){var _=h(147);S.exports=function(){var u=[],s=!1;function c(){u=[],s=!1}var i=!1;return function(o,e,t,n,a){(function(g){i||(i=!0,g.attachEvent("onPreFilter",c),g.attachEvent("onStoreUpdated",c),g.attachEvent("onClearAll",c),g.attachEvent("onBeforeStoreUpdate",c))})(n),s||function(g,p,v){var y=p.$getConfig();g.getVisibleItems().forEach(function(m){var b=_(m,p,y,v);b&&u.push({id:m.id,rec:b})}),u.sort(function(m,b){return m.rec.right<b.rec.right?-1:1}),s=!0}(n,e,o);for(var r=[],l=0;l<u.length;l++){var d=u[l],f=d.rec;f.right<a.x||f.left<a.x_end&&f.right>a.x&&f.top<a.y_end&&f.bottom>a.y&&r.push(d.id)}return{ids:r}}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(209),u=h(208),s=h(207);x.LargerUnitsCache=s.LargerUnitsCache,x.createCacheObject=function(){return typeof Map<"u"?new _.WorkUnitsMapCache:new u.WorkUnitsObjectCache}},function(S,x,h){var _=h(0),u=h(2);function s(e,t,n,a,r){return this.date=e,this.unit=t,this.task=n,this.id=a,this.calendar=r,this}function c(e,t,n,a,r,l){return this.date=e,this.dir=t,this.unit=n,this.task=a,this.id=r,this.calendar=l,this}function i(e,t,n,a,r,l,d){return this.start_date=e,this.duration=t,this.unit=n,this.step=a,this.task=r,this.id=l,this.calendar=d,this}function o(e,t,n,a){return this.start_date=e,this.end_date=t,this.task=n,this.calendar=a,this.unit=null,this.step=null,this}S.exports=function(e){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=u.isDate(t)?{date:t}:_.mixin({},t),!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,n=arguments[0];if(n instanceof s)return n;if((t=n.date?new s(n.date,n.unit,n.task,null,n.calendar):new s(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||e.config.duration_unit,!u.isValidDate(t.date))throw e.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var n,a=arguments[0];if(a instanceof c)return a;if(n=u.isDate(a)?new c(a):new c(a.date,a.dir,a.unit,a.task,null,a.calendar),a.id&&(n.task=a),n.dir=a.dir||"any",n.unit=a.unit||e.config.duration_unit,!u.isValidDate(n.date))throw e.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return n},_getStartEndConfig:function(t){var n,a=o;if(t instanceof a)return t;if(u.isDate(t)?n=new a(arguments[0],arguments[1],arguments[2],arguments[3]):(n=new a(t.start_date,t.end_date,t.task),t.id!==null&&t.id!==void 0&&(n.task=t)),n.unit=n.unit||e.config.duration_unit,n.step=n.step||e.config.duration_step,n.start_date=n.start_date||n.start||n.date,!u.isValidDate(n.start_date))throw e.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!u.isValidDate(n.end_date))throw e.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return n},getDurationArguments:function(t,n,a,r){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,n,a,r){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,n,a,r){var l,d=arguments[0];if(d instanceof i)return d;if(l=u.isDate(d)?new i(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new i(d.start_date,d.duration,d.unit,d.step,d.task,null,d.calendar),d.id!==null&&d.id!==void 0&&(l.task=d,l.unit=null,l.step=null),l.unit=l.unit||e.config.duration_unit,l.step=l.step||e.config.duration_step,!u.isValidDate(l.start_date))throw e.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return l}}}},function(S,x,h){var _=h(221);S.exports=function(u){var s={},c={},i=null,o=-1,e=null,t=_(u);return{_resetTopPositionHeight:function(){s={},c={},t.resetCache()},_resetHeight:function(){var n=this.$config.rowStore,a=this.getCacheStateTotalHeight(n);e?this.shouldClearHeightCache(e,a)&&(e=a,i=null):e=a,o=-1,t.resetCache()},getRowTop:function(n){if(t.canUseSimpleCalculation())return t.getRowTop(n);var a=this.$config.rowStore;if(!a)return 0;if(c[n]!==void 0)return c[n];for(var r=a.getIndexRange(),l=0,d=0,f=0;f<r.length;f++)c[f]=l,l+=this.getItemHeight(r[f].id),f<n&&(d=l);return d},getItemTop:function(n){if(this.$config.rowStore){if(s[n]!==void 0)return s[n];var a=this.$config.rowStore;if(!a)return 0;var r=a.getIndexById(n);if(r===-1&&a.getParent&&a.exists(n)){var l=a.getParent(n);if(a.exists(l)){var d=a.getItem(l);if(this.$gantt.isSplitTask(d))return this.getItemTop(l)}}return s[n]=this.getRowTop(r),s[n]}return 0},getItemHeight:function(n){if(t.canUseSimpleCalculation())return t.getItemHeight(n);if(!i&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),i[n]!==void 0)return i[n];var a=this.$getConfig().row_height;if(this.$config.rowStore){var r=this.$config.rowStore;if(!r)return a;var l=r.getItem(n);return i[n]=l&&l.row_height||a}return a},_fillHeightCache:function(n){if(n){i={};var a=this.$getConfig().row_height;n.eachItem(function(r){return i[r.id]=r&&r.row_height||a})}},getCacheStateTotalHeight:function(n){var a=this.$getConfig().row_height,r={},l=[],d=0;return n&&n.eachItem(function(f){l.push(f),r[f.id]=f.row_height,d+=f.row_height||a}),{globalHeight:a,items:l,count:l.length,sumHeight:d}},shouldClearHeightCache:function(n,a){if(n.count!=a.count||n.globalHeight!=a.globalHeight||n.sumHeight!=a.sumHeight)return!0;for(var r in n.items){var l=a.items[r];if(l!==void 0&&l!=n.items[r])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(o!=-1)return o;if(this.$config.rowStore){var n=this.$config.rowStore;this._fillHeightCache(n);var a=this.getItemHeight.bind(this),r=0;return n.getVisibleItems().forEach(function(l){r+=a(l.id)}),o=r,r}return 0},getItemIndexByTopPosition:function(n){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(n);for(var a=this.$config.rowStore,r=0;r<a.countVisible();r++){var l=this.getRowTop(r),d=this.getRowTop(r+1);if(!d){var f=a.getIdByIndex(r);d=l+this.getItemHeight(f)}if(n>=l&&n<d)return r}return a.countVisible()+2}return 0}}}},function(S,x){function h(u,s,c){for(var i=0;i<s.length;i++)u.isLinkExists(s[i])&&(c[s[i]]=u.getLink(s[i]))}function _(u,s,c){h(u,s.$source,c),h(u,s.$target,c)}S.exports={getSubtreeLinks:function(u,s){var c={};return u.isTaskExists(s)&&_(u,u.getTask(s),c),u.eachTask(function(i){_(u,i,c)},s),c},getSubtreeTasks:function(u,s){var c={};return u.eachTask(function(i){c[i.id]=i},s),c}}},function(S,x,h){var _=h(0);S.exports=function(u){var s=u.date,c=u.$services;return{getSum:function(i,o,e){e===void 0&&(e=i.length-1),o===void 0&&(o=0);for(var t=0,n=o;n<=e;n++)t+=i[n];return t},setSumWidth:function(i,o,e,t){var n=o.width;t===void 0&&(t=n.length-1),e===void 0&&(e=0);var a=t-e+1;if(!(e>n.length-1||a<=0||t>n.length-1)){var r=i-this.getSum(n,e,t);this.adjustSize(r,n,e,t),this.adjustSize(-r,n,t+1),o.full_width=this.getSum(n)}},splitSize:function(i,o){for(var e=[],t=0;t<o;t++)e[t]=0;return this.adjustSize(i,e),e},adjustSize:function(i,o,e,t){e||(e=0),t===void 0&&(t=o.length-1);for(var n=t-e+1,a=this.getSum(o,e,t),r=e;r<=t;r++){var l=Math.floor(i*(a?o[r]/a:1/n));a-=o[r],i-=l,n--,o[r]+=l}o[o.length-1]+=i},sortScales:function(i){function o(t,n){var a=new Date(1970,0,1);return s.add(a,n,t)-a}i.sort(function(t,n){return o(t.unit,t.step)<o(n.unit,n.step)?1:o(t.unit,t.step)>o(n.unit,n.step)?-1:0});for(var e=0;e<i.length;e++)i[e].index=e},_isLegacyMode:function(i){var o=i||u.config;return o.scale_unit||o.date_scale||o.subscales},_prepareScaleObject:function(i){var o=i.format;return o||(o=i.template||i.date||"%d %M"),typeof o=="string"&&(o=u.date.date_to_str(o)),{unit:i.unit||"day",step:i.step||1,format:o,css:i.css}},primaryScale:function(i){var o,e=c.getService("templateLoader"),t=this._isLegacyMode(i),n=i||u.config;if(t)e.initTemplate("date_scale",void 0,void 0,n,u.config.templates),o={unit:u.config.scale_unit,step:u.config.step,template:u.templates.date_scale,date:u.config.date_scale,css:u.templates.scale_cell_class};else{var a=n.scales[0];o={unit:a.unit,step:a.step,template:a.template,format:a.format,date:a.date,css:a.css||u.templates.scale_cell_class}}return this._prepareScaleObject(o)},getSubScales:function(i){var o=this._isLegacyMode(i),e=i||u.config;return(o?e.subscales||[]:e.scales.slice(1)).map((function(t){return this._prepareScaleObject(t)}).bind(this))},prepareConfigs:function(i,o,e,t,n,a,r){for(var l=this.splitSize(t,i.length),d=e,f=[],g=i.length-1;g>=0;g--){var p=g==i.length-1,v=this.initScaleConfig(i[g],n,a);p&&this.processIgnores(v),this.initColSizes(v,o,d,l[g]),this.limitVisibleRange(v),p&&(d=v.full_width),f.unshift(v)}for(g=0;g<f.length-1;g++)this.alineScaleColumns(f[f.length-1],f[g]);for(g=0;g<f.length;g++)r&&this.reverseScale(f[g]),this.setPosSettings(f[g]);return f},reverseScale:function(i){i.width=i.width.reverse(),i.trace_x=i.trace_x.reverse();var o=i.trace_indexes;i.trace_indexes={},i.trace_index_transition={},i.rtl=!0;for(var e=0;e<i.trace_x.length;e++)i.trace_indexes[i.trace_x[e].valueOf()]=e,i.trace_index_transition[o[i.trace_x[e].valueOf()]]=e;return i},setPosSettings:function(i){for(var o=0,e=i.trace_x.length;o<e;o++)i.left.push((i.width[o-1]||0)+(i.left[o-1]||0))},_ignore_time_config:function(i,o){if(u.config.skip_off_time){for(var e=!0,t=i,n=0;n<o.step;n++)n&&(t=s.add(i,n,o.unit)),e=e&&!this.isWorkTime(t,o.unit);return e}return!1},processIgnores:function(i){i.ignore_x={},i.display_count=i.count},initColSizes:function(i,o,e,t){var n=e;i.height=t;var a=i.display_count===void 0?i.count:i.display_count;a||(a=1),i.col_width=Math.floor(n/a),o&&i.col_width<o&&(i.col_width=o,n=i.col_width*a),i.width=[];for(var r=i.ignore_x||{},l=0;l<i.trace_x.length;l++)if(r[i.trace_x[l].valueOf()]||i.display_count==i.count)i.width[l]=0;else{var d=1;i.unit=="month"&&(d=Math.round((s.add(i.trace_x[l],i.step,i.unit)-i.trace_x[l])/864e5)),i.width[l]=d}this.adjustSize(n-this.getSum(i.width),i.width),i.full_width=this.getSum(i.width)},initScaleConfig:function(i,o,e){var t=_.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(o),max_date:new Date(e)},i);return this.eachColumn(i.unit,i.step,o,e,function(n){t.count++,t.trace_x.push(new Date(n)),t.trace_indexes[n.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(i,o,e,t,n){for(var a=o.trace_x,r=i.trace_x,l=e||0,d=t||r.length-1,f=0,g=1;g<a.length;g++){var p=i.trace_indexes[+a[g]];p!==void 0&&p<=d&&(n&&n.apply(this,[f,g,l,p]),l=p,f=g)}},alineScaleColumns:function(i,o,e,t){this.iterateScales(i,o,e,t,function(n,a,r,l){var d=this.getSum(i.width,r,l-1);this.getSum(o.width,n,a-1)!=d&&this.setSumWidth(d,o,n,a-1)})},eachColumn:function(i,o,e,t,n){var a=new Date(e),r=new Date(t);s[i+"_start"]&&(a=s[i+"_start"](a));var l=new Date(a);for(+l>=+r&&(r=s.add(l,o,i));+l<+r;){n.call(this,new Date(l));var d=l.getTimezoneOffset();l=s.add(l,o,i),l=u._correct_dst_change(l,d,o,i),s[i+"_start"]&&(l=s[i+"_start"](l))}},limitVisibleRange:function(i){var o=i.trace_x,e=i.width.length-1,t=0;if(+o[0]<+i.min_date&&e!=0){var n=Math.floor(i.width[0]*((o[1]-i.min_date)/(o[1]-o[0])));t+=i.width[0]-n,i.width[0]=n,o[0]=new Date(i.min_date)}var a=o.length-1,r=o[a],l=s.add(r,i.step,i.unit);if(+l>+i.max_date&&a>0&&(n=i.width[a]-Math.floor(i.width[a]*((l-i.max_date)/(l-r))),t+=i.width[a]-n,i.width[a]=n),t){for(var d=this.getSum(i.width),f=0,g=0;g<i.width.length;g++){var p=Math.floor(t*(i.width[g]/d));i.width[g]+=p,f+=p}this.adjustSize(t-f,i.width)}}}}},function(S,x,h){var _=h(49);S.exports=function(u){var s=new _(u);return s.processIgnores=function(c){var i=c.count;if(c.ignore_x={},u.ignore_time||u.config.skip_off_time){var o=u.ignore_time||function(){return!1};i=0;for(var e=0;e<c.trace_x.length;e++)o.call(u,c.trace_x[e])||this._ignore_time_config.call(u,c.trace_x[e],c)?(c.ignore_x[c.trace_x[e].valueOf()]=!0,c.ignored_colls=!0):i++}c.display_count=i},s}},function(S,x,h){var _=h(50),u=h(49);function s(c){var i=function(f){var g=new u(f).primaryScale(),p=g.unit,v=g.step;if(f.config.scale_offset_minimal){var y=new _(f),m=[y.primaryScale()].concat(y.getSubScales());y.sortScales(m),p=m[m.length-1].unit,v=m[m.length-1].step||1}return{unit:p,step:v}}(c),o=i.unit,e=i.step,t=function(f,g){var p={start_date:null,end_date:null};if(g.config.start_date&&g.config.end_date){p.start_date=g.date[f+"_start"](new Date(g.config.start_date));var v=new Date(g.config.end_date),y=g.date[f+"_start"](new Date(v));v=+v!=+y?g.date.add(y,1,f):y,p.end_date=v}return p}(o,c);if(!t.start_date||!t.end_date){for(var n=!0,a=c.getTaskByTime(),r=0;r<a.length;r++)if(a[r].type!==c.config.types.project){n=!1;break}if(a.length&&n){var l=a[0].start_date,d=c.date.add(l,1,c.config.duration_unit);t={start_date:new Date(l),end_date:new Date(d)}}else t=c.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=c.date[o+"_start"](t.start_date),t.start_date=c.calculateEndDate({start_date:c.date[o+"_start"](t.start_date),duration:-1,unit:o,step:e}),t.end_date=c.date[o+"_start"](t.end_date),t.end_date=c.calculateEndDate({start_date:t.end_date,duration:2,unit:o,step:e})}c._min_date=t.start_date,c._max_date=t.end_date}S.exports=function(c){s(c),function(i){if(i.config.fit_tasks){var o=+i._min_date,e=+i._max_date;if(+i._min_date!=o||+i._max_date!=e)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}}(c)}},function(S,x,h){var _=h(53),u=h(0),s=h(2),c=h(54),i=h(16),o=h(2).replaceValidZeroId;c.default&&(c=c.default);var e=function(t){c.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(f){var g=f;t.initItem&&(g=t.initItem(g));var p=this.getItem(f.id);return p&&p.parent!=g.parent&&this.move(g.id,g.$index||-1,g.parent||this._ganttConfig.root_id),g},this.$parentProperty=t.parentProperty||"parent",typeof t.rootId!="function"?this.$getRootId=function(f){return function(){return f}}(t.rootId||0):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var n={},a={},r={},l={},d=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,n={},a={},r={},l={},d=!1,this.eachItem(function(f){var g=this.getParent(f.id);f.$open&&r[g]!==!1?r[f.id]=!0:r[f.id]=!1,this._isSplitItem(f)&&(d=!0,n[f.id]=!0,a[f.id]=!0),d&&a[g]&&(a[f.id]=!0),r[g]||r[g]===void 0?l[f.id]=!0:l[f.id]=!1})}),this.attachEvent("onFilterItem",function(f,g){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var v=l[g.id];return d&&(v&&a[g.id]&&!n[g.id]&&(v=!!p),a[g.id]&&!n[g.id]&&(g.$split_subtask=!0)),g.$expanded_branch=!!l[g.id],!!v}),this.attachEvent("onFilter",function(){n={},a={},r={},l={}}),this};e.prototype=u.mixin({_buildTree:function(t){for(var n=null,a=this.$getRootId(),r=0,l=t.length;r<l;r++)n=t[r],this.setParent(n,o(this.getParent(n),a)||a);for(r=0,l=t.length;r<l;r++)n=t[r],this._add_branch(n),n.$level=this.calculateItemLevel(n),n.$local_index=this.getBranchIndex(n.id),u.defined(n.$open)||(n.$open=u.defined(n.open)?n.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return t.render=="split"&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var n=this._parseInner(t);this._buildTree(n),this.filter(),this._skip_refresh||this.callEvent("onParse",[n])},_addItemInner:function(t,n){var a=this.getParent(t);u.defined(a)||(a=this.$getRootId(),this.setParent(t,a));var r=this.getIndexById(a)+Math.min(Math.max(n,0),this.visibleOrder.length);1*r!==r&&(r=void 0),c.prototype._addItemInner.call(this,t,r),this.setParent(t,a),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,n)},_changeIdInner:function(t,n){var a=this.getChildren(t),r=this._searchVisibleOrder[t];c.prototype._changeIdInner.call(this,t,n);var l=this.getParent(n);this._replace_branch_child(l,t,n),this._branches[t]&&(this._branches[n]=this._branches[t]);for(var d=0;d<a.length;d++){var f=this.getItem(a[d]);f[this.$parentProperty]=n,f.$rendered_parent=n}this._searchVisibleOrder[n]=r,delete this._branches[t]},_traverseBranches:function(t,n){u.defined(n)||(n=this.$getRootId());var a=this._branches[n];if(a)for(var r=0;r<a.length;r++){var l=a[r];t.call(this,l),this._branches[l]&&this._traverseBranches(t,l)}},_updateOrder:function(t){this.fullOrder=_.$create(),this._traverseBranches(function(n){this.fullOrder.push(n)}),t&&c.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var n=[];this.eachItem(function(r){n.push(r)},t),n.push(this.getItem(t));for(var a=0;a<n.length;a++)this._move_branch(n[a],this.getParent(n[a]),null),c.prototype._removeItemInner.call(this,n[a].id),this._move_branch(n[a],this.getParent(n[a]),null)},move:function(t,n,a){var r=arguments[3],l=(this._ganttConfig||{}).root_id||0;if(r=o(r,l)){if(r===t)return;a=this.getParent(r),n=this.getBranchIndex(r)}if(t!=a){u.defined(a)||(a=this.$getRootId());var d=this.getItem(t),f=this.getParent(d.id),g=this.getChildren(a);if(n==-1&&(n=g.length+1),f==a&&this.getBranchIndex(t)==n)return;if(this.callEvent("onBeforeItemMove",[t,a,n])===!1)return!1;for(var p=[],v=0;v<g.length;v++)i(g[v],null,this,this._ganttConfig)&&(p.push(g[v]),g.splice(v,1),v--);this._replace_branch_child(f,t);var y=(g=this.getChildren(a))[n];(y=o(y,l))?g=g.slice(0,n).concat([t]).concat(g.slice(n)):g.push(t),p.length&&(g=g.concat(p)),this.setParent(d,a),this._branches[a]=g;var m=this.calculateItemLevel(d)-d.$level;d.$level+=m,this.eachItem(function(b){b.$level+=m},d.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(a)+n),this.callEvent("onAfterItemMove",[t,a,n]),this.refresh()}},getBranchIndex:function(t){for(var n=this.getChildren(this.getParent(t)),a=0;a<n.length;a++)if(n[a]==t)return a;return-1},hasChild:function(t){var n=this._branches[t];return n&&n.length},getChildren:function(t){var n=this._branches[t];return n||_.$create()},isChildOf:function(t,n){if(!this.exists(t))return!1;if(n===this.$getRootId())return!0;if(!this.hasChild(n))return!1;var a=this.getItem(t),r=this.getParent(t);if(this.getItem(n).$level>=a.$level)return!1;for(;a&&this.exists(r);){if((a=this.getItem(r))&&a.id==n)return!0;r=this.getParent(a)}return!1},getSiblings:function(t){if(!this.exists(t))return _.$create();var n=this.getParent(t);return this.getChildren(n)},getNextSibling:function(t){for(var n=this.getSiblings(t),a=0,r=n.length;a<r;a++)if(n[a]==t){var l=n[a+1];return l===0&&a>0&&(l="0"),l||null}return null},getPrevSibling:function(t){for(var n=this.getSiblings(t),a=0,r=n.length;a<r;a++)if(n[a]==t){var l=n[a-1];return l===0&&a>0&&(l="0"),l||null}return null},getParent:function(t){var n=null;return(n=t.id!==void 0?t:this.getItem(t))?n[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},c.prototype.clearAll.call(this)},calculateItemLevel:function(t){var n=0;return this.eachParent(function(){n++},t),n},_setParentInner:function(t,n,a){a||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,n):this._move_branch(t,t[this.$parentProperty],n))},setParent:function(t,n,a){this._setParentInner(t,n,a),t[this.$parentProperty]=n},_eachItemCached:function(t,n){for(var a=0,r=n.length;a<r;a++)t.call(this,n[a])},_eachItemIterate:function(t,n,a){var r=this.getChildren(n);for(r.length&&(r=r.slice().reverse());r.length;){var l=r.pop(),d=this.getItem(l);if(t.call(this,d),a&&a.push(d),this.hasChild(d.id))for(var f=this.getChildren(d.id),g=f.length-1;g>=0;g--)r.push(f[g])}},eachItem:function(t,n){var a=this.$getRootId();u.defined(n)||(n=a);var r=o(n,a)||a,l=!1,d=!1,f=null;r===a&&(this._eachItemMainRangeCache?(l=!0,f=this._eachItemMainRangeCache):(d=!0,f=this._eachItemMainRangeCache=[])),l?this._eachItemCached(t,f):this._eachItemIterate(t,r,d?f:null)},eachParent:function(t,n){for(var a={},r=n,l=this.getParent(r);this.exists(l);){if(a[l])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+l);a[l]=!0,r=this.getItem(l),t.call(this,r),l=this.getParent(r)}},_add_branch:function(t,n,a){var r=a===void 0?this.getParent(t):a;this.hasChild(r)||(this._branches[r]=_.$create());for(var l=this.getChildren(r),d=!1,f=0,g=l.length;f<g;f++)if(l[f]==t.id){d=!0;break}d||(1*n==n?l.splice(n,0,t.id):l.push(t.id),t.$rendered_parent=r)},_move_branch:function(t,n,a){this._eachItemMainRangeCache=null,this._replace_branch_child(n,t.id),this.exists(a)||a==this.$getRootId()?this._add_branch(t,void 0,a):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(r){r.$level=this.calculateItemLevel(r)},t.id)},_replace_branch_child:function(t,n,a){var r=this.getChildren(t);if(r&&t!==void 0){for(var l=_.$create(),d=0;d<r.length;d++)r[d]!=n?l.push(r[d]):a&&l.push(a);this._branches[t]=l}},sort:function(t,n,a){this.exists(a)||(a=this.$getRootId()),t||(t="order");var r=typeof t=="string"?function(p,v){return p[t]==v[t]||s.isDate(p[t])&&s.isDate(v[t])&&p[t].valueOf()==v[t].valueOf()?0:p[t]>v[t]?1:-1}:t;if(n){var l=r;r=function(p,v){return l(v,p)}}var d=this.getChildren(a);if(d){for(var f=[],g=d.length-1;g>=0;g--)f[g]=this.getItem(d[g]);for(f.sort(r),g=0;g<f.length;g++)d[g]=f[g].id,this.sort(t,n,d[g])}},filter:function(t){for(var n in this.pull)this.pull[n].$rendered_parent!==this.getParent(this.pull[n])&&this._move_branch(this.pull[n],this.pull[n].$rendered_parent,this.getParent(this.pull[n]));return c.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this._skipTaskRecalculation=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this._skipTaskRecalculation=!0,this.callEvent("onItemClose",[t]))},destructor:function(){c.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},c.prototype),S.exports=e},function(S,x,h){var _=h(0),u={$create:function(s){return _.mixin(s||[],this)},$removeAt:function(s,c){s>=0&&this.splice(s,c||1)},$remove:function(s){this.$removeAt(this.$find(s))},$insertAt:function(s,c){if(c||c===0){var i=this.splice(c,this.length-c);this[c]=s,this.push.apply(this,i)}else this.push(s)},$find:function(s){for(var c=0;c<this.length;c++)if(s==this[c])return c;return-1},$each:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])},$map:function(s,c){for(var i=0;i<this.length;i++)this[i]=s.call(c||this,this[i]);return this},$filter:function(s,c){for(var i=0;i<this.length;i++)s.call(c||this,this[i])||(this.splice(i,1),i--);return this}};S.exports=u},function(S,x,h){var _=h(53),u=h(0),s=h(5),c=h(16),i=function(o){return this.pull={},this.$initItem=o.initItem,this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=o,s(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};i.prototype={_attachDataChange:function(o){this.attachEvent("onClearAll",o),this.attachEvent("onBeforeParse",o),this.attachEvent("onBeforeUpdate",o),this.attachEvent("onBeforeDelete",o),this.attachEvent("onBeforeAdd",o),this.attachEvent("onParse",o),this.attachEvent("onBeforeFilter",o)},_parseInner:function(o){for(var e=null,t=[],n=0,a=o.length;n<a;n++)e=o[n],this.$initItem&&(this.$config.copyOnParse()&&(e=u.copy(e)),e=this.$initItem(e)),this.callEvent("onItemLoading",[e])&&(this.pull.hasOwnProperty(e.id)||this.fullOrder.push(e.id),t.push(e),this.pull[e.id]=e);return t},parse:function(o){this.isSilent()||this.callEvent("onBeforeParse",[o]);var e=this._parseInner(o);this.isSilent()||(this.refresh(),this.callEvent("onParse",[e]))},getItem:function(o){return this.pull[o]},_updateOrder:function(o){o.call(this.visibleOrder),o.call(this.fullOrder)},updateItem:function(o,e){if(u.defined(e)||(e=this.getItem(o)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[e.id,e])===!1)return!1;u.mixin(this.pull[o],e,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"update"]))},_removeItemInner:function(o){this._updateOrder(function(){this.$remove(o)}),delete this.pull[o]},removeItem:function(o){var e=this.getItem(o);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[e.id,e])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[e.id,e]),this._removeItemInner(o),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[e.id,e]),this.callEvent("onStoreUpdated",[e.id,e,"delete"]))},_addItemInner:function(o,e){if(this.exists(o.id))this.silent(function(){this.updateItem(o.id,o)});else{var t=this.visibleOrder,n=t.length;(!u.defined(e)||e<0)&&(e=n),e>n&&(e=Math.min(t.length,e))}this.pull[o.id]=o,this.isSilent()||this._updateOrder(function(){this.$find(o.id)===-1&&this.$insertAt(o.id,e)}),this.filter()},isVisible:function(o){return this.visibleOrder.$find(o)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(o,e){return u.defined(o.id)||(o.id=u.uid()),this.$initItem&&(o=this.$initItem(o)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[o.id,o])===!1)&&(this._addItemInner(o,e),this.isSilent()||(this.callEvent("onAfterAdd",[o.id,o]),this.callEvent("onStoreUpdated",[o.id,o,"add"])),o.id)},_changeIdInner:function(o,e){this.pull[o]&&(this.pull[e]=this.pull[o]);var t=this._searchVisibleOrder[o];this.pull[e].id=e,this._updateOrder(function(){this[this.$find(o)]=e}),this._searchVisibleOrder[e]=t,delete this._searchVisibleOrder[o],delete this.pull[o]},changeId:function(o,e){this._changeIdInner(o,e),this.callEvent("onIdChange",[o,e])},exists:function(o){return!!this.pull[o]},_moveInner:function(o,e){var t=this.getIdByIndex(o);this._updateOrder(function(){this.$removeAt(o),this.$insertAt(t,Math.min(this.length,e))})},move:function(o,e){var t=this.getIdByIndex(o),n=this.getItem(t);this._moveInner(o,e),this.isSilent()||this.callEvent("onStoreUpdated",[n.id,n,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=_.$create(),this.fullOrder=_.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(o,e){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,o.call(e||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(o,e){if(o.length!==e.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==e[t])return!1;return!0},refresh:function(o,e){var t,n;if(!this.isSilent()&&(o&&(t=this.getItem(o)),n=o?[o,t,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",n)!==!1)){var a=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,o){if(!e&&!a){var r=this.visibleOrder;this.filter(),this.arraysEqual(r,this.visibleOrder)||(o=void 0)}}else a||this.filter();n=o?[o,t,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",n)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(o){},serialize:function(){},eachItem:function(o){for(var e=0;e<this.fullOrder.length;e++){var t=this.getItem(this.fullOrder[e]);o.call(this,t)}},find:function(o){var e=[];return this.eachItem(function(t){o(t)&&e.push(t)}),e},filter:function(o){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var e=_.$create(),t=[];this.eachItem(function(a){this.callEvent("onFilterItem",[a.id,a])&&(c(a.id,null,this,this._ganttConfig)?t.push(a.id):e.push(a.id))});for(var n=0;n<t.length;n++)e.push(t[n]);for(this.visibleOrder=e,this._searchVisibleOrder={},n=0;n<this.visibleOrder.length;n++)this._searchVisibleOrder[this.visibleOrder[n]]=n;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(o,e){var t=Math.min(e||1/0,this.countVisible()-1),n=o||0,a=n+"-"+t;if(this._indexRangeCache[a])return this._indexRangeCache[a].slice();for(var r=[],l=n;l<=t;l++)r.push(this.getItem(this.visibleOrder[l]));return this._indexRangeCache[a]=r.slice(),r},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var o=[];for(var e in this.pull)o.push(this.pull[e]);return this._getItemsCache=o.slice(),o},getIdByIndex:function(o){return this.visibleOrder[o]},getIndexById:function(o){var e=this._searchVisibleOrder[o];return e===void 0&&(e=-1),e},_getNullIfUndefined:function(o){return o===void 0?null:o},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(o){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(o)+1])},getPrev:function(o){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(o)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},S.exports=i},function(S,x){S.exports=function(h,_){if(!_)return!0;if(h._on_timeout)return!1;var u=Math.ceil(1e3/_);return u<2||(setTimeout(function(){delete h._on_timeout},u),h._on_timeout=!0,!0)}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){return function(u){var s=this;for(var c in this.addExtension=function(i,o){s._extensions[i]=o},this.getExtension=function(i){return s._extensions[i]},this._extensions={},u)this._extensions[c]=u[c]}}();x.default=_},function(S,x,h){var _=h(0);S.exports=function u(s,c){s=s||_.event,c=c||_.eventRemove;var i=[],o={attach:function(e,t,n,a){i.push({element:e,event:t,callback:n,capture:a}),s(e,t,n,a)},detach:function(e,t,n,a){c(e,t,n,a);for(var r=0;r<i.length;r++){var l=i[r];l.element===e&&l.event===t&&l.callback===n&&l.capture===a&&(i.splice(r,1),r--)}},detachAll:function(){for(var e=i.slice(),t=0;t<e.length;t++){var n=e[t];o.detach(n.element,n.event,n.callback,n.capture),o.detach(n.element,n.event,n.callback,void 0),o.detach(n.element,n.event,n.callback,!1),o.detach(n.element,n.event,n.callback,!0)}i.splice(0,i.length)},extend:function(){return u(this.event,this.eventRemove)}};return o}},function(S,x){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}S.exports=(typeof self>"u"?"undefined":h(self))=="object"?self.FormData:window.FormData},function(S,x){(function(h){S.exports=h}).call(this,{})},function(S,x,h){S.exports=s;var _=h(13),u=h(18);function s(o){if(!(this instanceof s))return new s(o);_.call(this,o),this._transformState={afterTransform:(function(e,t){var n=this._transformState;n.transforming=!1;var a=n.writecb;if(!a)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,t!=null&&this.push(t),a(e);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}).bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",c)}function c(){var o=this;typeof this._flush=="function"?this._flush(function(e,t){i(o,e,t)}):i(this,null,null)}function i(o,e,t){if(e)return o.emit("error",e);if(t!=null&&o.push(t),o._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(o._transformState.transforming)throw new Error("Calling transform done when still transforming");return o.push(null)}u.inherits=h(9),u.inherits(s,_),s.prototype.push=function(o,e){return this._transformState.needTransform=!1,_.prototype.push.call(this,o,e)},s.prototype._transform=function(o,e,t){throw new Error("_transform() is not implemented")},s.prototype._write=function(o,e,t){var n=this._transformState;if(n.writecb=t,n.writechunk=o,n.writeencoding=e,!n.transforming){var a=this._readableState;(n.needTransform||a.needReadable||a.length<a.highWaterMark)&&this._read(a.highWaterMark)}},s.prototype._read=function(o){var e=this._transformState;e.writechunk!==null&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(o,e){var t=this;_.prototype._destroy.call(this,o,function(n){e(n),t.emit("close")})}},function(S,x,h){var _=h(21).Buffer,u=_.isEncoding||function(l){switch((l=""+l)&&l.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function s(l){var d;switch(this.encoding=function(f){var g=function(p){if(!p)return"utf8";for(var v;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(v)return;p=(""+p).toLowerCase(),v=!0}}(f);if(typeof g!="string"&&(_.isEncoding===u||!u(f)))throw new Error("Unknown encoding: "+f);return g||f}(l),this.encoding){case"utf16le":this.text=o,this.end=e,d=4;break;case"utf8":this.fillLast=i,d=4;break;case"base64":this.text=t,this.end=n,d=3;break;default:return this.write=a,void(this.end=r)}this.lastNeed=0,this.lastTotal=0,this.lastChar=_.allocUnsafe(d)}function c(l){return l<=127?0:l>>5==6?2:l>>4==14?3:l>>3==30?4:l>>6==2?-1:-2}function i(l){var d=this.lastTotal-this.lastNeed,f=function(g,p,v){if((192&p[0])!=128)return g.lastNeed=0,"�";if(g.lastNeed>1&&p.length>1){if((192&p[1])!=128)return g.lastNeed=1,"�";if(g.lastNeed>2&&p.length>2&&(192&p[2])!=128)return g.lastNeed=2,"�"}}(this,l);return f!==void 0?f:this.lastNeed<=l.length?(l.copy(this.lastChar,d,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(l.copy(this.lastChar,d,0,l.length),void(this.lastNeed-=l.length))}function o(l,d){if((l.length-d)%2==0){var f=l.toString("utf16le",d);if(f){var g=f.charCodeAt(f.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1],f.slice(0,-1)}return f}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=l[l.length-1],l.toString("utf16le",d,l.length-1)}function e(l){var d=l&&l.length?this.write(l):"";if(this.lastNeed){var f=this.lastTotal-this.lastNeed;return d+this.lastChar.toString("utf16le",0,f)}return d}function t(l,d){var f=(l.length-d)%3;return f===0?l.toString("base64",d):(this.lastNeed=3-f,this.lastTotal=3,f===1?this.lastChar[0]=l[l.length-1]:(this.lastChar[0]=l[l.length-2],this.lastChar[1]=l[l.length-1]),l.toString("base64",d,l.length-f))}function n(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+this.lastChar.toString("base64",0,3-this.lastNeed):d}function a(l){return l.toString(this.encoding)}function r(l){return l&&l.length?this.write(l):""}x.StringDecoder=s,s.prototype.write=function(l){if(l.length===0)return"";var d,f;if(this.lastNeed){if((d=this.fillLast(l))===void 0)return"";f=this.lastNeed,this.lastNeed=0}else f=0;return f<l.length?d?d+this.text(l,f):this.text(l,f):d||""},s.prototype.end=function(l){var d=l&&l.length?this.write(l):"";return this.lastNeed?d+"�":d},s.prototype.text=function(l,d){var f=function(p,v,y){var m=v.length-1;if(m<y)return 0;var b=c(v[m]);return b>=0?(b>0&&(p.lastNeed=b-1),b):--m<y||b===-2?0:(b=c(v[m]))>=0?(b>0&&(p.lastNeed=b-2),b):--m<y||b===-2?0:(b=c(v[m]))>=0?(b>0&&(b===2?b=0:p.lastNeed=b-3),b):0}(this,l,d);if(!this.lastNeed)return l.toString("utf8",d);this.lastTotal=f;var g=l.length-(f-this.lastNeed);return l.copy(this.lastChar,0,g),l.toString("utf8",d,g)},s.prototype.fillLast=function(l){if(this.lastNeed<=l.length)return l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);l.copy(this.lastChar,this.lastTotal-this.lastNeed,0,l.length),this.lastNeed-=l.length}},function(S,x,h){(function(_){var u=_!==void 0&&_||typeof self<"u"&&self||window,s=Function.prototype.apply;function c(i,o){this._id=i,this._clearFn=o}x.setTimeout=function(){return new c(s.call(setTimeout,u,arguments),clearTimeout)},x.setInterval=function(){return new c(s.call(setInterval,u,arguments),clearInterval)},x.clearTimeout=x.clearInterval=function(i){i&&i.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(u,this._id)},x.enroll=function(i,o){clearTimeout(i._idleTimeoutId),i._idleTimeout=o},x.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},x._unrefActive=x.active=function(i){clearTimeout(i._idleTimeoutId);var o=i._idleTimeout;o>=0&&(i._idleTimeoutId=setTimeout(function(){i._onTimeout&&i._onTimeout()},o))},h(300),x.setImmediate=typeof self<"u"&&self.setImmediate||_!==void 0&&_.setImmediate||this&&this.setImmediate,x.clearImmediate=typeof self<"u"&&self.clearImmediate||_!==void 0&&_.clearImmediate||this&&this.clearImmediate}).call(this,h(4))},function(S,x,h){(function(_,u,s){var c=h(22);function i(T){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(P,j,N){var L=P.entry;for(P.entry=null;L;){var B=L.callback;j.pendingcb--,B(N),L=L.next}j.corkedRequestsFree?j.corkedRequestsFree.next=P:j.corkedRequestsFree=P})(E,T)}}S.exports=v;var o,e=!_.browser&&["v0.10","v0.9."].indexOf(_.version.slice(0,5))>-1?u:c.nextTick;v.WritableState=p;var t=h(18);t.inherits=h(9);var n={deprecate:h(299)},a=h(65),r=h(21).Buffer,l=s.Uint8Array||function(){},d,f=h(64);function g(){}function p(T,E){o=o||h(13),T=T||{};var P=E instanceof o;this.objectMode=!!T.objectMode,P&&(this.objectMode=this.objectMode||!!T.writableObjectMode);var j=T.highWaterMark,N=T.writableHighWaterMark,L=this.objectMode?16:16384;this.highWaterMark=j||j===0?j:P&&(N||N===0)?N:L,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var B=T.decodeStrings===!1;this.decodeStrings=!B,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(I){(function(V,Y){var H=V._writableState,F=H.sync,G=H.writecb;if(function(K){K.writing=!1,K.writecb=null,K.length-=K.writelen,K.writelen=0}(H),Y)(function(K,Q,W,O,$){--Q.pendingcb,W?(c.nextTick($,O),c.nextTick(w,K,Q),K._writableState.errorEmitted=!0,K.emit("error",O)):($(O),K._writableState.errorEmitted=!0,K.emit("error",O),w(K,Q))})(V,H,F,Y,G);else{var R=k(H);R||H.corked||H.bufferProcessing||!H.bufferedRequest||b(V,H),F?e(m,V,H,R,G):m(V,H,R,G)}})(E,I)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function v(T){if(o=o||h(13),!(d.call(v,this)||this instanceof o))return new v(T);this._writableState=new p(T,this),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),a.call(this)}function y(T,E,P,j,N,L,B){E.writelen=j,E.writecb=B,E.writing=!0,E.sync=!0,P?T._writev(N,E.onwrite):T._write(N,L,E.onwrite),E.sync=!1}function m(T,E,P,j){P||function(N,L){L.length===0&&L.needDrain&&(L.needDrain=!1,N.emit("drain"))}(T,E),E.pendingcb--,j(),w(T,E)}function b(T,E){E.bufferProcessing=!0;var P=E.bufferedRequest;if(T._writev&&P&&P.next){var j=E.bufferedRequestCount,N=new Array(j),L=E.corkedRequestsFree;L.entry=P;for(var B=0,I=!0;P;)N[B]=P,P.isBuf||(I=!1),P=P.next,B+=1;N.allBuffers=I,y(T,E,!0,E.length,N,"",L.finish),E.pendingcb++,E.lastBufferedRequest=null,L.next?(E.corkedRequestsFree=L.next,L.next=null):E.corkedRequestsFree=new i(E),E.bufferedRequestCount=0}else{for(;P;){var V=P.chunk,Y=P.encoding,H=P.callback;if(y(T,E,!1,E.objectMode?1:V.length,V,Y,H),P=P.next,E.bufferedRequestCount--,E.writing)break}P===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=P,E.bufferProcessing=!1}function k(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function C(T,E){T._final(function(P){E.pendingcb--,P&&T.emit("error",P),E.prefinished=!0,T.emit("prefinish"),w(T,E)})}function w(T,E){var P=k(E);return P&&(function(j,N){N.prefinished||N.finalCalled||(typeof j._final=="function"?(N.pendingcb++,N.finalCalled=!0,c.nextTick(C,j,N)):(N.prefinished=!0,j.emit("prefinish")))}(T,E),E.pendingcb===0&&(E.finished=!0,T.emit("finish"))),P}t.inherits(v,a),p.prototype.getBuffer=function(){for(var T=this.bufferedRequest,E=[];T;)E.push(T),T=T.next;return E},function(){try{Object.defineProperty(p.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(T){return!!d.call(this,T)||this===v&&T&&T._writableState instanceof p}})):d=function(T){return T instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(T,E,P){var j=this._writableState,N=!1,L=!j.objectMode&&function(B){return r.isBuffer(B)||B instanceof l}(T);return L&&!r.isBuffer(T)&&(T=function(B){return r.from(B)}(T)),typeof E=="function"&&(P=E,E=null),L?E="buffer":E||(E=j.defaultEncoding),typeof P!="function"&&(P=g),j.ended?function(B,I){var V=new Error("write after end");B.emit("error",V),c.nextTick(I,V)}(this,P):(L||function(B,I,V,Y){var H=!0,F=!1;return V===null?F=new TypeError("May not write null values to stream"):typeof V=="string"||V===void 0||I.objectMode||(F=new TypeError("Invalid non-string/buffer chunk")),F&&(B.emit("error",F),c.nextTick(Y,F),H=!1),H}(this,j,T,P))&&(j.pendingcb++,N=function(B,I,V,Y,H,F){if(!V){var G=function(W,O,$){return W.objectMode||W.decodeStrings===!1||typeof O!="string"||(O=r.from(O,$)),O}(I,Y,H);Y!==G&&(V=!0,H="buffer",Y=G)}var R=I.objectMode?1:Y.length;I.length+=R;var K=I.length<I.highWaterMark;if(K||(I.needDrain=!0),I.writing||I.corked){var Q=I.lastBufferedRequest;I.lastBufferedRequest={chunk:Y,encoding:H,isBuf:V,callback:F,next:null},Q?Q.next=I.lastBufferedRequest:I.bufferedRequest=I.lastBufferedRequest,I.bufferedRequestCount+=1}else y(B,I,!1,R,Y,H,F);return K}(this,j,L,T,E,P)),N},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,T.writing||T.corked||T.finished||T.bufferProcessing||!T.bufferedRequest||b(this,T))},v.prototype.setDefaultEncoding=function(T){if(typeof T=="string"&&(T=T.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((T+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+T);return this._writableState.defaultEncoding=T,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(T,E,P){P(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(T,E,P){var j=this._writableState;typeof T=="function"?(P=T,T=null,E=null):typeof E=="function"&&(P=E,E=null),T!=null&&this.write(T,E),j.corked&&(j.corked=1,this.uncork()),j.ending||j.finished||function(N,L,B){L.ending=!0,w(N,L),B&&(L.finished?c.nextTick(B):N.once("finish",B)),L.ended=!0,N.writable=!1}(this,j,P)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(T){this._writableState&&(this._writableState.destroyed=T)}}),v.prototype.destroy=f.destroy,v.prototype._undestroy=f.undestroy,v.prototype._destroy=function(T,E){this.end(),E(T)}}).call(this,h(10),h(62).setImmediate,h(4))},function(S,x,h){var _=h(22);function u(s,c){s.emit("error",c)}S.exports={destroy:function(s,c){var i=this,o=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return o||e?(c?c(s):!s||this._writableState&&this._writableState.errorEmitted||_.nextTick(u,this,s),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(t){!c&&t?(_.nextTick(u,i,t),i._writableState&&(i._writableState.errorEmitted=!0)):c&&c(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(S,x,h){S.exports=h(66).EventEmitter},function(S,x){function h(i){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}function _(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function u(i){return typeof i=="function"}function s(i){return h(i)==="object"&&i!==null}function c(i){return i===void 0}S.exports=_,_.EventEmitter=_,_.prototype._events=void 0,_.prototype._maxListeners=void 0,_.defaultMaxListeners=10,_.prototype.setMaxListeners=function(i){if(!function(o){return typeof o=="number"}(i)||i<0||isNaN(i))throw TypeError("n must be a positive number");return this._maxListeners=i,this},_.prototype.emit=function(i){var o,e,t,n,a,r;if(this._events||(this._events={}),i==="error"&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((o=arguments[1])instanceof Error)throw o;var l=new Error('Uncaught, unspecified "error" event. ('+o+")");throw l.context=o,l}if(c(e=this._events[i]))return!1;if(u(e))switch(arguments.length){case 1:e.call(this);break;case 2:e.call(this,arguments[1]);break;case 3:e.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),e.apply(this,n)}else if(s(e))for(n=Array.prototype.slice.call(arguments,1),t=(r=e.slice()).length,a=0;a<t;a++)r[a].apply(this,n);return!0},_.prototype.addListener=function(i,o){var e;if(!u(o))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",i,u(o.listener)?o.listener:o),this._events[i]?s(this._events[i])?this._events[i].push(o):this._events[i]=[this._events[i],o]:this._events[i]=o,s(this._events[i])&&!this._events[i].warned&&(e=c(this._maxListeners)?_.defaultMaxListeners:this._maxListeners)&&e>0&&this._events[i].length>e&&(this._events[i].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[i].length),typeof console.trace=="function"&&console.trace()),this},_.prototype.on=_.prototype.addListener,_.prototype.once=function(i,o){if(!u(o))throw TypeError("listener must be a function");var e=!1;function t(){this.removeListener(i,t),e||(e=!0,o.apply(this,arguments))}return t.listener=o,this.on(i,t),this},_.prototype.removeListener=function(i,o){var e,t,n,a;if(!u(o))throw TypeError("listener must be a function");if(!this._events||!this._events[i])return this;if(n=(e=this._events[i]).length,t=-1,e===o||u(e.listener)&&e.listener===o)delete this._events[i],this._events.removeListener&&this.emit("removeListener",i,o);else if(s(e)){for(a=n;a-- >0;)if(e[a]===o||e[a].listener&&e[a].listener===o){t=a;break}if(t<0)return this;e.length===1?(e.length=0,delete this._events[i]):e.splice(t,1),this._events.removeListener&&this.emit("removeListener",i,o)}return this},_.prototype.removeAllListeners=function(i){var o,e;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[i]&&delete this._events[i],this;if(arguments.length===0){for(o in this._events)o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events={},this}if(u(e=this._events[i]))this.removeListener(i,e);else if(e)for(;e.length;)this.removeListener(i,e[e.length-1]);return delete this._events[i],this},_.prototype.listeners=function(i){return this._events&&this._events[i]?u(this._events[i])?[this._events[i]]:this._events[i].slice():[]},_.prototype.listenerCount=function(i){if(this._events){var o=this._events[i];if(u(o))return 1;if(o)return o.length}return 0},_.listenerCount=function(i,o){return i.listenerCount(o)}},function(S,x,h){(function(_,u){var s=h(22);S.exports=y;var c,i=h(71);y.ReadableState=v,h(66).EventEmitter;var o=function(H,F){return H.listeners(F).length},e=h(65),t=h(21).Buffer,n=_.Uint8Array||function(){},a=h(18);a.inherits=h(9);var r=h(303),l=void 0;l=r&&r.debuglog?r.debuglog("stream"):function(){};var d,f=h(302),g=h(64);a.inherits(y,e);var p=["error","close","destroy","pause","resume"];function v(H,F){c=c||h(13),H=H||{};var G=F instanceof c;this.objectMode=!!H.objectMode,G&&(this.objectMode=this.objectMode||!!H.readableObjectMode);var R=H.highWaterMark,K=H.readableHighWaterMark,Q=this.objectMode?16:16384;this.highWaterMark=R||R===0?R:G&&(K||K===0)?K:Q,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=H.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,H.encoding&&(d||(d=h(61).StringDecoder),this.decoder=new d(H.encoding),this.encoding=H.encoding)}function y(H){if(c=c||h(13),!(this instanceof y))return new y(H);this._readableState=new v(H,this),this.readable=!0,H&&(typeof H.read=="function"&&(this._read=H.read),typeof H.destroy=="function"&&(this._destroy=H.destroy)),e.call(this)}function m(H,F,G,R,K){var Q,W=H._readableState;return F===null?(W.reading=!1,function(O,$){if(!$.ended){if($.decoder){var D=$.decoder.end();D&&D.length&&($.buffer.push(D),$.length+=$.objectMode?1:D.length)}$.ended=!0,w(O)}}(H,W)):(K||(Q=function(O,$){var D;return function(M){return t.isBuffer(M)||M instanceof n}($)||typeof $=="string"||$===void 0||O.objectMode||(D=new TypeError("Invalid non-string/buffer chunk")),D}(W,F)),Q?H.emit("error",Q):W.objectMode||F&&F.length>0?(typeof F=="string"||W.objectMode||Object.getPrototypeOf(F)===t.prototype||(F=function(O){return t.from(O)}(F)),R?W.endEmitted?H.emit("error",new Error("stream.unshift() after end event")):b(H,W,F,!0):W.ended?H.emit("error",new Error("stream.push() after EOF")):(W.reading=!1,W.decoder&&!G?(F=W.decoder.write(F),W.objectMode||F.length!==0?b(H,W,F,!1):E(H,W)):b(H,W,F,!1))):R||(W.reading=!1)),function(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)}(W)}function b(H,F,G,R){F.flowing&&F.length===0&&!F.sync?(H.emit("data",G),H.read(0)):(F.length+=F.objectMode?1:G.length,R?F.buffer.unshift(G):F.buffer.push(G),F.needReadable&&w(H)),E(H,F)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(H){this._readableState&&(this._readableState.destroyed=H)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(H,F){this.push(null),F(H)},y.prototype.push=function(H,F){var G,R=this._readableState;return R.objectMode?G=!0:typeof H=="string"&&((F=F||R.defaultEncoding)!==R.encoding&&(H=t.from(H,F),F=""),G=!0),m(this,H,F,!1,G)},y.prototype.unshift=function(H){return m(this,H,null,!0,!1)},y.prototype.isPaused=function(){return this._readableState.flowing===!1},y.prototype.setEncoding=function(H){return d||(d=h(61).StringDecoder),this._readableState.decoder=new d(H),this._readableState.encoding=H,this};var k=8388608;function C(H,F){return H<=0||F.length===0&&F.ended?0:F.objectMode?1:H!=H?F.flowing&&F.length?F.buffer.head.data.length:F.length:(H>F.highWaterMark&&(F.highWaterMark=function(G){return G>=k?G=k:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(H)),H<=F.length?H:F.ended?F.length:(F.needReadable=!0,0))}function w(H){var F=H._readableState;F.needReadable=!1,F.emittedReadable||(l("emitReadable",F.flowing),F.emittedReadable=!0,F.sync?s.nextTick(T,H):T(H))}function T(H){l("emit readable"),H.emit("readable"),L(H)}function E(H,F){F.readingMore||(F.readingMore=!0,s.nextTick(P,H,F))}function P(H,F){for(var G=F.length;!F.reading&&!F.flowing&&!F.ended&&F.length<F.highWaterMark&&(l("maybeReadMore read 0"),H.read(0),G!==F.length);)G=F.length;F.readingMore=!1}function j(H){l("readable nexttick read 0"),H.read(0)}function N(H,F){F.reading||(l("resume read 0"),H.read(0)),F.resumeScheduled=!1,F.awaitDrain=0,H.emit("resume"),L(H),F.flowing&&!F.reading&&H.read(0)}function L(H){var F=H._readableState;for(l("flow",F.flowing);F.flowing&&H.read()!==null;);}function B(H,F){return F.length===0?null:(F.objectMode?G=F.buffer.shift():!H||H>=F.length?(G=F.decoder?F.buffer.join(""):F.buffer.length===1?F.buffer.head.data:F.buffer.concat(F.length),F.buffer.clear()):G=function(R,K,Q){var W;return R<K.head.data.length?(W=K.head.data.slice(0,R),K.head.data=K.head.data.slice(R)):W=R===K.head.data.length?K.shift():Q?function(O,$){var D=$.head,M=1,U=D.data;for(O-=U.length;D=D.next;){var q=D.data,X=O>q.length?q.length:O;if(X===q.length?U+=q:U+=q.slice(0,O),(O-=X)===0){X===q.length?(++M,D.next?$.head=D.next:$.head=$.tail=null):($.head=D,D.data=q.slice(X));break}++M}return $.length-=M,U}(R,K):function(O,$){var D=t.allocUnsafe(O),M=$.head,U=1;for(M.data.copy(D),O-=M.data.length;M=M.next;){var q=M.data,X=O>q.length?q.length:O;if(q.copy(D,D.length-O,0,X),(O-=X)===0){X===q.length?(++U,M.next?$.head=M.next:$.head=$.tail=null):($.head=M,M.data=q.slice(X));break}++U}return $.length-=U,D}(R,K),W}(H,F.buffer,F.decoder),G);var G}function I(H){var F=H._readableState;if(F.length>0)throw new Error('"endReadable()" called on non-empty stream');F.endEmitted||(F.ended=!0,s.nextTick(V,F,H))}function V(H,F){H.endEmitted||H.length!==0||(H.endEmitted=!0,F.readable=!1,F.emit("end"))}function Y(H,F){for(var G=0,R=H.length;G<R;G++)if(H[G]===F)return G;return-1}y.prototype.read=function(H){l("read",H),H=parseInt(H,10);var F=this._readableState,G=H;if(H!==0&&(F.emittedReadable=!1),H===0&&F.needReadable&&(F.length>=F.highWaterMark||F.ended))return l("read: emitReadable",F.length,F.ended),F.length===0&&F.ended?I(this):w(this),null;if((H=C(H,F))===0&&F.ended)return F.length===0&&I(this),null;var R,K=F.needReadable;return l("need readable",K),(F.length===0||F.length-H<F.highWaterMark)&&l("length less than watermark",K=!0),F.ended||F.reading?l("reading or ended",K=!1):K&&(l("do read"),F.reading=!0,F.sync=!0,F.length===0&&(F.needReadable=!0),this._read(F.highWaterMark),F.sync=!1,F.reading||(H=C(G,F))),(R=H>0?B(H,F):null)===null?(F.needReadable=!0,H=0):F.length-=H,F.length===0&&(F.ended||(F.needReadable=!0),G!==H&&F.ended&&I(this)),R!==null&&this.emit("data",R),R},y.prototype._read=function(H){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(H,F){var G=this,R=this._readableState;switch(R.pipesCount){case 0:R.pipes=H;break;case 1:R.pipes=[R.pipes,H];break;default:R.pipes.push(H)}R.pipesCount+=1,l("pipe count=%d opts=%j",R.pipesCount,F);var K=(!F||F.end!==!1)&&H!==u.stdout&&H!==u.stderr?W:nt;function Q(J,rt){l("onunpipe"),J===G&&rt&&rt.hasUnpiped===!1&&(rt.hasUnpiped=!0,l("cleanup"),H.removeListener("close",q),H.removeListener("finish",X),H.removeListener("drain",O),H.removeListener("error",U),H.removeListener("unpipe",Q),G.removeListener("end",W),G.removeListener("end",nt),G.removeListener("data",M),$=!0,!R.awaitDrain||H._writableState&&!H._writableState.needDrain||O())}function W(){l("onend"),H.end()}R.endEmitted?s.nextTick(K):G.once("end",K),H.on("unpipe",Q);var O=function(J){return function(){var rt=J._readableState;l("pipeOnDrain",rt.awaitDrain),rt.awaitDrain&&rt.awaitDrain--,rt.awaitDrain===0&&o(J,"data")&&(rt.flowing=!0,L(J))}}(G);H.on("drain",O);var $=!1,D=!1;function M(J){l("ondata"),D=!1,H.write(J)!==!1||D||((R.pipesCount===1&&R.pipes===H||R.pipesCount>1&&Y(R.pipes,H)!==-1)&&!$&&(l("false write response, pause",G._readableState.awaitDrain),G._readableState.awaitDrain++,D=!0),G.pause())}function U(J){l("onerror",J),nt(),H.removeListener("error",U),o(H,"error")===0&&H.emit("error",J)}function q(){H.removeListener("finish",X),nt()}function X(){l("onfinish"),H.removeListener("close",q),nt()}function nt(){l("unpipe"),G.unpipe(H)}return G.on("data",M),function(J,rt,ct){if(typeof J.prependListener=="function")return J.prependListener(rt,ct);J._events&&J._events[rt]?i(J._events[rt])?J._events[rt].unshift(ct):J._events[rt]=[ct,J._events[rt]]:J.on(rt,ct)}(H,"error",U),H.once("close",q),H.once("finish",X),H.emit("pipe",G),R.flowing||(l("pipe resume"),G.resume()),H},y.prototype.unpipe=function(H){var F=this._readableState,G={hasUnpiped:!1};if(F.pipesCount===0)return this;if(F.pipesCount===1)return H&&H!==F.pipes?this:(H||(H=F.pipes),F.pipes=null,F.pipesCount=0,F.flowing=!1,H&&H.emit("unpipe",this,G),this);if(!H){var R=F.pipes,K=F.pipesCount;F.pipes=null,F.pipesCount=0,F.flowing=!1;for(var Q=0;Q<K;Q++)R[Q].emit("unpipe",this,G);return this}var W=Y(F.pipes,H);return W===-1?this:(F.pipes.splice(W,1),F.pipesCount-=1,F.pipesCount===1&&(F.pipes=F.pipes[0]),H.emit("unpipe",this,G),this)},y.prototype.on=function(H,F){var G=e.prototype.on.call(this,H,F);if(H==="data")this._readableState.flowing!==!1&&this.resume();else if(H==="readable"){var R=this._readableState;R.endEmitted||R.readableListening||(R.readableListening=R.needReadable=!0,R.emittedReadable=!1,R.reading?R.length&&w(this):s.nextTick(j,this))}return G},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var H=this._readableState;return H.flowing||(l("resume"),H.flowing=!0,function(F,G){G.resumeScheduled||(G.resumeScheduled=!0,s.nextTick(N,F,G))}(this,H)),this},y.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(H){var F=this,G=this._readableState,R=!1;for(var K in H.on("end",function(){if(l("wrapped end"),G.decoder&&!G.ended){var W=G.decoder.end();W&&W.length&&F.push(W)}F.push(null)}),H.on("data",function(W){l("wrapped data"),G.decoder&&(W=G.decoder.write(W)),(!G.objectMode||W!=null)&&(G.objectMode||W&&W.length)&&(F.push(W)||(R=!0,H.pause()))}),H)this[K]===void 0&&typeof H[K]=="function"&&(this[K]=function(W){return function(){return H[W].apply(H,arguments)}}(K));for(var Q=0;Q<p.length;Q++)H.on(p[Q],this.emit.bind(this,p[Q]));return this._read=function(W){l("wrapped _read",W),R&&(R=!1,H.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=B}).call(this,h(4),h(10))},function(S,x,h){(x=S.exports=h(67)).Stream=x,x.Readable=x,x.Writable=h(63),x.Duplex=h(13),x.Transform=h(60),x.PassThrough=h(298)},function(S,x,h){(function(_,u,s){var c=h(70),i=h(9),o=h(68),e=x.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=x.IncomingMessage=function(n,a,r,l){var d=this;if(o.Readable.call(d),d._mode=r,d.headers={},d.rawHeaders=[],d.trailers={},d.rawTrailers=[],d.on("end",function(){_.nextTick(function(){d.emit("close")})}),r==="fetch"){if(d._fetchResponse=a,d.url=a.url,d.statusCode=a.status,d.statusMessage=a.statusText,a.headers.forEach(function(y,m){d.headers[m.toLowerCase()]=y,d.rawHeaders.push(m,y)}),c.writableStream){var f=new WritableStream({write:function(y){return new Promise(function(m,b){d._destroyed?b():d.push(new s(y))?m():d._resumeFetch=m})},close:function(){u.clearTimeout(l),d._destroyed||d.push(null)},abort:function(y){d._destroyed||d.emit("error",y)}});try{return void a.body.pipeTo(f).catch(function(y){u.clearTimeout(l),d._destroyed||d.emit("error",y)})}catch{}}var g=a.body.getReader();(function y(){g.read().then(function(m){if(!d._destroyed){if(m.done)return u.clearTimeout(l),void d.push(null);d.push(new s(m.value)),y()}}).catch(function(m){u.clearTimeout(l),d._destroyed||d.emit("error",m)})})()}else if(d._xhr=n,d._pos=0,d.url=n.responseURL,d.statusCode=n.status,d.statusMessage=n.statusText,n.getAllResponseHeaders().split(/\r?\n/).forEach(function(y){var m=y.match(/^([^:]+):\s*(.*)/);if(m){var b=m[1].toLowerCase();b==="set-cookie"?(d.headers[b]===void 0&&(d.headers[b]=[]),d.headers[b].push(m[2])):d.headers[b]!==void 0?d.headers[b]+=", "+m[2]:d.headers[b]=m[2],d.rawHeaders.push(m[1],m[2])}}),d._charset="x-user-defined",!c.overrideMimeType){var p=d.rawHeaders["mime-type"];if(p){var v=p.match(/;\s*charset=([^;])(;|$)/);v&&(d._charset=v[1].toLowerCase())}d._charset||(d._charset="utf-8")}};i(t,o.Readable),t.prototype._read=function(){var n=this._resumeFetch;n&&(this._resumeFetch=null,n())},t.prototype._onXHRProgress=function(){var n=this,a=n._xhr,r=null;switch(n._mode){case"text:vbarray":if(a.readyState!==e.DONE)break;try{r=new u.VBArray(a.responseBody).toArray()}catch{}if(r!==null){n.push(new s(r));break}case"text":try{r=a.responseText}catch{n._mode="text:vbarray";break}if(r.length>n._pos){var l=r.substr(n._pos);if(n._charset==="x-user-defined"){for(var d=new s(l.length),f=0;f<l.length;f++)d[f]=255&l.charCodeAt(f);n.push(d)}else n.push(l,n._charset);n._pos=r.length}break;case"arraybuffer":if(a.readyState!==e.DONE||!a.response)break;r=a.response,n.push(new s(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=a.response,a.readyState!==e.LOADING||!r)break;n.push(new s(new Uint8Array(r)));break;case"ms-stream":if(r=a.response,a.readyState!==e.LOADING)break;var g=new u.MSStreamReader;g.onprogress=function(){g.result.byteLength>n._pos&&(n.push(new s(new Uint8Array(g.result.slice(n._pos)))),n._pos=g.result.byteLength)},g.onload=function(){n.push(null)},g.readAsArrayBuffer(r)}n._xhr.readyState===e.DONE&&n._mode!=="ms-stream"&&n.push(null)}}).call(this,h(10),h(4),h(14).Buffer)},function(S,x,h){(function(_){x.fetch=e(_.fetch)&&e(_.ReadableStream),x.writableStream=e(_.WritableStream),x.abortController=e(_.AbortController),x.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),x.blobConstructor=!0}catch{}var u;function s(){if(u!==void 0)return u;if(_.XMLHttpRequest){u=new _.XMLHttpRequest;try{u.open("GET",_.XDomainRequest?"/":"https://example.com")}catch{u=null}}else u=null;return u}function c(t){var n=s();if(!n)return!1;try{return n.responseType=t,n.responseType===t}catch{}return!1}var i=_.ArrayBuffer!==void 0,o=i&&e(_.ArrayBuffer.prototype.slice);function e(t){return typeof t=="function"}x.arraybuffer=x.fetch||i&&c("arraybuffer"),x.msstream=!x.fetch&&o&&c("ms-stream"),x.mozchunkedarraybuffer=!x.fetch&&i&&c("moz-chunked-arraybuffer"),x.overrideMimeType=x.fetch||!!s()&&e(s().overrideMimeType),x.vbArray=e(_.VBArray),u=null}).call(this,h(4))},function(S,x){var h={}.toString;S.exports=Array.isArray||function(_){return h.call(_)=="[object Array]"}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(s){this._gantt=s}return u.prototype.isEqual=function(s,c,i){return!this._gantt._hasDuration(s,c,i)},u.prototype.isFirstSmaller=function(s,c,i){return s.valueOf()<c.valueOf()&&!this.isEqual(s,c,i)},u.prototype.isSmallerOrDefault=function(s,c,i){return!(s&&!this.isFirstSmaller(s,c,i))},u.prototype.isGreaterOrDefault=function(s,c,i){return!(s&&!this.isFirstSmaller(c,s,i))},u}();x.default=_},function(S,x,h){var _=h(2);S.exports=function(){return{getVertices:function(u){for(var s,c={},i=0,o=u.length;i<o;i++)c[(s=u[i]).target]=s.target,c[s.source]=s.source;var e,t=[];for(var i in c)e=c[i],t.push(e);return t},topologicalSort:function(u){for(var s=this.getVertices(u),c={},i=0,o=s.length;i<o;i++)c[s[i]]={id:s[i],$source:[],$target:[],$incoming:0};for(i=0,o=u.length;i<o;i++){var e=c[u[i].target];e.$target.push(i),e.$incoming=e.$target.length,c[u[i].source].$source.push(i)}for(var t=s.filter(function(d){return!c[d].$incoming}),n=[];t.length;){var a=t.pop();n.push(a);var r=c[a];for(i=0;i<r.$source.length;i++){var l=c[u[r.$source[i]].target];l.$incoming--,l.$incoming||t.push(l.id)}}return n},groupAdjacentEdges:function(u){for(var s,c={},i=0,o=u.length;i<o;i++)c[(s=u[i]).source]||(c[s.source]=[]),c[s.source].push(s);return c},tarjanStronglyConnectedComponents:function(u,s){for(var c={},i=[],o=this.groupAdjacentEdges(s),e=!1,t=[],n=0;n<u.length;n++){var a=v(u[n]);if(!a.visited)for(var r=[a],l=0;r.length;){var d=r.pop();d.visited||(d.index=l,d.lowLink=l,l++,i.push(d),d.onStack=!0,d.visited=!0),e=!1,s=o[d.id]||[];for(var f=0;f<s.length;f++){var g=v(s[f].target);if(g.edge=s[f],g.index===void 0){r.push(d),r.push(g),e=!0;break}g.onStack&&(d.lowLink=Math.min(d.lowLink,g.index))}if(!e){if(d.index==d.lowLink){for(var p={tasks:[],links:[],linkKeys:[]};(g=i.pop()).onStack=!1,p.tasks.push(g.id),g.edge&&(p.links.push(g.edge.id),p.linkKeys.push(g.edge.hashSum)),g!=d;);t.push(p)}r.length&&(g=d,(d=r[r.length-1]).lowLink=Math.min(d.lowLink,g.lowLink))}}}return t;function v(y){return c[y]||(c[y]={id:y,onStack:!1,index:void 0,lowLink:void 0,edge:void 0}),c[y]}},findLoops:function(u){var s=[];_.forEach(u,function(o){o.target==o.source&&s.push([o.target,o.source])});var c=this.getVertices(u),i=this.tarjanStronglyConnectedComponents(c,u);return _.forEach(i,function(o){o.tasks.length>1&&s.push(o)}),s}}}},function(S,x){S.exports=function(h){return{getVirtualRoot:function(){return h.mixin(h.getSubtaskDates(),{id:h.config.root_id,type:h.config.types.project,$source:[],$target:[],$virtual:!0})},getLinkedTasks:function(_,u){var s=[_],c=!1;h._isLinksCacheEnabled()||(h._startLinksCache(),c=!0);for(var i=[],o={},e={},t=0;t<s.length;t++)this._getLinkedTasks(s[t],o,u,e);for(var t in e)i.push(e[t]);return c&&h._endLinksCache(),i},_collectRelations:function(_,u,s,c){var i,o=h._getSuccessors(_,u),e=[];s&&(e=h._getPredecessors(_,u));for(var t=[],n=0;n<o.length;n++)c[i=o[n].hashSum]||(c[i]=!0,t.push(o[n]));for(n=0;n<e.length;n++)c[i=e[n].hashSum]||(c[i]=!0,t.push(e[n]));return t},_getLinkedTasks:function(_,u,s,c){for(var i,o=_===void 0?h.config.root_id:_,e=(u={},{}),t=[{from:o,includePredecessors:s,isChild:!1}];t.length;){var n=t.pop(),a=n.isChild;if(!u[o=n.from]){i=h.isTaskExists(o)?h.getTask(o):this.getVirtualRoot(),u[o]=!0;for(var r=this._collectRelations(i,a,s,e),l=0;l<r.length;l++){var d=r[l],f=!0;h.config.auto_scheduling_use_progress&&h.getTask(d.target).progress==1&&(f=!1),f&&(c[d.hashSum]=d);var g=d.sourceParent==d.targetParent;u[d.target]||t.push({from:d.target,includePredecessors:!0,isChild:g})}if(h.hasChild(i.id)){var p=h.getChildren(i.id);for(l=0;l<p.length;l++)u[p[l]]||t.push({from:p[l],includePredecessors:!0,isChild:!0})}}}return c}}}},function(S,x){S.exports=function(h){h._get_linked_task=function(o,e){var t=null,n=e?o.target:o.source;return h.isTaskExists(n)&&(t=h.getTask(n)),t},h._get_link_target=function(o){return h._get_linked_task(o,!0)},h._get_link_source=function(o){return h._get_linked_task(o,!1)};var _=!1,u={},s={},c={},i={};h._isLinksCacheEnabled=function(){return _},h._startLinksCache=function(){u={},s={},c={},i={},_=!0},h._endLinksCache=function(){u={},s={},c={},i={},_=!1},h._formatLink=function(o){if(_&&u[o.id])return u[o.id];var e=[],t=this._get_link_target(o),n=this._get_link_source(o);if(!n||!t||h.isSummaryTask(t)&&h.isChildOf(n.id,t.id)||h.isSummaryTask(n)&&h.isChildOf(t.id,n.id))return e;var a=h.config.schedule_from_end&&h.config.project_end,r=h.config.auto_scheduling_move_projects;!h.config.auto_scheduling_compatibility&&h.config.auto_scheduling_strict&&(r=!1);for(var l=this.isSummaryTask(n)?this.getSubtaskDates(n.id):{start_date:n.start_date,end_date:n.end_date},d=this._getImplicitLinks(o,n,function(T){return r&&a?T.$source.length||h.getState("tasksDnd").drag_id==T.id?0:h.calculateDuration({start_date:T.end_date,end_date:l.end_date,task:n}):0},!0),f=this.isSummaryTask(t)?this.getSubtaskDates(t.id):{start_date:t.start_date,end_date:t.end_date},g=this._getImplicitLinks(o,t,function(T){return!r||a||T.$target.length||h.getState("tasksDnd").drag_id==T.id?0:h.calculateDuration({start_date:f.start_date,end_date:T.start_date,task:n})}),p=0,v=d.length;p<v;p++)for(var y=d[p],m=0,b=g.length;m<b;m++){var k=g[m],C=1*y.lag+1*k.lag,w={id:o.id,type:o.type,source:y.task,target:k.task,subtaskLink:y.subtaskLink,lag:(1*o.lag||0)+C};e.push(h._convertToFinishToStartLink(k.task,w,n,t,y.taskParent,k.taskParent))}return _&&(u[o.id]=e),e},h._isAutoSchedulable=function(o){return o.auto_scheduling!==!1},h._getImplicitLinks=function(o,e,t,n){var a=[];if(this.isSummaryTask(e)){var r,l={};for(var d in this.eachTask(function(b){this.isSummaryTask(b)||(l[b.id]=b)},e.id),l){var f=l[d],g=n?f.$source:f.$target;r=!1;for(var p=0;p<g.length;p++){var v=h.getLink(g[p]),y=n?v.target:v.source,m=l[y];if(m&&f.auto_scheduling!==!1&&m.auto_scheduling!==!1&&(v.target==m.id&&Math.abs(v.lag)<=m.duration||v.target==f.id&&Math.abs(v.lag)<=f.duration)){r=!0;break}}r||a.push({task:f.id,taskParent:f.parent,lag:t(f),subtaskLink:!0})}}else a.push({task:e.id,taskParent:e.parent,lag:0});return a},h._getDirectDependencies=function(o,e){for(var t=[],n=[],a=e?o.$source:o.$target,r=0;r<a.length;r++){var l=this.getLink(a[r]);if(this.isTaskExists(l.source)&&this.isTaskExists(l.target)){var d=this.getTask(l.target);if(!this._isAutoSchedulable(d))continue;if(h.config.auto_scheduling_use_progress){if(d.progress==1)continue;t.push(l)}else t.push(l)}}for(r=0;r<t.length;r++)n=n.concat(this._formatLink(t[r]));return n},h._getInheritedDependencies=function(o,e){var t,n=!1,a=[];return this.isTaskExists(o.id)&&this.eachParent(function(r){var l;n||(_&&(t=e?s:c)[r.id]?a=a.concat(t[r.id]):this.isSummaryTask(r)&&(this._isAutoSchedulable(r)?(l=this._getDirectDependencies(r,e),_&&(t[r.id]=l),a=a.concat(l)):n=!0))},o.id,this),a},h._getDirectSuccessors=function(o){return this._getDirectDependencies(o,!0)},h._getInheritedSuccessors=function(o){return this._getInheritedDependencies(o,!0)},h._getDirectPredecessors=function(o){return this._getDirectDependencies(o,!1)},h._getInheritedPredecessors=function(o){return this._getInheritedDependencies(o,!1)},h._getSuccessors=function(o,e){var t=this._getDirectSuccessors(o);return e?t:t.concat(this._getInheritedSuccessors(o))},h._getPredecessors=function(o,e){var t,n=String(o.id)+"-"+String(e);if(_&&i[n])return i[n];var a=this._getDirectPredecessors(o);return t=e?a:a.concat(this._getInheritedPredecessors(o)),_&&(i[n]=t),t},h._convertToFinishToStartLink=function(o,e,t,n,a,r){var l={target:o,link:h.config.links.finish_to_start,id:e.id,lag:e.lag||0,sourceLag:0,targetLag:0,trueLag:e.lag||0,source:e.source,preferredStart:null,sourceParent:a,targetParent:r,hashSum:null,subtaskLink:e.subtaskLink},d=0;switch(String(e.type)){case String(h.config.links.start_to_start):d=-t.duration,l.sourceLag=d;break;case String(h.config.links.finish_to_finish):d=-n.duration,l.targetLag=d;break;case String(h.config.links.start_to_finish):d=-t.duration-n.duration,l.sourceLag=-t.duration,l.targetLag=-n.duration;break;default:d=0}return l.lag+=d,l.hashSum=l.lag+"_"+l.link+"_"+l.source+"_"+l.target,l}}},function(S,x){S.exports=function(h){h.config.auto_scheduling_use_progress=!1,h.config.auto_scheduling_project_constraint=!1}},function(S,x){S.exports=function(h){var _=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function s(e){return(e+"").replace(_," ").replace(u," ")}var c=new RegExp("'","gm");function i(e){return(e+"").replace(c,"&#39;")}for(var o in h._waiAria={getAttributeString:function(e){var t=[" "];for(var n in e){var a=i(s(e[n]));t.push(n+"='"+a+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(e){return h._waiAria.getAttributeString({"aria-label":e})},_taskCommonAttr:function(e,t){e.start_date&&e.end_date&&(t.setAttribute("aria-label",s(h.templates.tooltip_text(e.start_date,e.end_date,e))),e.$dataprocessor_class&&t.setAttribute("aria-busy",!0),t.setAttribute("aria-selected",h.isSelectedTask(e.id)?"true":"false"))},setTaskBarAttr:function(e,t){this._taskCommonAttr(e,t),!h.isReadonly(e)&&h.config.drag_move&&(e.id!=h.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(e,t){this._taskCommonAttr(e,t),!h.isReadonly(e)&&h.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-level",e.$level),h.hasChild(e.id)&&t.setAttribute("aria-expanded",e.$open?"true":"false")},linkAttr:function(e,t){var n=h.config.links,a=e.type==n.finish_to_start||e.type==n.start_to_start,r=e.type==n.start_to_start||e.type==n.start_to_finish,l=h.locale.labels.link+" "+h.templates.drag_link(e.source,r,e.target,a);t.setAttribute("aria-label",s(l)),h.isReadonly(e)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(e){e.setAttribute("role","separator")},lightboxHiddenAttr:function(e){e.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},lightboxAttr:function(e){e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":h.locale.labels[e],tabindex:"0"})},lightboxHeader:function(e,t){e.setAttribute("aria-label",t)},lightboxSelectAttrString:function(e){var t="";switch(e){case"%Y":t=h.locale.labels.years;break;case"%m":t=h.locale.labels.months;break;case"%d":t=h.locale.labels.days;break;case"%H:%i":t=h.locale.labels.hours+h.locale.labels.minutes}return h._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(e){return this.getAttributeString({"aria-label":h.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",h.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(e,t){var n="";if(e.name=="add")n=this.getAttributeString({role:"button","aria-label":h.locale.labels.new_task});else{var a={role:"columnheader","aria-label":t};h._sort&&h._sort.name==e.name&&(h._sort.direction=="asc"?a["aria-sort"]="ascending":a["aria-sort"]="descending"),n=this.getAttributeString(a)}return n},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(e,t,n){var a={role:"gridcell","aria-label":t};return e.editor&&!h.isReadonly(n)||(a["aria-readonly"]=!0),this.getAttributeString(a)},gridAddButtonAttrString:function(e){return this.getAttributeString({role:"button","aria-label":h.locale.labels.new_task})},messageButtonAttrString:function(e){return"tabindex='0' role='button' aria-label='"+e+"'"},messageInfoAttr:function(e){e.setAttribute("role","alert")},messageModalAttr:function(e,t){e.setAttribute("role","dialog"),t&&e.setAttribute("aria-labelledby",t)},quickInfoAttr:function(e){e.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(e,t){e.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(e){return h._waiAria.getAttributeString({role:"button","aria-label":e,tabindex:"0"})},tooltipAttr:function(e){e.setAttribute("role","tooltip")},tooltipVisibleAttr:function(e){e.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(e){e.setAttribute("aria-hidden","true")}},h._waiAria)h._waiAria[o]=function(e){return function(){return h.config.wai_aria_attributes?e.apply(this,arguments):""}}(h._waiAria[o])}},function(S,x){S.exports=function(h){h._extend_to_optional=function(_){var u=_,s={render:u.render,focus:u.focus,set_value:function(c,i,o,e){var t=h._resolve_default_mapping(e);if(!o[t.start_date]||t.start_date=="start_date"&&this._isAllowedUnscheduledTask(o)){s.disable(c,e);var n={};for(var a in t)n[t[a]]=o[a];return u.set_value.call(h,c,i,n,e)}return s.enable(c,e),u.set_value.call(h,c,i,o,e)},get_value:function(c,i,o){return o.disabled?{start_date:null}:u.get_value.call(h,c,i,o)},update_block:function(c,i){if(h.callEvent("onSectionToggle",[h._lightbox_id,i]),c.style.display=i.disabled?"none":"block",i.button){var o=c.previousSibling.querySelector(".gantt_custom_button_label"),e=h.locale.labels,t=i.disabled?e[i.name+"_enable_button"]:e[i.name+"_disable_button"];o.innerHTML=t}h.resizeLightbox()},disable:function(c,i){i.disabled=!0,s.update_block(c,i)},enable:function(c,i){i.disabled=!1,s.update_block(c,i)},button_click:function(c,i,o,e){if(h.callEvent("onSectionButton",[h._lightbox_id,o])!==!1){var t=h._get_typed_lightbox_config()[c];t.disabled?s.enable(e,t):s.disable(e,t)}}};return s},h.form_blocks.duration_optional=h._extend_to_optional(h.form_blocks.duration),h.form_blocks.time_optional=h._extend_to_optional(h.form_blocks.time)}},function(S,x,h){var _=h(3);S.exports=function(u){var s=h(25)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var o=u.config.types,e=u.locale.labels,t=[],n=i.filter||function(l,d){return!o.placeholder||d!==o.placeholder};for(var a in o)n(a,o[a])&&t.push({key:o[a],label:e["type_"+a]});i.options=t;var r=i.onchange;return i.onchange=function(){u.changeLightboxType(this.value),this.value===u.config.types.task&&(u._lightbox_new_type="task"),typeof r=="function"&&r.apply(this,arguments)},s.prototype.render.apply(this,arguments)},c}},function(S,x,h){var _=h(3),u=h(24);S.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}function o(t){return!t||t===s.config.constraint_types.ASAP||t===s.config.constraint_types.ALAP}function e(t,n){for(var a=o(n),r=0;r<t.length;r++)t[r].disabled=a}return _(i,c),i.prototype.render=function(t){var n=(t.height||30)+"px",a="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+n+";'>",r=[];for(var l in s.config.constraint_types)r.push({key:s.config.constraint_types[l],label:s.locale.labels[s.config.constraint_types[l]]});return t.options=t.options||r,a+="<span data-constraint-type-select>"+u.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",a+="<label data-constraint-time-select>"+(s.locale.labels.constraint_date||"Constraint date")+": "+s.form_blocks.getTimePicker.call(this,t)+"</label>",a+="</div>"},i.prototype.set_value=function(t,n,a,r){var l=t.querySelector("[data-constraint-type-select] select"),d=t.querySelectorAll("[data-constraint-time-select] select"),f=r._time_format_order,g=s._resolve_default_mapping(r);l._eventsInitialized||(l.addEventListener("change",function(y){e(d,y.target.value)}),l._eventsInitialized=!0);var p=a[g.constraint_date]||new Date;s.form_blocks._fill_lightbox_select(d,0,p,f,r);var v=a[g.constraint_type]||s.getConstraintType(a);l.value=v,e(d,v)},i.prototype.get_value=function(t,n,a){var r=t.querySelector("[data-constraint-type-select] select"),l=t.querySelectorAll("[data-constraint-time-select] select"),d=r.value,f=null;return o(d)||(f=s.form_blocks.getTimePickerValue(l,a)),{constraint_type:d,constraint_date:f}},i.prototype.focus=function(t){s._focus(t.querySelector("select"))},i}},function(S,x,h){var _=h(2),u=h(1),s=h(24),c=h(3);S.exports=function(i){var o=h(7)(i),e={resources:{},resourcesValues:{},filter:{},eventsInitialized:{},changed:!1};function t(){return o.apply(this,arguments)||this}function n(l){return l===void 0?".gantt_resource_amount_input":"[data-checked='"+(l?"true":"false")+"'] .gantt_resource_amount_input"}function a(l){return e.resources[l.id]}function r(l){return e.filter[l.id]}return i.attachEvent("onAfterLightbox",function(){for(var l in e.filter)e.filter[l].checkbox.checked=!1,e.filter[l].input.value="",e.filter[l].filterApplied=!1;e.resourcesValues={}}),c(t,o),t.prototype.render=function(l){var d;l.options||(l.options=i.serverList("resourceOptions")),l.map_to&&l.map_to!="auto"||(l.map_to=i.config.resource_property);var f=i.locale.labels.resources_filter_placeholder||l.filter_placeholder||"type to filter",g=i.locale.labels.resources_filter_label||"hide empty";return d="<div"+(isNaN(l.height)?"":" style='height: "+l.height+"px;'")+">",d+="<div class='gantt_cal_ltext gantt_resources_filter'><input type='text' class='gantt_resources_filter_input' placeholder='"+f+"'> <label><input class='switch_unsetted' type='checkbox'><span class='matherial_checkbox_icon'></span>"+g+"</label></div>",d+="<div class='gantt_cal_ltext gantt_resources' data-name='"+l.name+"'></div>",d+="</div>"},t.prototype.set_value=function(l,d,f,g){var p,v=function(m,b){return e.resources[b.id]||(e.resources[b.id]=m.querySelector(".gantt_resources")),e.resources[b.id]}(l,g),y="";(function(m,b){if(!e.filter[b.id]){var k=m.querySelector(".gantt_resources_filter"),C=k.querySelector(".gantt_resources_filter_input"),w=k.querySelector(".switch_unsetted");e.filter[b.id]={container:k,input:C,checkbox:w,filterApplied:!1}}e.filter[b.id]})(l,g),function(m,b,k,C){if(e.eventsInitialized[k.id])return;var w=function(P){var j,N,L,B,I;E(k,m);var V=r(k);I=V.checkbox,B=V.input,L=I.checked,N=function(H){return H.value.trim()}(B),V.filterApplied=!!N,i.getState().lightbox&&(b=i.getLightboxValues()),j=function(H,F,G,R){var K,Q;if(R){var W=F[H.map_to]||[];if(_.isArray(W)||(W=[W]),(W=W.slice()).length===0){for(var O in W=[],(Q=i.copy(H)).options=[],e.resourcesValues[H.id]){var $=e.resourcesValues[H.id][O];$.value!==""&&W.push({resource_id:O,value:$.value,id:$.id})}if(W.length===0)return Q}else for(var O in e.resourcesValues[H.id]){var $=e.resourcesValues[H.id][O];if($.value!==""){var D=_.arrayFind(W,function(nt){return nt.id==O});D||W.push({resource_id:O,value:$.value,id:$.id})}}for(var M={},U=0;U<W.length;U++)M[W[U].resource_id]=!0;K=function(q){if(M[String(q.key)]&&(G===""||q.label.toLowerCase().indexOf(G.toLowerCase())>=0))return q}}else{if(G==="")return H;K=function(q){if(q.label.toLowerCase().indexOf(G.toLowerCase())>=0)return q}}return(Q=i.copy(H)).options=_.arrayFilter(Q.options,K),Q}(k,b,N,L);var Y=b[k.map_to];C.form_blocks.resources.set_value(m,Y,b,j)};function T(P){var j,N,L=P.target;if(e.changed=!0,P.target.type==="checkbox"){j=L.parentNode,(N=j.querySelector(n())).disabled=!L.checked;var B=N.getAttribute("data-item-id"),I=u.locateClassName(P,"gantt_resource_row"),V=I.querySelector(".gantt_resource_amount_input");if(I.setAttribute("data-checked",L.checked),L.checked){N.nodeName.toLowerCase()==="select"&&i.callEvent("onResourcesSelectActivated",[{target:N}]);var Y=B,H=k.default_value;k.options.forEach(function(F){F.key==Y&&F.default_value&&(H=F.default_value)}),V&&!V.value&&H!==void 0&&(V.value=H,E(k,this)),V.select?V.select():V.focus&&V.focus()}else e.resourcesValues[k.id]&&delete e.resourcesValues[k.id][B]}else P.target.type!=="text"&&P.target.nodeName.toLowerCase()!=="select"||(j=L.parentNode.parentNode,N=P.target,E(k,this))}function E(P,j){var N=n(),L=j.querySelectorAll(N);e.resourcesValues[P.id]=e.resourcesValues[P.id]||{};for(var B=0;B<L.length;B++){var I=L[B].getAttribute("data-item-id"),V=L[B].getAttribute("data-assignment-id");L[B].disabled?delete e.resourcesValues[P.id][I]:e.resourcesValues[P.id][I]={value:L[B].value,id:V}}}w=_.throttle(w,100),r(k).container.addEventListener("keyup",w),r(k).container.addEventListener("input",w,!0),r(k).container.addEventListener("change",w,!0),a(k).addEventListener("input",T),a(k).addEventListener("change",T),i.attachEvent("onResourcesSelectActivated",i.bind(T,a(k))),e.eventsInitialized[k.id]=!0}(l,f,g,this),_.forEach(g.options,function(m,b){g.unassigned_value!=m.key&&(p=function(k,C,w){var T={};if(C){var E;_.isArray(C)?E=_.arrayFind(C,function(P){return P.resource_id==w.key}):C.resource_id==w.key&&(E=C),E&&(T.value=E.value,T.id=E.id)}return e.resourcesValues[k.id]&&e.resourcesValues[k.id][w.key]&&(T.value=e.resourcesValues[k.id][w.key].value,T.id=e.resourcesValues[k.id][w.key].id),T}(g,d,m),y+=["<label class='gantt_resource_row' data-item-id='"+m.key+"' data-checked="+(p.value?"true":"false")+">","<input class='gantt_resource_toggle' type='checkbox'",p.value?" checked='checked'":"","><div class='gantt_resource_cell gantt_resource_cell_checkbox'><span class='matherial_checkbox_icon'></span></div>","<div class='gantt_resource_cell gantt_resource_cell_label'>",m.label,"</div>","<div class='gantt_resource_cell gantt_resource_cell_value'>",function(k,C,w,T){var E,P="";if(k)return E=[{key:"data-item-id",value:k.key},{key:"data-assignment-id",value:T||""},{key:"class",value:"gantt_resource_amount_input"}],w&&E.push({key:"disabled",value:"disabled"}),k.options?P+=s.getHtmlSelect(k.options,E,C):(E[E.length]={key:"value",value:C||""},P+=s.getHtmlInput(E)),P}(m,p.value,!p.value,p.id),"</div>","<div class='gantt_resource_cell gantt_resource_cell_unit'>",m.unit,"</div>","</label>"].join(""))}),v.innerHTML=y,v.style.zoom="1",v._offsetSizes=v.offsetHeight,v.style.zoom="",i.resizeLightbox(),i._center_lightbox(i.getLightbox()),e.changed=!1},t.prototype.get_value=function(l,d,f){if(!e.changed)return d[f.map_to||i.config.resource_property]||[];for(var g=a(f),p=[],v=n(!0),y=n(!1),m=r(f),b=i.copy(e.resourcesValues[f.id])||{},k=g.querySelectorAll(v),C=g.querySelectorAll(y),w=0;w<C.length;w++)delete b[C[w].getAttribute("data-item-id")];for(w=0;w<k.length;w++){var T=k[w].getAttribute("data-assignment-id"),E=k[w].getAttribute("data-item-id"),P=k[w].value.trim();P!==""&&P!=="0"&&(delete b[E],p[p.length]={resource_id:E,value:P,id:T})}if(m.filterApplied)for(var j in b)p[p.length]={resource_id:j,value:b[j].value,id:b[j].id};return p},t.prototype.focus=function(l){i._focus(l.querySelector(".gantt_resources"))},t}},function(S,x,h){var _=h(3);S.exports=function(u){var s=h(25)(u);function c(){return s.apply(this,arguments)||this}function i(o,e){var t=[],n=[];e&&(t=u.getTaskByTime(),o.allow_root&&t.unshift({id:u.config.root_id,text:o.root_label||""}),t=function(d,f,g){var p=f.filter||function(){return!0};d=d.slice(0);for(var v=0;v<d.length;v++){var y=d[v];(y.id==g||u.isChildOf(y.id,g)||p(y.id,y)===!1)&&(d.splice(v,1),v--)}return d}(t,o,e),o.sort&&t.sort(o.sort));for(var a=o.template||u.templates.task_text,r=0;r<t.length;r++){var l=a.apply(u,[t[r].start_date,t[r].end_date,t[r]]);l===void 0&&(l=""),n.push({key:t[r].id,label:l})}return o.options=n,o.map_to=o.map_to||"parent",u.form_blocks.select.render.apply(this,arguments)}return _(c,s),c.prototype.render=function(o){return i(o,!1)},c.prototype.set_value=function(o,e,t,n){e===0&&(e="0");var a=document.createElement("div");a.innerHTML=i(n,t.id);var r=a.removeChild(a.firstChild);return o.onselect=null,o.parentNode.replaceChild(r,o),u.form_blocks.select.set_value.apply(u,[r,e,t,n])},c}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(){var s=this;this.canParse=function(c){return!isNaN(s.parse(c))},this.format=function(c){return String(c)},this.parse=function(c){return parseInt(c,10)}}return u.create=function(s){return new u},u}();x.default=_},function(S,x,h){var _=h(3),u=h(83).default;S.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}function o(n){return n.formatter||new u}function e(n,a){var r=n.getElementsByTagName("select"),l=a._time_format_order,d=0,f=0;if(s.defined(l[3])){var g=r[l[3]],p=parseInt(g.value,10);isNaN(p)&&g.hasAttribute("data-value")&&(p=parseInt(g.getAttribute("data-value"),10)),d=Math.floor(p/60),f=p%60}return new Date(r[l[2]].value,r[l[1]].value,r[l[0]].value,d,f)}function t(n,a){var r=n.getElementsByTagName("input")[1];return(r=o(a).parse(r.value))&&!window.isNaN(r)||(r=1),r<0&&(r*=-1),r}return _(i,c),i.prototype.render=function(n){var a="<div class='gantt_time_selects'>"+s.form_blocks.getTimePicker.call(this,n)+"</div>",r=" "+s.locale.labels[s.config.duration_unit+"s"]+" ",l=n.single_date?" style='display:none'":"",d=n.readonly?" disabled='disabled'":"",f=s._waiAria.lightboxDurationInputAttrString(n),g="gantt_duration_value";n.formatter&&(r="",g+=" gantt_duration_value_formatted");var p="<div class='gantt_duration' "+l+"><input type='button' class='gantt_duration_dec' value='−'"+d+"><input type='text' value='5days' class='"+g+"'"+d+" "+f+"><input type='button' class='gantt_duration_inc' value='+'"+d+">"+r+"<span></span></div>";return"<div style='height:"+(n.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+a+" "+p+"</div>"},i.prototype.set_value=function(n,a,r,l){var d,f,g,p,v=n.getElementsByTagName("select"),y=n.getElementsByTagName("input"),m=y[1],b=[y[0],y[2]],k=n.getElementsByTagName("span")[0],C=l._time_format_order;function w(){var E=e.call(s,n,l),P=t.call(s,n,l),j=s.calculateEndDate({start_date:E,duration:P,task:r}),N=s.templates.task_end_date||s.templates.task_date;k.innerHTML=N(j)}function T(E){var P=m.value;P=o(l).parse(P),window.isNaN(P)&&(P=0),(P+=E)<1&&(P=1),m.value=o(l).format(P),w()}b[0].onclick=s.bind(function(){T(-1*s.config.duration_step)},this),b[1].onclick=s.bind(function(){T(1*s.config.duration_step)},this),v[0].onchange=w,v[1].onchange=w,v[2].onchange=w,v[3]&&(v[3].onchange=w),m.onkeydown=s.bind(function(E){var P;return(P=(E=E||window.event).charCode||E.keyCode||E.which)==s.constants.KEY_CODES.DOWN?(T(-1*s.config.duration_step),!1):P==s.constants.KEY_CODES.UP?(T(1*s.config.duration_step),!1):void window.setTimeout(w,1)},this),m.onchange=s.bind(w,this),typeof(d=s._resolve_default_mapping(l))=="string"&&(d={start_date:d}),f=r[d.start_date]||new Date,g=r[d.end_date]||s.calculateEndDate({start_date:f,duration:1,task:r}),p=Math.round(r[d.duration])||s.calculateDuration({start_date:f,end_date:g,task:r}),p=o(l).format(p),s.form_blocks._fill_lightbox_select(v,0,f,C,l),m.value=p,w()},i.prototype.get_value=function(n,a,r){var l=e(n,r),d=t(n,r),f=s.calculateEndDate({start_date:l,duration:d,task:a});return typeof s._resolve_default_mapping(r)=="string"?l:{start_date:l,end_date:f,duration:d}},i.prototype.focus=function(n){s._focus(n.getElementsByTagName("select")[0])},i}},function(S,x,h){var _=h(3);S.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var o="<div class='gantt_cal_ltext' style='height:"+((i.height||"23")+"px")+";'>";if(i.options&&i.options.length)for(var e=0;e<i.options.length;e++)o+="<label><input type='radio' value='"+i.options[e].key+"' name='"+i.name+"'>"+i.options[e].label+"</label>";return o+="</div>"},c.prototype.set_value=function(i,o,e,t){var n;t.options&&t.options.length&&(n=i.querySelector("input[type=radio][value='"+o+"']")||i.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!i._dhx_onchange&&t.onchange&&(i.onchange=t.onchange,i._dhx_onchange=!0),n.checked=!0)},c.prototype.get_value=function(i,o){var e=i.querySelector("input[type=radio]:checked");return e?e.value:""},c.prototype.focus=function(i){u._focus(i.querySelector("input[type=radio]"))},c}},function(S,x,h){var _=h(2),u=h(3);S.exports=function(s){var c=h(7)(s);function i(){return c.apply(this,arguments)||this}return u(i,c),i.prototype.render=function(o){var e="<div class='gantt_cal_ltext' style='height:"+((o.height||"23")+"px")+";'>";if(o.options&&o.options.length)for(var t=0;t<o.options.length;t++)e+="<label><input type='checkbox' value='"+o.options[t].key+"' name='"+o.name+"'>"+o.options[t].label+"</label>";else o.single_value=!0,e+="<label><input type='checkbox' name='"+o.name+"'></label>";return e+="</div>"},i.prototype.set_value=function(o,e,t,n){var a=Array.prototype.slice.call(o.querySelectorAll("input[type=checkbox]"));!o._dhx_onchange&&n.onchange&&(o.onchange=n.onchange,o._dhx_onchange=!0),n.single_value?a[0].checked=!!e:_.forEach(a,function(r){r.checked=!!e&&e.indexOf(r.value)>=0})},i.prototype.get_value=function(o,e,t){return t.single_value?o.querySelector("input[type=checkbox]").checked:_.arrayMap(Array.prototype.slice.call(o.querySelectorAll("input[type=checkbox]:checked")),function(n){return n.value})},i.prototype.focus=function(o){s._focus(o.querySelector("input[type=checkbox]"))},i}},function(S,x,h){var _=h(3);S.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){var o=u.form_blocks.getTimePicker.call(this,i),e="<div style='height:"+(i.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return e+=o,i.single_date?(o=u.form_blocks.getTimePicker.call(this,i,!0),e+="<span></span>"):e+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",e+=o,e+="</div>"},c.prototype.set_value=function(i,o,e,t){var n=t,a=i.getElementsByTagName("select"),r=t._time_format_order;if(n.auto_end_date)for(var l=function(){g=new Date(a[r[2]].value,a[r[1]].value,a[r[0]].value,0,0),p=u.calculateEndDate({start_date:g,duration:1,task:e}),u.form_blocks._fill_lightbox_select(a,r.size,p,r,n)},d=0;d<4;d++)a[d].onchange=l;var f=u._resolve_default_mapping(t);typeof f=="string"&&(f={start_date:f});var g=e[f.start_date]||new Date,p=e[f.end_date]||u.calculateEndDate({start_date:g,duration:1,task:e});u.form_blocks._fill_lightbox_select(a,0,g,r,n),u.form_blocks._fill_lightbox_select(a,r.size,p,r,n)},c.prototype.get_value=function(i,o,e){var t,n=i.getElementsByTagName("select"),a=e._time_format_order;return t=u.form_blocks.getTimePickerValue(n,e),typeof u._resolve_default_mapping(e)=="string"?t:{start_date:t,end_date:function(r,l,d){var f=u.form_blocks.getTimePickerValue(r,e,l.size);return f<=d&&(e.autofix_end!==!1||e.single_date)?u.date.add(d,u._get_timepicker_step(),"minute"):f}(n,a,t)}},c.prototype.focus=function(i){u._focus(i.getElementsByTagName("select")[0])},c}},function(S,x,h){var _=h(3);S.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext' style='height:"+((i.height||"130")+"px")+";'><textarea></textarea></div>"},c.prototype.set_value=function(i,o){u.form_blocks.textarea._get_input(i).value=o||""},c.prototype.get_value=function(i){return u.form_blocks.textarea._get_input(i).value},c.prototype.focus=function(i){var o=u.form_blocks.textarea._get_input(i);u._focus(o,!0)},c.prototype._get_input=function(i){return i.querySelector("textarea")},c}},function(S,x,h){var _=h(3);S.exports=function(u){var s=h(7)(u);function c(){return s.apply(this,arguments)||this}return _(c,s),c.prototype.render=function(i){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+((i.height||"30")+"px")+";'></div>"},c.prototype.set_value=function(i,o){i.innerHTML=o||""},c.prototype.get_value=function(i){return i.innerHTML||""},c.prototype.focus=function(){},c}},function(S,x,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}S.exports=function(u){var s=h(1),c=h(2),i=h(89)(u),o=h(88)(u),e=h(87)(u),t=h(25)(u),n=h(86)(u),a=h(85)(u),r=h(84)(u),l=h(82)(u),d=h(81)(u),f=h(80)(u),g=h(79)(u);function p(y,m){var b,k,C="";for(k=0;k<y.length;k++)b=u.config._migrate_buttons[y[k]]?u.config._migrate_buttons[y[k]]:y[k],C+="<div "+u._waiAria.lightboxButtonAttrString(b)+" class='gantt_btn_set gantt_left_btn_set "+b+"_set'"+(m?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+b+"'></div><div>"+u.locale.labels[b]+"</div></div>";return C}function v(y,m,b){var k,C,w,T,E,P,j="";switch(b.timeFormat[m]){case"%Y":for(y._time_format_order[2]=m,y._time_format_order.size++,y.year_range&&(isNaN(y.year_range)?y.year_range.push&&(w=y.year_range[0],T=y.year_range[1]):k=y.year_range),k=k||10,C=C||Math.floor(k/2),w=w||b.date.getFullYear()-C,T=T||u.getState().max_date.getFullYear()+C,E=w;E<T;E++)j+="<option value='"+E+"'>"+E+"</option>";break;case"%m":for(y._time_format_order[1]=m,y._time_format_order.size++,E=0;E<12;E++)j+="<option value='"+E+"'>"+u.locale.date.month_full[E]+"</option>";break;case"%d":for(y._time_format_order[0]=m,y._time_format_order.size++,E=1;E<32;E++)j+="<option value='"+E+"'>"+E+"</option>";break;case"%H:%i":for(y._time_format_order[3]=m,y._time_format_order.size++,E=b.first,P=b.date.getDate(),y._time_values=[];E<b.last;)j+="<option value='"+E+"'>"+u.templates.time_picker(b.date)+"</option>",y._time_values.push(E),b.date.setTime(b.date.valueOf()+60*u._get_timepicker_step()*1e3),E=24*(b.date.getDate()!=P?1:0)*60+60*b.date.getHours()+b.date.getMinutes()}return j}u._lightbox_methods={},u._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",u._lightbox_root=u.$root,u.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:u._lightbox_id}}),u.showLightbox=function(y){if(this.callEvent("onBeforeLightbox",[y])){var m=this.getTask(y),b=this.getLightbox(this.getTaskType(m.type));this._center_lightbox(b),this.showCover(),this._fill_lightbox(y,b),this._waiAria.lightboxVisibleAttr(b),this.callEvent("onLightbox",[y])}},u._get_timepicker_step=function(){if(this.config.round_dnd_dates){var y;if(function(b){var k=b.$ui.getView("timeline");return!(!k||!k.isVisible())}(this)){var m=u.getScale();y=c.getSecondsInUnit(m.unit)*m.step/60}return(!y||y>=1440)&&(y=this.config.time_step),y}return this.config.time_step},u.getLabel=function(y,m){for(var b=this._get_typed_lightbox_config(),k=0;k<b.length;k++)if(b[k].map_to==y){for(var C=b[k].options,w=0;w<C.length;w++)if(C[w].key==m)return C[w].label}return""},u.updateCollection=function(y,m){m=m.slice(0);var b=u.serverList(y);if(!b)return!1;b.splice(0,b.length),b.push.apply(b,m||[]),u.resetLightbox()},u.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},u.getLightbox=function(y){var m,b,k,C,w,T="";if(function(){var P=u.config.csp===!0,j=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;u._lightbox_root=P||j?u.$root:document.body}(),y===void 0&&(y=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(y)){this._lightbox_type=this.getTaskType(y),m=document.createElement("div"),T="gantt_cal_light",b=this._is_lightbox_timepicker(),(u.config.wide_form||b)&&(T+=" gantt_cal_light_wide"),b&&(u.config.wide_form=!0,T+=" gantt_cal_light_full"),m.className=T,m.style.visibility="hidden",k=this._lightbox_template,k+=p(this.config.buttons_left),k+=p(this.config.buttons_right,!0),m.innerHTML=k,u._waiAria.lightboxAttr(m),u.config.drag_lightbox&&(m.firstChild.onmousedown=u._ready_to_dnd,m.firstChild.onselectstart=function(){return!1},m.firstChild.style.cursor="pointer",u._init_dnd_events()),this._lightbox&&this.resetLightbox(),u._lightbox_root.insertBefore(m,u._lightbox_root.firstChild),this._lightbox=m,C=this._get_typed_lightbox_config(y),k=this._render_sections(C);var E=(w=m.querySelector("div.gantt_cal_larea")).style.overflow;w.style.overflow="hidden",w.innerHTML=k,function(P){var j,N,L,B,I,V;for(V=0;V<P.length;V++)j=P[V],L=u._lightbox_root.querySelector("#"+j.id),j.id&&L&&(N=L.querySelector("label"),(B=L.nextSibling)&&(I=B.querySelector("input, select, textarea"))&&(I.id=I.id||"input_"+u.uid(),j.inputId=I.id,N.setAttribute("for",j.inputId)))}(C),this.resizeLightbox(),w.style.overflow=E,this._init_lightbox_events(this),m.style.display="none",m.style.visibility="visible"}return this._lightbox},u._render_sections=function(y){for(var m="",b=0;b<y.length;b++){var k=this.form_blocks[y[b].type];if(k){y[b].id="area_"+this.uid();var C=y[b].hidden?" style='display:none'":"",w="";y[b].button&&(w="<div class='gantt_custom_button' data-index='"+b+"'><div class='gantt_custom_button_"+y[b].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+y[b].button]+"</div></div>"),this.config.wide_form&&(m+="<div class='gantt_wrap_section' "+C+">"),m+="<div id='"+y[b].id+"' class='gantt_cal_lsection'><label>"+w+this.locale.labels["section_"+y[b].name]+"</label></div>"+k.render.call(this,y[b]),m+="</div>"}}return m},u.resizeLightbox=function(){if(this._lightbox){var y=this._lightbox.querySelector(".gantt_cal_larea");y.style.height="0px",y.style.height=y.scrollHeight+"px",this._lightbox.style.height=y.scrollHeight+this.config.lightbox_additional_height+"px",y.style.height=y.scrollHeight+"px"}},u._center_lightbox=function(y){if(y){y.style.display="block";var m=window.pageYOffset||u._lightbox_root.scrollTop||document.documentElement.scrollTop,b=window.pageXOffset||u._lightbox_root.scrollLeft||document.documentElement.scrollLeft,k=window.innerHeight||document.documentElement.clientHeight;y.style.top=m?Math.round(m+Math.max((k-y.offsetHeight)/2,0))+"px":Math.round(Math.max((k-y.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>u._lightbox_root.offsetWidth?y.style.left=Math.round(b+(u._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px":y.style.left=Math.round((u._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px"}},u.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(u._lightbox_root||u.$root).appendChild(this._cover))},u.event(window,"deviceorientation",function(){u.getState().lightbox&&u._center_lightbox(u.getLightbox())}),u._init_lightbox_events=function(){u.lightbox_events={},u.lightbox_events.gantt_save_btn=function(){u._save_lightbox()},u.lightbox_events.gantt_delete_btn=function(){u._lightbox_new_type=null,u.callEvent("onLightboxDelete",[u._lightbox_id])&&(u.isTaskExists(u._lightbox_id)?u.$click.buttons.delete(u._lightbox_id):u.hideLightbox())},u.lightbox_events.gantt_cancel_btn=function(){u._cancel_lightbox()},u.lightbox_events.default=function(y,m){if(m.getAttribute("data-dhx-button"))u.callEvent("onLightboxButton",[m.className,m,y]);else{var b,k,C=s.getClassName(m);if(C.indexOf("gantt_custom_button")!=-1)if(C.indexOf("gantt_custom_button_")!=-1)for(b=m.parentNode.getAttribute("data-index"),k=m;k&&s.getClassName(k).indexOf("gantt_cal_lsection")==-1;)k=k.parentNode;else b=m.getAttribute("data-index"),k=m.parentNode,m=m.firstChild;var w=u._get_typed_lightbox_config();b&&(b*=1,u.form_blocks[w[1*b].type].button_click(b,m,k,k.nextSibling))}},this.event(u.getLightbox(),"click",function(y){y=y||window.event;var m=s.getTargetNode(y),b=s.getClassName(m);return b||(m=m.previousSibling,b=s.getClassName(m)),m&&b&&b.indexOf("gantt_btn_set")===0&&(m=m.firstChild,b=s.getClassName(m)),!(!m||!b)&&(u.defined(u.lightbox_events[m.className])?u.lightbox_events[m.className]:u.lightbox_events.default)(y,m)}),u.getLightbox().onkeydown=function(y){var m=y||window.event,b=y.target||y.srcElement,k=s.getClassName(b).indexOf("gantt_btn_set")>-1;switch((y||m).keyCode){case u.constants.KEY_CODES.SPACE:if((y||m).shiftKey)return;k&&b.click&&b.click();break;case u.keys.edit_save:if((y||m).shiftKey)return;k&&b.click?b.click():u._save_lightbox();break;case u.keys.edit_cancel:u._cancel_lightbox()}}},u._cancel_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,y.$new]),u.isTaskExists(y.id)&&y.$new&&(this.silent(function(){u.$data.tasksStore.removeItem(y.id),u._update_flags(y.id,null)}),this.refreshData()),this.hideLightbox()},u._save_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,y,!!y.$new])&&(u.$data.tasksStore._skipTaskRecalculation="lightbox",y.$new?(delete y.$new,this.addTask(y,y.parent,this.getTaskIndex(y.id))):this.isTaskExists(y.id)&&(this.mixin(this.getTask(y.id),y,!0),this.refreshTask(y.id),this.updateTask(y.id)),u.$data.tasksStore._skipTaskRecalculation=!1,this.refreshData(),this.hideLightbox())},u._resolve_default_mapping=function(y){var m=y.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[y.type]?y.map_to=="auto"?m={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof y.map_to=="string"&&(m={start_date:y.map_to}):y.type==="constraint"&&(y.map_to&&typeof y.map_to!="string"||(m={constraint_type:"constraint_type",constraint_date:"constraint_date"})),m},u.getLightboxValues=function(){var y={};u.isTaskExists(this._lightbox_id)&&(y=this.mixin({},this.getTask(this._lightbox_id)));for(var m=this._get_typed_lightbox_config(),b=0;b<m.length;b++){var k=u._lightbox_root.querySelector("#"+m[b].id);k=k&&k.nextSibling;var C=this.form_blocks[m[b].type];if(C){var w=C.get_value.call(this,k,y,m[b]),T=u._resolve_default_mapping(m[b]);if(typeof T=="string"&&T!="auto")y[T]=w;else if(_(T)=="object")for(var E in T)T[E]&&(y[T[E]]=w[E])}}return u._lightbox_new_type=="task"&&(y.type=u.config.types.task,u._lightbox_new_type=null),y},u.hideLightbox=function(){var y=this.getLightbox();y&&(y.style.display="none"),this._waiAria.lightboxHiddenAttr(y),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},u.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},u.resetLightbox=function(){u._lightbox&&!u._custom_lightbox&&u._lightbox.parentNode.removeChild(u._lightbox),u._lightbox=null,u.hideCover()},u._set_lightbox_values=function(y,m){var b=y,k=m.getElementsByTagName("span"),C=[];u.templates.lightbox_header?(C.push(""),C.push(u.templates.lightbox_header(b.start_date,b.end_date,b)),k[1].innerHTML="",k[2].innerHTML=u.templates.lightbox_header(b.start_date,b.end_date,b)):(C.push(this.templates.task_time(b.start_date,b.end_date,b)),C.push(String(this.templates.task_text(b.start_date,b.end_date,b)||"").substr(0,70)),k[1].innerHTML=this.templates.task_time(b.start_date,b.end_date,b),k[2].innerHTML=String(this.templates.task_text(b.start_date,b.end_date,b)||"").substr(0,70)),k[1].innerHTML=C[0],k[2].innerHTML=C[1],u._waiAria.lightboxHeader(m,C.join(" "));for(var w=this._get_typed_lightbox_config(this.getLightboxType()),T=0;T<w.length;T++){var E=w[T];if(this.form_blocks[E.type]){var P=u._lightbox_root.querySelector("#"+E.id).nextSibling,j=this.form_blocks[E.type],N=u._resolve_default_mapping(w[T]),L=this.defined(b[N])?b[N]:E.default_value;j.set_value.call(u,P,L,b,E),E.focus&&j.focus.call(u,P)}}u.isTaskExists(y.id)&&(u._lightbox_id=y.id)},u._fill_lightbox=function(y,m){var b=this.getTask(y);this._set_lightbox_values(b,m)},u.getLightboxSection=function(y){for(var m=this._get_typed_lightbox_config(),b=0;b<m.length&&m[b].name!=y;b++);var k=m[b];if(!k)return null;this._lightbox||this.getLightbox();var C=u._lightbox_root.querySelector("#"+k.id),w=C.nextSibling,T={section:k,header:C,node:w,getValue:function(P){return u.form_blocks[k.type].get_value.call(u,w,P||{},k)},setValue:function(P,j){return u.form_blocks[k.type].set_value.call(u,w,P,j||{},k)}},E=this._lightbox_methods["get_"+k.type+"_control"];return E?E(T):T},u._lightbox_methods.get_template_control=function(y){return y.control=y.node,y},u._lightbox_methods.get_select_control=function(y){return y.control=y.node.getElementsByTagName("select")[0],y},u._lightbox_methods.get_textarea_control=function(y){return y.control=y.node.getElementsByTagName("textarea")[0],y},u._lightbox_methods.get_time_control=function(y){return y.control=y.node.getElementsByTagName("select"),y},u._init_dnd_events=function(){var y=u._lightbox_root;this.event(y,"mousemove",u._move_while_dnd),this.event(y,"mouseup",u._finish_dnd)},u._move_while_dnd=function(y){if(u._dnd_start_lb){document.gantt_unselectable||(u._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var m=u.getLightbox(),b=[y.pageX,y.pageY];m.style.top=u._lb_start[1]+b[1]-u._dnd_start_lb[1]+"px",m.style.left=u._lb_start[0]+b[0]-u._dnd_start_lb[0]+"px"}},u._ready_to_dnd=function(y){var m=u.getLightbox();u._lb_start=[parseInt(m.style.left,10),parseInt(m.style.top,10)],u._dnd_start_lb=[y.pageX,y.pageY]},u._finish_dnd=function(){u._lb_start&&(u._lb_start=u._dnd_start_lb=!1,u._lightbox_root.className=u._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},u._focus=function(y,m){if(y&&y.focus&&!u.config.touch)try{m&&y.select&&y.select(),y.focus()}catch{}},u.form_blocks={getTimePicker:function(y,m){var b,k,C,w="",T=this.config,E={first:0,last:1440,date:this.date.date_part(new Date(u._min_date.valueOf())),timeFormat:function(P){var j,N,L;return P.time_format?P.time_format:(L=["%d","%m","%Y"],j=u.getScale(),N=j?j.unit:u.config.duration_unit,c.getSecondsInUnit(N)<c.getSecondsInUnit("day")&&L.push("%H:%i"),L)}(y)};for(y._time_format_order={size:0},u.config.limit_time_select&&(E.first=60*T.first_hour,E.last=60*T.last_hour+1,E.date.setHours(T.first_hour)),b=0;b<E.timeFormat.length;b++)b>0&&(w+=" "),(k=v(y,b,E))&&(C=u._waiAria.lightboxSelectAttrString(E.timeFormat[b]),w+="<select "+(y.readonly?"disabled='disabled'":"")+(m?" style='display:none' ":"")+C+">"+k+"</select>");return w},getTimePickerValue:function(y,m,b){var k,C=m._time_format_order,w=u.defined(C[3]),T=0,E=0,P=b||0;return w&&(k=parseInt(y[C[3]+P].value,10),T=Math.floor(k/60),E=k%60),new Date(y[C[2]+P].value,y[C[1]+P].value,y[C[0]+P].value,T,E)},_fill_lightbox_select:function(y,m,b,k){if(y[m+k[0]].value=b.getDate(),y[m+k[1]].value=b.getMonth(),y[m+k[2]].value=b.getFullYear(),u.defined(k[3])){var C=60*b.getHours()+b.getMinutes();C=Math.round(C/u._get_timepicker_step())*u._get_timepicker_step();var w=y[m+k[3]];w.value=C,w.setAttribute("data-value",C)}},template:new i,textarea:new o,select:new t,time:new e,duration:new r,parent:new l,radio:new a,checkbox:new n,resources:new d,constraint:new f,typeselect:new g},u._is_lightbox_timepicker=function(){for(var y=this._get_typed_lightbox_config(),m=0;m<y.length;m++)if(y[m].name=="time"&&y[m].type=="time")return!0;return!1},u._simple_confirm=function(y,m,b,k){if(!y)return b();var C={text:y};m&&(C.title=m),k&&(C.ok=k),b&&(C.callback=function(w){w&&b()}),u.confirm(C)},u._get_typed_lightbox_config=function(y){y===void 0&&(y=this.getLightboxType());var m=(function(b){for(var k in this.config.types)if(this.config.types[k]==b)return k;return"task"}).call(this,y);return u.config.lightbox[m+"_sections"]?u.config.lightbox[m+"_sections"]:u.config.lightbox.sections},u._silent_redraw_lightbox=function(y){var m=this.getLightboxType();if(this.getState().lightbox){var b=this.getState().lightbox,k=this.getLightboxValues(),C=this.copy(this.getTask(b));this.resetLightbox();var w=this.mixin(C,k,!0),T=this.getLightbox(y||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(w,T),this.showCover()}else this.resetLightbox(),this.getLightbox(y||void 0);this.callEvent("onLightboxChange",[m,this.getLightboxType()])}}},function(S,x){S.exports=function(h){function _(c){var i=c.$config.scrollX?h.$ui.getView(c.$config.scrollX):null,o=c.$config.scrollY?h.$ui.getView(c.$config.scrollY):null,e={x:null,y:null};return i&&i.getScrollState().visible&&(e.x=i.$view.scrollLeft),o&&o.getScrollState().visible&&(e.y=o.$view.scrollTop),e}function u(){var c;return h.$ui.getView("timeline")&&(c=h.$ui.getView("timeline")._tasks_dnd),c}h.config.touch_drag=500,h.config.touch=!0,h.config.touch_feedback=!0,h.config.touch_feedback_duration=1,h._prevent_touch_scroll=!1,h._touch_feedback=function(){h.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(h.config.touch_feedback_duration)},h.attachEvent("onGanttReady",h.bind(function(){if(this.config.touch!="force"&&(this.config.touch=this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),this.config.touch){var c=!0;try{document.createEvent("TouchEvent")}catch{c=!1}c?this._touch_events(["touchmove","touchstart","touchend"],function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:i.target,pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(i){return i.pointerType=="mouse"?null:i},function(i){return!i||i.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i},function(i){return!i||i.pointerType==i.MSPOINTER_TYPE_MOUSE})}},h));var s=[];h._touch_events=function(c,i,o){for(var e,t=0,n=!1,a=!1,r=null,l=null,d=null,f=[],g=null,p=0;p<s.length;p++)h.eventRemove(s[p][0],s[p][1],s[p][2]);for((s=[]).push([h.$container,c[0],function(y){var m=u();if(!o(y)&&n){l&&clearTimeout(l);var b=i(y);if(m&&(m.drag.id||m.drag.start_drag))return m.on_mouse_move(b),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1;if(!h._prevent_touch_scroll){if(b&&r){var k=r.pageX-b.pageX,C=r.pageY-b.pageY;if(!a&&(Math.abs(k)>5||Math.abs(C)>5)&&(a=!0,t=0,e=g?_(g):h.getScrollState()),a){var w,T=e.x+k,E=e.y+C;if(g?(function(P,j,N){var L=P.$config.scrollX?h.$ui.getView(P.$config.scrollX):null,B=P.$config.scrollY?h.$ui.getView(P.$config.scrollY):null;L&&L.scrollTo(j,null),B&&B.scrollTo(null,N)}(g,T,E),w=_(g)):(h.scrollTo(T,E),w=h.getScrollState()),e.x!=w.x&&C>2*k||e.y!=w.y&&k>2*C)return v(y)}}return v(y)}return!0}}]),s.push([this.$container,"contextmenu",function(y){if(n)return v(y)}]),s.push([this.$container,c[1],function(y){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!o(y))if(y.touches&&y.touches.length>1)n=!1;else{r=i(y),g=function(b){for(var k=h.$layout.getCellsByType("viewCell"),C=0;C<k.length;C++){var w=k[C].$view.getBoundingClientRect();if(b.clientX>=w.left&&b.clientX<=w.right&&b.clientY<=w.bottom&&b.clientY>=w.top)return k[C]}}(r),h._locate_css(r,"gantt_hor_scroll")||h._locate_css(r,"gantt_ver_scroll")||(n=!0);var m=u();l=setTimeout(function(){var b=h.locate(r);m&&b&&!h._locate_css(r,"gantt_link_control")&&!h._locate_css(r,"gantt_grid_data")&&(m.on_mouse_down(r),m.drag&&m.drag.start_drag&&(function(k){var C=h._getTaskLayers(),w=h.getTask(k);if(w&&h.isTaskVisible(k)){d=k;for(var T=0;T<C.length;T++)if((w=C[T].rendered[k])&&w.getAttribute(h.config.task_attribute)&&w.getAttribute(h.config.task_attribute)==k){var E=w.cloneNode(!0);f.push(w),C[T].rendered[k]=E,w.style.display="none",E.className+=" gantt_drag_move ",w.parentNode.appendChild(E)}}}(b),m._start_dnd(r),h._touch_drag=!0,h.refreshTask(b),h._touch_feedback())),l=null},h.config.touch_drag)}}]),s.push([this.$container,c[2],function(y){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!o(y)){l&&clearTimeout(l),h._touch_drag=!1,n=!1;var m=i(y),b=u();if(b&&b.on_mouse_up(m),d&&h.isTaskExists(d)&&(h.refreshTask(d),f.length&&(f.forEach(function(C){C.parentNode&&C.parentNode.removeChild(C)}),h._touch_feedback())),n=a=!1,f=[],d=null,r&&t){var k=new Date;k-t<500?(h.$services.getService("mouseEvents").onDoubleClick(r),v(y)):t=k}else t=new Date}}]),p=0;p<s.length;p++)h.event(s[p][0],s[p][1],s[p][2]);function v(y){return y&&y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1}}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(8),u=h(5),s=["ctrlKey","altKey","shiftKey","metaKey"],c=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],i=function(){function o(e){var t=this;this.zoomIn=function(){var n=t.getCurrentLevel()-1;n<0||t.setLevel(n)},this.zoomOut=function(){var n=t.getCurrentLevel()+1;n>t._levels.length-1||t.setLevel(n)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(n){var a=t._getZoomIndexByName(n);a===-1&&t.$gantt.assert(a!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+n+" is not an expected value."),t._setLevel(a,0)},this._getZoomIndexByName=function(n){var a=-1;if(typeof n=="string"){if(!isNaN(Number(n))&&t._levels[Number(n)])a=Number(n);else for(var r=0;r<t._levels.length;r++)if(t._levels[r].name===n){a=r;break}}else a=n;return a},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var n=t.$gantt.getScrollState().x,a=t.$gantt.$task.offsetWidth;t._visibleDate=t.$gantt.dateFromPos(n+a/2)},this._setLevel=function(n,a){t._activeLevelIndex=n;var r=t.$gantt,l=r.copy(t._levels[t._activeLevelIndex]),d=r.copy(l);if(delete d.name,r.mixin(r.config,d,!0),!!r.$root&&!!r.$task){if(a){var f=t.$gantt.dateFromPos(a+t.$gantt.getScrollState().x);t.$gantt.render();var g=t.$gantt.posFromDate(f);t.$gantt.scrollTo(g-a)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var v=t._visibleDate;t.$gantt.render(),g=t.$gantt.posFromDate(v),t.$gantt.scrollTo(g-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,l])}},this._attachWheelEvent=function(n){var a,r=_.isFF?"wheel":"mousewheel";(a=typeof n.element=="function"?n.element():n.element)&&t._domEvents.attach(a,r,t.$gantt.bind(function(l){if(this._useKey&&(s.indexOf(this._useKey)<0||!l[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[l]),!0},t),{passive:!1})},this._defaultHandler=function(n){var a=t.$gantt.$task.getBoundingClientRect().x,r=n.clientX-a,l=!1;(t.$gantt.env.isFF?-40*n.deltaY:n.wheelDelta)>0&&(l=!0),n.preventDefault(),n.stopPropagation(),t._setScaleSettings(l,r)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=e,this._domEvents=this.$gantt._createDomEventScope()}return o.prototype.init=function(e){var t=this;this.$gantt.env.isNode||(this._initialStartDate=e.startDate,this._initialEndDate=e.endDate,this._activeLevelIndex=e.activeLevelIndex?e.activeLevelIndex:0,this._levels=this._mapScales(e.levels||c),this._handler=e.handler||this._defaultHandler,this._minColumnWidth=e.minColumnWidth||60,this._maxColumnWidth=e.maxColumnWidth||240,this._widthStep=e.widthStep||3/8*e.minColumnWidth,this._useKey=e.useKey,this._initialized||(u(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),e.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(e):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(e)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},o.prototype._mapScales=function(e){return e.map(function(t){return Array.isArray(t)?{scales:t}:t})},o.prototype._setScaleSettings=function(e,t){e?this._stepUp(t):this._stepDown(t)},o.prototype._stepUp=function(e){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width+this._widthStep;n>this._maxColumnWidth&&(n=this._minColumnWidth,t++),this.$gantt.config.min_column_width=n}else t++;this._setLevel(t,e)}},o.prototype._stepDown=function(e){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var n=this.$gantt.config.min_column_width-this._widthStep;n<this._minColumnWidth&&(n=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=n}else t--;this._setLevel(t,e)}},o}();x.default=i},function(S,x){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(h,_,u){var s=document.createElement("DIV");u=u||window.gantt,s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u;var c=this.vs[this.av];return c.grid=u,u.init(s.id,h,_),s.firstChild.style.border="none",c.gridId=s.id,c.gridObj=s,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(h,_,u){u=u||window.gantt;var s=document.createElement("DIV");return s.id="gantt_"+u.uid(),s.style.width="100%",s.style.height="100%",s.cmp="grid",document.body.appendChild(s),this.attachObject(s.id),this.dataType="gantt",this.dataObj=u,u.init(s.id,h,_),s.firstChild.style.border="none",s=null,this.callEvent("_onContentAttach",[]),this.dataObj}),S.exports=null},function(S,x){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}window.jQuery&&function(_){var u=[];_.fn.dhx_gantt=function(s){if(typeof(s=s||{})!="string"){var c=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)c.push(h(this.gantt)=="object"?this.gantt:window.gantt);else{var i=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var o in s)o!="data"&&(i.config[o]=s[o]);i.init(this),s.data&&i.parse(s.data),c.push(i)}}),c.length===1?c[0]:c}if(u[s])return u[s].apply(this,[]);_.error("Method "+s+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),S.exports=null},function(S,x,h){var _=h(1),u=h(15);S.exports=function(s){var c=50,i=30,o=10,e=50,t=null,n=!1,a=null,r={started:!1},l={};function d(b){return b&&_.isChildOf(b,s.$root)&&b.offsetHeight}function f(){var b=!!document.querySelector(".gantt_drag_marker"),k=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),C=!!document.querySelector(".gantt_link_direction"),w=s.getState(),T=w.autoscroll;return n=b&&!k&&!C,!(!w.drag_mode&&!b||k)||T}function g(b){if(a&&(clearTimeout(a),a=null),b){var k=s.config.autoscroll_speed;k&&k<10&&(k=10),a=setTimeout(function(){t=setInterval(y,k||e)},s.config.autoscroll_delay||o)}}function p(b){b?(g(!0),r.started||(r.x=l.x,r.y=l.y,r.started=!0)):(t&&(clearInterval(t),t=null),g(!1),r.started=!1)}function v(b){var k=f();if(!t&&!a||k||p(!1),!s.config.autoscroll||!k)return!1;l={x:b.clientX,y:b.clientY},b.type=="touchmove"&&(l.x=b.targetTouches[0].clientX,l.y=b.targetTouches[0].clientY),!t&&k&&p(!0)}function y(){if(!f())return p(!1),!1;var b=d(s.$task)?s.$task:d(s.$grid)?s.$grid:s.$root;if(b){var k=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(F){k=k||!!document.querySelector(F)}),k&&(b=s.$grid);var C=_.getNodePosition(b),w=l.x-C.x,T=l.y-C.y+window.scrollY,E=n?0:m(w,C.width,r.x-C.x),P=m(T,C.height,r.y-C.y+window.scrollY),j=s.getScrollState(),N=j.y,L=j.inner_height,B=j.height,I=j.x,V=j.inner_width,Y=j.width;(P&&!L||P<0&&!N||P>0&&N+L>=B+2)&&(P=0),(E&&!V||E<0&&!I||E>0&&I+V>=Y)&&(E=0);var H=s.config.autoscroll_step;H&&H<2&&(H=2),E*=H||i,P*=H||i,(E||P)&&function(F,G){var R=s.getScrollState(),K=null,Q=null;F&&(K=R.x+F,K=Math.min(R.width,K),K=Math.max(0,K)),G&&(Q=R.y+G,Q=Math.min(R.height,Q),Q=Math.max(0,Q)),s.scrollTo(K,Q)}(E,P)}}function m(b,k,C){return b-c<0&&b<C?-1:b>k-c&&b>C?1:0}s.attachEvent("onGanttReady",function(){if(!u(s)){var b=_.getRootNode(s.$root)||document.body;s.eventRemove(b,"mousemove",v),s.event(b,"mousemove",v),s.eventRemove(b,"touchmove",v),s.event(b,"touchmove",v),s.eventRemove(b,"pointermove",v),s.event(b,"pointermove",v)}}),s.attachEvent("onDestroy",function(){p(!1)})}},function(S,x,h){S.exports=function(_){_.ext||(_.ext={});for(var u=[h(95),h(94),h(93)],s=0;s<u.length;s++)u[s]&&u[s](_);var c=h(92).default;_.ext.zoom=new c(_)}},function(S,x){S.exports=function(h){h.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(S,x){S.exports=function(h){h.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(S,x){S.exports=function(h){h.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},h.attachEvent("onAfterTaskDrag",function(_){var u=h.getTaskNode(_);u&&(u.className+=" gantt_drag_animation",setTimeout(function(){var s=u.className.indexOf(" gantt_drag_animation");s>-1&&(u.className=u.className.slice(0,s))},200))})}},function(S,x){S.exports=function(h){h.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(S,x){S.exports=function(h){h.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(S,x){S.exports=function(h){h.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(S,x){S.exports=function(h){h.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(S,x){function h(_,u){var s=u.skin;if(!s||_)for(var c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var o=c[i].href.match("dhtmlxgantt_([a-z_]+).css");if(o&&(u.skins[o[1]]||!s)){s=o[1];break}}u.skin=s||"terrace";var e=u.skins[u.skin]||u.skins.terrace;(function(a,r,l){for(var d in r)(a[d]===void 0||l)&&(a[d]=r[d])})(u.config,e.config,_);var t=u.getGridColumns();for(t[1]&&!u.defined(t[1].width)&&(t[1].width=e._second_column_width),t[2]&&!u.defined(t[2].width)&&(t[2].width=e._third_column_width),i=0;i<t.length;i++){var n=t[i];n.name=="add"&&(n.width||(n.width=44),u.defined(n.min_width)&&u.defined(n.max_width)||(n.min_width=n.min_width||n.width,n.max_width=n.max_width||n.width),n.min_width&&(n.min_width=+n.min_width),n.max_width&&(n.max_width=+n.max_width),n.width&&(n.width=+n.width,n.width=n.min_width&&n.min_width>n.width?n.min_width:n.width,n.width=n.max_width&&n.max_width<n.width?n.max_width:n.width))}e.config.task_height&&(u.config.task_height=e.config.task_height||"full"),e.config.bar_height&&(u.config.bar_height=e.config.bar_height||"full"),e._lightbox_template&&(u._lightbox_template=e._lightbox_template),e._redefine_lightbox_buttons&&(u.config.buttons_right=e._redefine_lightbox_buttons.buttons_right,u.config.buttons_left=e._redefine_lightbox_buttons.buttons_left),u.resetLightbox()}S.exports=function(_){_.resetSkin||(_.resetSkin=function(){this.skin="",h(!0,this)},_.skins={},_.attachEvent("onGanttLayoutReady",function(){h(!1,this)}))}},function(S,x){S.exports=function(){function h(t){return t.$ui.getView("timeline")}function _(t){return t.$ui.getView("grid")}function u(t){var n=h(t);if(n&&!n.$config.hidden)return n;var a=_(t);return a&&!a.$config.hidden?a:null}function s(t){var n=null,a=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(r){a=a||!!document.querySelector(r)}),(n=a?_(t):u(t))?i(t,n,"scrollY"):null}function c(t){var n=u(t);return n&&n.id!="grid"?i(t,n,"scrollX"):null}function i(t,n,a){var r=n.$config[a];return t.$ui.getView(r)}var o="DEFAULT_VALUE";function e(t,n,a,r){var l=t(this);return l&&l.isVisible()?l[n].apply(l,a):r?r():o}return{getColumnIndex:function(t){var n=e.call(this,_,"getColumnIndex",[t]);return n===o?0:n},dateFromPos:function(t){var n=e.call(this,h,"dateFromPos",Array.prototype.slice.call(arguments));return n===o?this.getState().min_date:n},posFromDate:function(t){var n=e.call(this,h,"posFromDate",[t]);return n===o?0:n},getRowTop:function(t){var n=this,a=e.call(n,h,"getRowTop",[t],function(){return e.call(n,_,"getRowTop",[t])});return a===o?0:a},getTaskTop:function(t){var n=this,a=e.call(n,h,"getItemTop",[t],function(){return e.call(n,_,"getItemTop",[t])});return a===o?0:a},getTaskPosition:function(t,n,a){var r=e.call(this,h,"getItemPosition",[t,n,a]);return r===o?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:r},getTaskBarHeight:function(t,n){var a=this,r=e.call(a,h,"getBarHeight",[t,n],function(){return e.call(a,_,"getItemHeight",[t])});return r===o?0:r},getTaskHeight:function(t){var n=this,a=e.call(n,h,"getItemHeight",[t],function(){return e.call(n,_,"getItemHeight",[t])});return a===o?0:a},columnIndexByDate:function(t){var n=e.call(this,h,"columnIndexByDate",[t]);return n===o?0:n},roundTaskDates:function(){e.call(this,h,"roundTaskDates",[])},getScale:function(){var t=e.call(this,h,"getScale",[]);return t===o?null:t},getTaskNode:function(t){var n=h(this);if(n&&n.isVisible()){var a=n._taskRenderer.rendered[t];if(!a){var r=n.$config.item_attribute;a=n.$task_bars.querySelector("["+r+"='"+t+"']")}return a||null}return null},getLinkNode:function(t){var n=h(this);return n.isVisible()?n._linkRenderer.rendered[t]:null},scrollTo:function(t,n){var a=s(this),r=c(this),l={position:0},d={position:0};a&&(d=a.getScrollState()),r&&(l=r.getScrollState());var f=r&&1*t==t,g=a&&1*n==n;if(f&&g)for(var p=a._getLinkedViews(),v=r._getLinkedViews(),y=[],m=0;m<p.length;m++)for(var b=0;b<v.length;b++)p[m].$config.id&&v[b].$config.id&&p[m].$config.id===v[b].$config.id&&y.push(p[m].$config.id);f&&(y&&y.forEach((function(w){this.$ui.getView(w).$config.$skipSmartRenderOnScroll=!0}).bind(this)),r.scroll(t),y&&y.forEach((function(w){this.$ui.getView(w).$config.$skipSmartRenderOnScroll=!1}).bind(this))),g&&a.scroll(n);var k={position:0},C={position:0};a&&(k=a.getScrollState()),r&&(C=r.getScrollState()),this.callEvent("onGanttScroll",[l.position,d.position,C.position,k.position])},showDate:function(t){var n=this.posFromDate(t),a=Math.max(n-this.config.task_scroll_offset,0);this.scrollTo(a)},showTask:function(t){var n=this.getTaskPosition(this.getTask(t)),a=n.left;this.config.rtl&&(a=n.left+n.width);var r,l=Math.max(a-this.config.task_scroll_offset,0),d=this._scroll_state().y;r=d?n.top-(d-this.getTaskBarHeight(t))/2:n.top,this.scrollTo(l,r);var f=_(this),g=h(this);f&&g&&f.$config.scrollY!=g.$config.scrollY&&i(this,f,"scrollY").scrollTo(null,r)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},n=s(this),a=c(this);if(a){var r=a.getScrollState();r.visible&&(t.x=r.size,t.x_inner=r.scrollSize),t.x_pos=r.position||0}if(n){var l=n.getScrollState();l.visible&&(t.y=l.size,t.y_inner=l.scrollSize),t.y_pos=l.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,n,a){var r=this.$ui.getView(t);if(!r)return!1;if(n!==null){var l=this.$ui.getView(r.$config.scrollX);l&&l.scrollTo(n,null)}if(a!==null){var d=this.$ui.getView(r.$config.scrollY);d&&d.scrollTo(null,a)}}}}},function(S,x){S.exports=function(h){}},function(S,x,h){var _=h(1),u=function(s){return{getVerticalScrollbar:function(){return s.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return s.$ui.getView("scrollHor")},_legacyGridResizerClass:function(c){for(var i=c.getCellsByType("resizer"),o=0;o<i.length;o++){var e=i[o],t=!1,n=e.$parent.getPrevSibling(e.$id);if(n&&n.$config&&n.$config.id==="grid")t=!0;else{var a=e.$parent.getNextSibling(e.$id);a&&a.$config&&a.$config.id==="grid"&&(t=!0)}t&&(e.$config.css=(e.$config.css?e.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(c){var i=!0;this._legacyGridResizerClass(c),c.attachEvent("onBeforeResize",function(){var o=s.$ui.getView("timeline");o&&(o.$config.hidden=o.$parent.$config.hidden=!s.config.show_chart);var e=s.$ui.getView("grid");if(e){var t=e._getColsTotalWidth(),n=!s.config.show_grid||!s.config.grid_width||t===0;if(i&&!n&&t!==!1&&(s.config.grid_width=t),e.$config.hidden=e.$parent.$config.hidden=n,!e.$config.hidden){var a=e._getGridWidthLimits();if(a[0]&&s.config.grid_width<a[0]&&(s.config.grid_width=a[0]),a[1]&&s.config.grid_width>a[1]&&(s.config.grid_width=a[1]),o&&s.config.show_chart){if(e.$config.width=s.config.grid_width-1,!e.$config.scrollable&&e.$config.scrollY&&s.$root.offsetWidth){var r=e.$gantt.$layout.$container.offsetWidth,l=s.$ui.getView(e.$config.scrollY).$config.width,d=r-(e.$config.width+l);d<0&&(e.$config.width+=d,s.config.grid_width+=d)}if(i)e.$parent.$config.width=s.config.grid_width,e.$parent.$config.group&&s.$layout._syncCellSizes(e.$parent.$config.group,{value:e.$parent.$config.width,isGravity:!1});else if(o&&!_.isChildOf(o.$task,c.$view)){if(!e.$config.original_grid_width){var f=s.skins[s.skin];f&&f.config&&f.config.grid_width?e.$config.original_grid_width=f.config.grid_width:e.$config.original_grid_width=0}s.config.grid_width=e.$config.original_grid_width,e.$parent.$config.width=s.config.grid_width}else e.$parent._setContentSize(e.$config.width,null),s.$layout._syncCellSizes(e.$parent.$config.group,{value:s.config.grid_width,isGravity:!1})}else o&&_.isChildOf(o.$task,c.$view)&&(e.$config.original_grid_width=s.config.grid_width),i||(e.$parent.$config.width=0)}i=!1}}),this._initScrollStateEvents(c)},_initScrollStateEvents:function(c){s._getVerticalScrollbar=this.getVerticalScrollbar,s._getHorizontalScrollbar=this.getHorizontalScrollbar;var i=this.getVerticalScrollbar(),o=this.getHorizontalScrollbar();i&&i.attachEvent("onScroll",function(e,t,n){var a=s.getScrollState();s.callEvent("onGanttScroll",[a.x,e,a.x,t])}),o&&o.attachEvent("onScroll",function(e,t,n){var a=s.getScrollState();s.callEvent("onGanttScroll",[e,a.y,t,a.y]);var r=s.$ui.getView("grid");r&&r.$grid_data&&!r.$config.scrollable&&(r.$grid_data.style.left=r.$grid.scrollLeft+"px",r.$grid_data.scrollLeft=r.$grid.scrollLeft)}),c.attachEvent("onResize",function(){i&&!s.$scroll_ver&&(s.$scroll_ver=i.$scroll_ver),o&&!s.$scroll_hor&&(s.$scroll_hor=o.$scroll_hor)})},_findGridResizer:function(c,i){for(var o,e=c.getCellsByType("resizer"),t=!0,n=0;n<e.length;n++){var a=e[n];a._getSiblings();var r=a._behind,l=a._front;if(r&&r.$content===i||r.isChild&&r.isChild(i)){o=a,t=!0;break}if(l&&l.$content===i||l.isChild&&l.isChild(i)){o=a,t=!1;break}}return{resizer:o,gridFirst:t}},onInitialized:function(c){var i=s.$ui.getView("grid"),o=this._findGridResizer(c,i);if(o.resizer){var e,t=o.gridFirst,n=o.resizer;if(n.$config.mode!=="x")return;n.attachEvent("onResizeStart",function(a,r){var l=s.$ui.getView("grid"),d=l?l.$parent:null;if(d){var f=l._getGridWidthLimits();l.$config.scrollable||(d.$config.minWidth=f[0]),d.$config.maxWidth=f[1]}return e=t?a:r,s.callEvent("onGridResizeStart",[e])}),n.attachEvent("onResize",function(a,r){var l=t?a:r;return s.callEvent("onGridResize",[e,l])}),n.attachEvent("onResizeEnd",function(a,r,l,d){var f=t?a:r,g=t?l:d,p=s.$ui.getView("grid"),v=p?p.$parent:null;v&&(v.$config.minWidth=void 0);var y=s.callEvent("onGridResizeEnd",[f,g]);return y&&g!==0&&(s.config.grid_width=g),y})}},onDestroyed:function(c){}}};S.exports=u},function(S,x,h){var _=h(1),u=function(s,c){var i,o,e,t,n,a=10,r=18;function l(){return{link_source_id:t,link_target_id:o,link_from_start:n,link_to_start:e,link_landing_area:i}}var d=c.$services,f=d.getService("state"),g=d.getService("dnd");f.registerProvider("linksDnD",l);var p=new g(s.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:c.$root,selector:".gantt_link_point",preventDefault:!0});function v(w,T,E,P,j){var N=function(I,V,Y){var H=V(I),F={x:H.left,y:H.top,width:H.width,height:H.height};if(Y.rtl?(F.xEnd=F.x,F.x=F.xEnd+F.width):F.xEnd=F.x+F.width,F.yEnd=F.y+F.height,c.getTaskType(I.type)==c.config.types.milestone){var G=function(R){var K=s.getBarHeight(R,!0);return Math.round(Math.sqrt(2*K*K))-2}(I.id);F.x+=(Y.rtl?1:-1)*(G/2),F.xEnd+=(Y.rtl?-1:1)*(G/2),F.width=H.xEnd-H.x}return F}(w,function(I){return c.getTaskPosition(I)},P),L={x:N.x,y:N.y};T||(L.x=N.xEnd),L.y+=c.getTaskHeight(w.id)/2;var B=function(I){return c.getTaskType(I.type)==c.config.types.milestone}(w)&&j?2:0;return E=E||0,P.rtl&&(E*=-1),L.x+=(T?-1:1)*E-B,L}function y(w,T){var E=p.getPosition(w),P=function(Y){var H=0,F=0;return Y&&(H=Y.offsetWidth||0,F=Y.offsetHeight||0),{width:H,height:F}}(T),j=function(){var Y=c.$root;return{right:Y.offsetWidth,bottom:Y.offsetHeight}}(),N=c.config.tooltip_offset_x||a,L=c.config.tooltip_offset_y||a,B=c.config.scroll_size||r,I=c.$container.getBoundingClientRect().y+window.scrollY,V={y:E.y+L,x:E.x+N,bottom:E.y+P.height+L+B,right:E.x+P.width+N+B};return V.bottom>j.bottom+I&&(V.y=j.bottom+I-P.height-L),V.right>j.right&&(V.x=j.right-P.width-N),V}function m(w){var T=l(),E=["gantt_link_tooltip"];T.link_source_id&&T.link_target_id&&(c.isLinkAllowed(T.link_source_id,T.link_target_id,T.link_from_start,T.link_to_start)?E.push("gantt_allowed_link"):E.push("gantt_invalid_link"));var P=c.templates.drag_link_class(T.link_source_id,T.link_from_start,T.link_target_id,T.link_to_start);P&&E.push(P);var j="<div class='"+P+"'>"+c.templates.drag_link(T.link_source_id,T.link_from_start,T.link_target_id,T.link_to_start)+"</div>";w.innerHTML=j}function b(){t=n=o=null,e=!0}function k(w,T,E,P){var j=function(){return p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),s.$task_links.appendChild(p._direction)),p._direction}(),N=l(),L=["gantt_link_direction"];c.templates.link_direction_class&&L.push(c.templates.link_direction_class(N.link_source_id,N.link_from_start,N.link_target_id,N.link_to_start));var B=Math.sqrt(Math.pow(E-w,2)+Math.pow(P-T,2));if(B=Math.max(0,B-3)){j.className=L.join(" ");var I=(P-T)/(E-w),V=Math.atan(I);C(w,E,T,P)==2?V+=Math.PI:C(w,E,T,P)==3&&(V-=Math.PI);var Y=Math.sin(V),H=Math.cos(V),F=Math.round(T),G=Math.round(w),R=["-webkit-transform: rotate("+V+"rad)","-moz-transform: rotate("+V+"rad)","-ms-transform: rotate("+V+"rad)","-o-transform: rotate("+V+"rad)","transform: rotate("+V+"rad)","width:"+Math.round(B)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){R.push('-ms-filter: "'+function(W,O){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+O+",M12 = -"+W+",M21 = "+W+",M22 = "+O+",SizingMethod = 'auto expand')"}(Y,H)+'"');var K=Math.abs(Math.round(w-E)),Q=Math.abs(Math.round(P-T));switch(C(w,E,T,P)){case 1:F-=Q;break;case 2:G-=K,F-=Q;break;case 3:G-=K}}R.push("top:"+F+"px"),R.push("left:"+G+"px"),j.style.cssText=R.join(";")}}function C(w,T,E,P){return T>=w?P<=E?1:4:P<=E?2:3}p.attachEvent("onBeforeDragStart",c.bind(function(w,T){var E=T.target||T.srcElement;if(b(),c.getState("tasksDnd").drag_id)return!1;if(_.locateClassName(E,"gantt_link_point")){_.locateClassName(E,"task_start_date")&&(n=!0);var P=c.locate(T);t=P;var j=c.getTask(P);return c.isReadonly(j)?(b(),!1):(this._dir_start=v(j,!!n,0,s.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",c.bind(function(w,T){c.config.touch&&c.refreshData(),m(p.config.marker)},this)),p.attachEvent("onDragMove",c.bind(function(w,T){var E=p.config,P=y(T,E.marker);(function(Q,W){Q.style.left=W.x+"px",Q.style.top=W.y+"px"})(E.marker,P);var j=!!_.locateClassName(T,"gantt_link_control"),N=o,L=i,B=e,I=c.locate(T),V=!0,Y=_.getTargetNode(T);if(_.isChildOf(Y,c.$root)||(j=!1,I=null),j&&(V=!_.locateClassName(T,"task_end_date"),j=!!I),o=I,i=j,e=V,j){var H=c.getTask(I),F=s.$getConfig(),G=_.locateClassName(T,"gantt_link_control"),R=0;G&&(R=Math.floor(G.offsetWidth/2)),this._dir_end=v(H,!!e,R,F)}else this._dir_end=_.getRelativeEventPosition(T,s.$task_data),c.env.isEdge&&(this._dir_end.y+=window.scrollY);var K=!(L==j&&N==I&&B==V);return K&&(N&&c.refreshTask(N,!1),I&&c.refreshTask(I,!1)),K&&m(E.marker),k(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",c.bind(function(){var w=l();if(w.link_source_id&&w.link_target_id&&w.link_source_id!=w.link_target_id){var T=c._get_link_type(w.link_from_start,w.link_to_start),E={source:w.link_source_id,target:w.link_target_id,type:T};E.type&&c.isLinkAllowed(E)&&c.callEvent("onLinkCreated",[E])&&c.addLink(E)}b(),c.config.touch?c.refreshData():(w.link_source_id&&c.refreshTask(w.link_source_id,!1),w.link_target_id&&c.refreshTask(w.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),c.attachEvent("onGanttRender",c.bind(function(){p._direction&&k(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};S.exports={createLinkDND:function(){return{init:u}}}},function(S,x,h){var _=h(1),u=h(0),s=h(55),c=h(2);S.exports={createTaskDND:function(){var i;return{extend:function(o){o.roundTaskDates=function(e){i.round_task_dates(e)}},init:function(o,e){return i=function(t,n){var a=n.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=n._createDomEventScope(),this.clear_drag_state();var r=n.config.drag_mode;this.set_actions(),a.getService("state").registerProvider("tasksDnd",u.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var l={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var d in this._events)for(var f in r)this._events[d][f]=l[d];this._handlers[r.move]=this._move,this._handlers[r.resize]=this._resize,this._handlers[r.progress]=this._resize_progress},set_actions:function(){var r=t.$task_data;this._domEvents.attach(r,"mousemove",n.bind(function(l){this.on_mouse_move(l)},this)),this._domEvents.attach(r,"mousedown",n.bind(function(l){this.on_mouse_down(l)},this)),this._domEvents.attach(document.body,"mouseup",n.bind(function(l){this.on_mouse_up(l)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(r,l,d){var f=t.$getConfig(),g=this._drag_task_coords(r,d);d.left?(r.start_date=n.dateFromPos(g.start+l),r.start_date||(r.start_date=new Date(n.getState().min_date))):(r.end_date=n.dateFromPos(g.end+l),r.end_date||(r.end_date=new Date(n.getState().max_date)));var p=this._calculateMinDuration(f.min_duration,f.duration_unit);r.end_date-r.start_date<f.min_duration&&(d.left?r.start_date=n.calculateEndDate(r.end_date,-p,f.duration_unit,r):r.end_date=n.calculateEndDate(r.start_date,p,f.duration_unit,r)),n._init_task_timing(r)},_calculateMinDuration:function(r,l){return Math.ceil(r/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[l])},_resize_progress:function(r,l,d){var f=this._drag_task_coords(r,d),g=t.$getConfig().rtl?f.start-d.pos.x:d.pos.x-f.start,p=Math.max(0,g);r.progress=Math.min(1,p/Math.abs(f.end-f.start))},_find_max_shift:function(r,l){var d;for(var f in r){var g=r[f],p=n.getTask(g.id),v=this._drag_task_coords(p,g),y=n.posFromDate(new Date(n.getState().min_date)),m=n.posFromDate(new Date(n.getState().max_date));if(v.end+l>m){var b=m-v.end;(b<d||d===void 0)&&(d=b)}else if(v.start+l<y){var k=y-v.start;(k>d||d===void 0)&&(d=k)}}return d},_move:function(r,l,d,f){var g=this._drag_task_coords(r,d),p=null,v=null;f?(p=new Date(+d.obj.start_date+f),v=new Date(+d.obj.end_date+f)):(p=n.dateFromPos(g.start+l),v=n.dateFromPos(g.end+l)),p?v?(r.start_date=p,r.end_date=v):(r.end_date=new Date(n.getState().max_date),r.start_date=n.dateFromPos(n.posFromDate(r.end_date)-(g.end-g.start))):(r.start_date=new Date(n.getState().min_date),r.end_date=n.dateFromPos(n.posFromDate(r.start_date)+(g.end-g.start)))},_drag_task_coords:function(r,l){return{start:l.obj_s_x=l.obj_s_x||n.posFromDate(r.start_date),end:l.obj_e_x=l.obj_e_x||n.posFromDate(r.end_date)}},_mouse_position_change:function(r,l){var d=r.x-l.x,f=r.y-l.y;return Math.sqrt(d*d+f*f)},_is_number:function(r){return!isNaN(parseFloat(r))&&isFinite(r)},on_mouse_move:function(r){if(this.drag.start_drag){var l=_.getRelativeEventPosition(r,n.$task_data),d=this.drag.start_drag.start_x,f=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(d)&&this._is_number(f)&&this._mouse_position_change({x:d,y:f},l)>20)&&this._start_dnd(r)}if(this.drag.mode){if(!s(this,40))return;this._update_on_move(r)}},_update_item_on_move:function(r,l,d,f,g,p){var v=n.getTask(l),y=n.mixin({},v),m=n.mixin({},v);this._handlers[d].apply(this,[m,r,f,p]),n.mixin(v,m,!0),n.callEvent("onTaskDrag",[v.id,d,m,y,g]),n.mixin(v,m,!0),n.refreshTask(l)},_update_on_move:function(r){var l=this.drag,d=t.$getConfig();if(l.mode){var f=_.getRelativeEventPosition(r,t.$task_data);if(l.pos&&l.pos.x==f.x)return;l.pos=f;var g=n.dateFromPos(f.x);if(!g||isNaN(g.getTime()))return;var p=f.x-l.start_x,v=n.getTask(l.id);if(this._handlers[l.mode]){if(l.mode===d.drag_mode.move){var y={};this._isMultiselect()&&n.getSelectedTasks().indexOf(l.id)>=0&&(y=this.dragMultiple);var m=!1;if(n.isSummaryTask(v)&&n.config.drag_project){var b={};b[l.id]=u.copy(l),m=!0,y=u.mixin(b,this.dragMultiple)}var k=this._find_max_shift(y,p);for(var C in k!==void 0&&(p=k),this._update_item_on_move(p,l.id,l.mode,l,r),y){var w=y[C];if(m&&w.id!=l.id&&(n._bulk_dnd=!0),k===void 0&&(m||Object.keys(y).length>1))var T=g-n.dateFromPos(l.start_x);this._update_item_on_move(p,w.id,w.mode,w,r,T)}n._bulk_dnd=!1}else this._update_item_on_move(p,l.id,l.mode,l,r);n._update_parents(l.id)}}},on_mouse_down:function(r,l){if(r.button!=2||r.button===void 0){var d=t.$getConfig(),f=n.locate(r),g=null;if(n.isTaskExists(f)&&(g=n.getTask(f)),!n.isReadonly(g)&&!this.drag.mode){this.clear_drag_state(),l=l||r.target||r.srcElement;var p=_.getClassName(l),v=this._get_drag_mode(p,l);if(!p||!v)return l.parentNode?this.on_mouse_down(r,l.parentNode):void 0;if(v)if(v.mode&&v.mode!=d.drag_mode.ignore&&d["drag_"+v.mode]){if(f=n.locate(l),g=n.copy(n.getTask(f)||{}),n.isReadonly(g))return this.clear_drag_state(),!1;if(n.isSummaryTask(g)&&!d.drag_project&&v.mode!=d.drag_mode.progress)return void this.clear_drag_state();v.id=f;var y=_.getRelativeEventPosition(r,n.$task_data);v.start_x=y.x,v.start_y=y.y,v.obj=g,this.drag.start_drag=v,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(n.checkEvent("onMouseDown")&&n.callEvent("onMouseDown",[p.split(" ")[0]])&&l.parentNode)return this.on_mouse_down(r,l.parentNode)}}},_fix_dnd_scale_time:function(r,l){var d=t.$getConfig(),f=n.getScale().unit,g=n.getScale().step;function p(v){if(n.config.correct_work_time){var y=t.$getConfig();n.isWorkTime(v.start_date,void 0,v)||(v.start_date=n.calculateEndDate({start_date:v.start_date,duration:-1,unit:y.duration_unit,task:v}))}}d.round_dnd_dates||(f="minute",g=d.time_step),l.mode==d.drag_mode.resize?l.left?(r.start_date=n.roundDate({date:r.start_date,unit:f,step:g}),p(r)):(r.end_date=n.roundDate({date:r.end_date,unit:f,step:g}),function(v){if(n.config.correct_work_time){var y=t.$getConfig();n.isWorkTime(new Date(v.end_date-1),void 0,v)||(v.end_date=n.calculateEndDate({start_date:v.end_date,duration:1,unit:y.duration_unit,task:v}))}}(r)):l.mode==d.drag_mode.move&&(r.start_date=n.roundDate({date:r.start_date,unit:f,step:g}),p(r),r.end_date=n.calculateEndDate(r))},_fix_working_times:function(r,l){var d=t.$getConfig();(l=l||{mode:d.drag_mode.move}).mode==d.drag_mode.resize?l.left?r.start_date=n.getClosestWorkTime({date:r.start_date,dir:"future",task:r}):r.end_date=n.getClosestWorkTime({date:r.end_date,dir:"past",task:r}):l.mode==d.drag_mode.move&&n.correctTaskWorkTime(r)},_finalize_mouse_up:function(r,l,d,f){var g=n.getTask(r);if(l.work_time&&l.correct_work_time&&this._fix_working_times(g,d),this._fix_dnd_scale_time(g,d),this._fireEvent("before_finish",d.mode,[r,d.mode,n.copy(d.obj),f])){var p=r;n._init_task_timing(g),this.clear_drag_state(),n.updateTask(g.id),this._fireEvent("after_finish",d.mode,[p,d.mode,f])}else this.clear_drag_state(),r==d.id&&(d.obj._dhx_changed=!1,n.mixin(g,d.obj,!0)),n.refreshTask(g.id)},on_mouse_up:function(r){var l=this.drag;if(l.mode&&l.id){var d=t.$getConfig(),f=n.getTask(l.id),g=this.dragMultiple,p=!1,v=0;l.mode===d.drag_mode.move&&(n.isSummaryTask(f)&&d.drag_project||this._isMultiselect())&&(p=!0,v=Object.keys(g).length);var y=function(){if(p)for(var m in g)this._finalize_mouse_up(g[m].id,d,g[m],r);this._finalize_mouse_up(l.id,d,l,r)};p&&v>10?n.batchUpdate((function(){y.call(this)}).bind(this)):y.call(this)}this.clear_drag_state()},_get_drag_mode:function(r,l){var d=t.$getConfig().drag_mode,f={mode:null,left:null};switch((r||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":f.mode=d.move;break;case"gantt_task_drag":f.mode=d.resize;var g=l.getAttribute("data-bind-property");f.left=g=="start_date";break;case"gantt_task_progress_drag":f.mode=d.progress;break;case"gantt_link_control":case"gantt_link_point":f.mode=d.ignore;break;default:f=null}return f},_start_dnd:function(r){var l=this.drag=this.drag.start_drag;delete l.start_drag;var d=t.$getConfig(),f=l.id;if(d["drag_"+l.mode]&&n.callEvent("onBeforeDrag",[f,l.mode,r])&&this._fireEvent("before_start",l.mode,[f,l.mode,r])){delete l.start_drag;var g=n.getTask(f);if(n.isReadonly(g))return void this.clear_drag_state();if(this._isMultiselect()){var p=n.getSelectedTasks();p.indexOf(l.id)>=0&&c.forEach(p,n.bind(function(v){var y=n.getTask(v);n.isSummaryTask(y)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(y.id),this.dragMultiple[v]=n.mixin({id:y.id,obj:n.copy(y)},this.drag)},this))}n.isSummaryTask(g)&&n.config.drag_project&&l.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(g.id),n.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(r,l,d){n.assert(this._events[r],"Invalid stage:{"+r+"}");var f=this._events[r][l];return n.assert(f,"Unknown after drop mode:{"+l+"}"),n.assert(d,"Invalid event arguments"),!n.checkEvent(f)||n.callEvent(f,d)},round_task_dates:function(r){var l=this.drag,d=t.$getConfig();l||(l={mode:d.drag_mode.move}),this._fix_dnd_scale_time(r,l)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return n.config.drag_multiple&&!!(n.getSelectedTasks&&n.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(r){n.eachTask(function(l){this.dragMultiple[l.id]=n.mixin({id:l.id,obj:n.copy(l)},this.drag)},r,this)}}}(o,e),o._tasks_dnd=i,i.init(e)},destructor:function(){i&&(i.destructor(),i=null)}}}}},function(S,x,h){var _=h(0),u=h(109),s=h(108),c=h(1),i=function(o){var e=o.$services;return{onCreated:function(t){var n=t.$config;n.bind=_.defined(n.bind)?n.bind:"task",n.bindLinks=_.defined(n.bindLinks)?n.bindLinks:"link",t._linksDnD=s.createLinkDND(),t._tasksDnD=u.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=h(33)(o)},onInitialized:function(t){this._attachDomEvents(o),this._attachStateProvider(o,t),t._tasksDnD.init(t,o),t._linksDnD.init(t,o),t.$config.id=="timeline"&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(o),this._clearStateProvider(o),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){o.$task=t.$task,o.$task_scale=t.$task_scale,o.$task_data=t.$task_data,o.$task_bg=t.$task_bg,o.$task_links=t.$task_links,o.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function n(a,r){if(a&&this.callEvent("onLinkDblClick",[a,r])){var l=this.getLink(a);if(this.isReadonly(l))return;var d=this.locale.labels.link+" "+this.templates.link_description(this.getLink(a))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(d,"",function(){t.deleteLink(a)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(a,r){var l=this.locate(a,this.config.link_attribute);l&&this.callEvent("onLinkClick",[l,a])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(a,r){var l=c.getRelativeEventPosition(a,t.$task_data),d=t.dateFromPos(l.x),f=Math.floor(t.columnIndexByDate(d)),g=t.getScale().trace_x[f];t.callEvent("onScaleClick",[a,g])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(a,r,l){r=this.locate(a,t.config.link_attribute),n.call(this,r,a)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(a,r,l){r=this.locate(a);var d=this.getTask(r),f=null;return l.parentNode&&c.getClassName(l.parentNode)&&(f=c.getClassName(l.parentNode).indexOf("_left")>-1?d.$target[0]:d.$source[0]),f&&n.call(this,f,a),!1},t),this.$task)},_attachStateProvider:function(t,n){var a=n;e.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:a._tasks?a._tasks.unit:void 0,scale_step:a._tasks?a._tasks.step:void 0}})},_clearStateProvider:function(){e.getService("state").unregisterProvider("tasksTimeline")}}};S.exports=i},function(S,x,h){var _=h(1);function u(c,i){var o=_.getNodePosition(i.$grid_data);return c.x+=o.x+i.$grid.scrollLeft,c.y+=o.y-i.$grid_data.scrollTop,c}function s(c,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=_.getNodePosition(c.$root);return i>e.width&&(i=e.width-o-2),i}S.exports={removeLineHighlight:function(c){c.markerLine&&c.markerLine.parentNode&&c.markerLine.parentNode.removeChild(c.markerLine),c.markerLine=null},highlightPosition:function(c,i,o){var e=function(n,a){var r=_.getNodePosition(a.$grid_data),l=_.getRelativeEventPosition(n,a.$grid_data),d=r.x+a.$grid.scrollLeft,f=l.y-10,g=a.getItemHeight(n.targetId);f<r.y&&(f=r.y);var p=a.getTotalHeight();return f>r.y+p-g&&(f=r.y+p-g),r.x=d,r.y=f,r.width=s(a.$gantt,r.width,9),r}(c,o);i.marker.style.left=e.x+9+"px",i.marker.style.width=e.width+"px",i.marker.style.overflow="hidden";var t=i.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),c.child?function(n,a,r){var l=n.targetParent,d=u({x:0,y:r.getItemTop(l)},r),f=r.$grid_data.getBoundingClientRect().bottom+window.scrollY,g=s(r.$gantt,r.$grid_data.offsetWidth);a.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",a.style.width=g+"px",a.style.top=d.y+"px",a.style.left=d.x+"px",a.style.height=r.getItemHeight(l)+"px",d.y>f&&(a.style.top=f+"px")}(c,t,o):function(n,a,r){var l=function(g,p){var v=p.$config.rowStore,y={x:0,y:0},m=p.$grid_data.querySelector(".gantt_tree_indent"),b=15,k=0;if(m&&(b=m.offsetWidth),g.targetId!==v.$getRootId()){var C=p.getItemTop(g.targetId),w=p.getItemHeight(g.targetId);if(k=v.exists(g.targetId)?v.calculateItemLevel(v.getItem(g.targetId)):0,g.prevSibling)y.y=C;else if(g.nextSibling){var T=0;v.eachItem(function(E){v.getIndexById(E.id)!==-1&&T++},g.targetId),y.y=C+w+T*w}else y.y=C+w,k+=1}return y.x=40+k*b,y.width=s(p.$gantt,Math.max(p.$grid_data.offsetWidth-y.x,0),y.x),u(y,p)}(n,r),d=r.$grid_data.getBoundingClientRect().bottom+window.scrollY;a.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",a.style.left=l.x+"px",a.style.height="4px";var f=l.y-2;a.style.top=f+"px",a.style.width=l.width+"px",f>d&&(a.style.top=d+"px")}(c,t,o),i.markerLine||(document.body.appendChild(t),i.markerLine=t)}}},function(S,x,h){var _=h(26);S.exports=function(u,s,c,i,o){var e;if(s!==o.$getRootId())e=c<.25?_.prevSiblingTarget(u,s,o):!(c>.6)||o.hasChild(s)&&o.getItem(s).$open?_.firstChildTarget(u,s,o):_.nextSiblingTarget(u,s,o);else{var t=o.$getRootId();e=o.hasChild(t)&&i>=0?_.lastChildTarget(u,t,o):_.firstChildTarget(u,t,o)}return e}},function(S,x,h){var _=h(26);function u(i,o,e,t,n){for(var a=o;t.exists(a);){var r=t.calculateItemLevel(t.getItem(a));if((r===e||r===e-1)&&t.getBranchIndex(a)>-1)break;a=n?t.getPrev(a):t.getNext(a)}return t.exists(a)?t.calculateItemLevel(t.getItem(a))===e?n?_.nextSiblingTarget(i,a,t):_.prevSiblingTarget(i,a,t):_.firstChildTarget(i,a,t):null}function s(i,o,e,t){return u(i,o,e,t,!0)}function c(i,o,e,t){return u(i,o,e,t,!1)}S.exports=function(i,o,e,t,n,a){var r;if(o!==n.$getRootId()){var l=n.getItem(o),d=n.calculateItemLevel(l);if(d===a){var f=n.getPrevSibling(o);e<.5&&!f?r=_.prevSiblingTarget(i,o,n):(e<.5&&(o=f),r=_.nextSiblingTarget(i,o,n))}else if(d>a)n.eachParent(function(m){n.calculateItemLevel(m)===a&&(o=m.id)},l),r=s(i,o,a,n);else{var g=s(i,o,a,n),p=c(i,o,a,n);r=e<.5?g:p}}else{var v=n.$getRootId(),y=n.getChildren(v);r=_.createDropTargetObject(),r=y.length&&t>=0?s(i,function(m){for(var b=m.getNext();m.exists(b);){var k=m.getNext(b);if(!m.exists(k))return b;b=k}return null}(n),a,n):c(i,v,a,n)}return r}},function(S,x,h){var _=h(1),u=h(26),s=h(113),c=h(112),i=h(111),o=h(16);S.exports={init:function(e,t){var n=e.$services.getService("dnd");if(t.$config.bind&&e.getDatastore(t.$config.bind)){var a=new n(t.$grid_data,{updates_per_second:60});e.defined(t.$getConfig().dnd_sensitivity)&&(a.config.sensitivity=t.$getConfig().dnd_sensitivity),a.attachEvent("onBeforeDragStart",e.bind(function(f,g){var p=r(g);if(!p||(e.hideQuickInfo&&e._hideQuickInfo(),_.closest(g.target,".gantt_grid_editor_placeholder")))return!1;var v=p.getAttribute(t.$config.item_attribute),y=t.$config.rowStore.getItem(v);return!e.isReadonly(y)&&!l(v)&&(a.config.initial_open_state=y.$open,!!e.callEvent("onRowDragStart",[v,g.target||g.srcElement,g])&&void 0)},e)),a.attachEvent("onAfterDragStart",e.bind(function(f,g){var p=r(g);a.config.marker.innerHTML=p.outerHTML;var v=a.config.marker.firstChild;v&&(a.config.marker.style.opacity=.4,v.style.position="static",v.style.pointerEvents="none"),a.config.id=p.getAttribute(t.$config.item_attribute);var y=t.$config.rowStore,m=y.getItem(a.config.id);a.config.level=y.calculateItemLevel(m),a.config.drop_target=u.createDropTargetObject({targetParent:y.getParent(m.id),targetIndex:y.getBranchIndex(m.id),targetId:m.id,nextSibling:!0}),m.$open=!1,m.$transparent=!0,this.refreshData()},e)),a.attachEvent("onDragMove",e.bind(function(f,g){var p=d(g);return p&&e.callEvent("onBeforeRowDragMove",[a.config.id,p.targetParent,p.targetIndex])!==!1||(p=u.createDropTargetObject(a.config.drop_target)),i.highlightPosition(p,a.config,t),a.config.drop_target=p,this.callEvent("onRowDragMove",[a.config.id,p.targetParent,p.targetIndex]),!0},e)),a.attachEvent("onDragEnd",e.bind(function(){var f=t.$config.rowStore,g=f.getItem(a.config.id);i.removeLineHighlight(a.config),g.$transparent=!1,g.$open=a.config.initial_open_state;var p=a.config.drop_target;this.callEvent("onBeforeRowDragEnd",[a.config.id,p.targetParent,p.targetIndex])===!1?g.$drop_target=null:(f.move(a.config.id,p.targetIndex,p.targetParent),e.render(),this.callEvent("onRowDragEnd",[a.config.id,p.targetParent,p.targetIndex])),f.refresh(g.id)},e))}function r(f){return _.locateAttribute(f,t.$config.item_attribute)}function l(f){return o(f,e,e.getDatastore(t.$config.bind))}function d(f){var g,p=function(k){var C=_.getRelativeEventPosition(k,t.$grid_data).y,w=t.$config.rowStore;document.doctype||(C+=window.scrollY),C=C||0;var T=t.$state.scrollTop||0,E=e.$grid_data.getBoundingClientRect().height+T+window.scrollY,P=T,j=t.getItemIndexByTopPosition(t.$state.scrollTop);if(w.exists(j)||(j=w.countVisible()-1),j<0)return w.$getRootId();var N=w.getIdByIndex(j),L=t.$state.scrollTop/t.getItemHeight(N),B=L-Math.floor(L);B>.1&&B<.9&&(E-=t.getItemHeight(N)*B,P+=t.getItemHeight(N)*(1-B));var I=_.getNodePosition(t.$grid_data),V=I.y+I.height,Y=a.config.marker.offsetHeight;C+Y+window.scrollY>=E&&(a.config.marker.style.top=V-Y+"px"),C>=E?C=E:C<=P&&(C=P,a.config.marker.style.top=I.y+"px");var H=t.getItemIndexByTopPosition(C);if(H>w.countVisible()-1||H<0)return w.$getRootId();var F=w.getIdByIndex(H);return l(F)?w.getPrevSibling(F):w.getIdByIndex(H)}(f),v=null,y=t.$config.rowStore,m=!t.$getConfig().order_branch_free,b=_.getRelativeEventPosition(f,t.$grid_data).y;return document.doctype||(b+=window.scrollY),p!==y.$getRootId()&&(v=(b-t.getItemTop(p))/t.getItemHeight(p)),m?(g=s(a.config.id,p,v,b,y,a.config.level))&&g.targetParent&&l(g.targetParent)&&(p=y.getPrevSibling(g.targetParent),g=s(a.config.id,p,v,b,y,a.config.level)):g=c(a.config.id,p,v,b,y),g}}}},function(S,x,h){var _=h(1),u=h(16);S.exports={init:function(s,c){var i=s.$services.getService("dnd");if(c.$config.bind&&s.getDatastore(c.$config.bind)){var o=new i(c.$grid_data,{updates_per_second:60});s.defined(c.$getConfig().dnd_sensitivity)&&(o.config.sensitivity=c.$getConfig().dnd_sensitivity),o.attachEvent("onBeforeDragStart",s.bind(function(a,r){var l=e(r);if(!l||(s.hideQuickInfo&&s._hideQuickInfo(),_.closest(r.target,".gantt_grid_editor_placeholder")))return!1;var d=l.getAttribute(c.$config.item_attribute);if(n(d))return!1;var f=t().getItem(d);return!s.isReadonly(f)&&(o.config.initial_open_state=f.$open,!!s.callEvent("onRowDragStart",[d,r.target||r.srcElement,r])&&void 0)},s)),o.attachEvent("onAfterDragStart",s.bind(function(a,r){var l=e(r);o.config.marker.innerHTML=l.outerHTML;var d=o.config.marker.firstChild;d&&(d.style.position="static"),o.config.id=l.getAttribute(c.$config.item_attribute);var f=t(),g=f.getItem(o.config.id);o.config.index=f.getBranchIndex(o.config.id),o.config.parent=g.parent,g.$open=!1,g.$transparent=!0,this.refreshData()},s)),o.lastTaskOfLevel=function(a){for(var r=null,l=t().getItems(),d=0,f=l.length;d<f;d++)l[d].$level==a&&(r=l[d]);return r?r.id:null},o._getGridPos=s.bind(function(a){var r=_.getNodePosition(c.$grid_data),l=r.x+c.$grid.scrollLeft,d=a.pos.y-10,f=c.getItemHeight(o.config.id);d<r.y&&(d=r.y);var g=c.getTotalHeight();d>r.y+g-f&&(d=r.y+g-f);var p=r.y+r.height;return d>p-f&&(d=p-f),r.x=l,r.y=d,r},s),o._getTargetY=s.bind(function(a){var r=_.getNodePosition(c.$grid_data),l=c.$state.scrollTop||0,d=s.$grid_data.getBoundingClientRect().height+l,f=a.pageY-r.y+l;return f>d?f=d:f<l&&(f=l),f},s),o._getTaskByY=s.bind(function(a,r){var l=t();a=a||0;var d=c.getItemIndexByTopPosition(a);return(d=r<d?d-1:d)>l.countVisible()-1?null:l.getIdByIndex(d)},s),o.attachEvent("onDragMove",s.bind(function(a,r){var l=s.$grid_data.getBoundingClientRect(),d=l.height+l.y+(c.$state.scrollTop||0)+window.scrollY,f=o.config,g=o._getGridPos(r),p=c.$getConfig(),v=t();g.y<d?f.marker.style.top=g.y+"px":f.marker.style.top=d+"px",f.marker.style.left=g.x+10+"px";var y=_.getNodePosition(s.$root);g.width>y.width&&(f.marker.style.width=y.width-10-2+"px",f.marker.style.overflow="hidden");var m=v.getItem(o.config.id),b=o._getTargetY(r),k=o._getTaskByY(b,v.getIndexById(m.id));function C(V,Y){return!v.isChildOf(w.id,Y.id)&&(V.$level==Y.$level||p.order_branch_free)}if(v.exists(k)||(k=o.lastTaskOfLevel(p.order_branch_free?m.$level:0))==o.config.id&&(k=null),v.exists(k)){var w=v.getItem(k),T=c.getItemTop(w.id),E=c.getItemHeight(w.id);if(T+E/2<b){var P=v.getIndexById(w.id),j=v.getNext(w.id),N=v.getItem(j);if(n(j)){var L=v.getPrev(N.id);N=v.getItem(L)}if(N){if(N.id==m.id)return p.order_branch_free&&v.isChildOf(m.id,w.id)&&v.getChildren(w.id).length==1?void v.move(m.id,v.getBranchIndex(w.id)+1,v.getParent(w.id)):void 0;w=N}else if(j=v.getIdByIndex(P),N=v.getItem(j),n(j)&&(L=v.getPrev(N.id),N=v.getItem(L)),C(N,m)&&N.id!=m.id)return void v.move(m.id,-1,v.getParent(N.id))}else if(p.order_branch_free&&w.id!=m.id&&C(w,m)&&!n(w.id)){if(!v.hasChild(w.id))return w.$open=!0,void v.move(m.id,-1,w.id);if(v.getIndexById(w.id)||E/3<b)return}P=v.getIndexById(w.id),L=v.getIdByIndex(P-1);for(var B=v.getItem(L),I=1;(!B||B.id==w.id)&&P-I>=0;)L=v.getIdByIndex(P-I),B=v.getItem(L),I++;if(m.id==w.id||n(w.id))return;C(w,m)&&m.id!=w.id?v.move(m.id,0,0,w.id):w.$level!=m.$level-1||v.getChildren(w.id).length?B&&C(B,m)&&m.id!=B.id&&v.move(m.id,-1,v.getParent(B.id)):v.move(m.id,0,w.id)}return!0},s)),o.attachEvent("onDragEnd",s.bind(function(){var a=t(),r=a.getItem(o.config.id);r.$transparent=!1,r.$open=o.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[o.config.id,o.config.parent,o.config.index])===!1?(a.move(o.config.id,o.config.index,o.config.parent),r.$drop_target=null):this.callEvent("onRowDragEnd",[o.config.id,r.$drop_target]),s.render(),this.refreshData()},s))}function e(a){return _.locateAttribute(a,c.$config.item_attribute)}function t(){return s.getDatastore(c.$config.bind)}function n(a){return u(a,s,t())}}}},function(S,x,h){var _=h(0),u=h(115),s=h(114),c=function(i){return{onCreated:function(o){o.$config=_.mixin(o.$config,{bind:"task"}),o.$config.id=="grid"&&(this.extendGantt(o),i.ext.inlineEditors=i.ext._inlineEditors.createEditors(o),i.ext.inlineEditors.init()),this._mouseDelegates=h(33)(i)},onInitialized:function(o){var e=o.$getConfig();e.order_branch&&(e.order_branch=="marker"?s.init(o.$gantt,o):u.init(o.$gantt,o)),this.initEvents(o,i),o.$config.id=="grid"&&this.extendDom(o)},onDestroyed:function(o){o.$config.id=="grid"&&i.ext.inlineEditors.destructor(),this.clearEvents(o,i)},initEvents:function(o,e){this._mouseDelegates.delegate("click","gantt_row",e.bind(function(t,n,a){var r=o.$getConfig();if(n!==null){var l=this.getTask(n);r.scroll_on_click&&!e._is_icon_open_click(t)&&this.showDate(l.start_date),e.callEvent("onTaskRowClick",[n,a])}},e),o.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",e.bind(function(t,n,a){var r=a.getAttribute("data-column-id");if(e.callEvent("onGridHeaderClick",[r,t])){var l=o.$getConfig();if(r!="add"){if(l.sort&&r){for(var d,f=r,g=0;g<l.columns.length;g++)if(l.columns[g].name==r){d=l.columns[g];break}if(d&&d.sort!==void 0&&d.sort!==!0&&!(f=d.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==r?this._sort.direction:"desc";p=p=="desc"?"asc":"desc",this._sort={name:r,direction:p},this.sort(f,p=="desc")}}else e.$services.getService("mouseEvents").callHandler("click","gantt_add",o.$grid,[t,l.root_id])}},e),o.$grid),this._mouseDelegates.delegate("click","gantt_add",e.bind(function(t,n,a){if(!o.$getConfig().readonly)return this.createTask({},n||e.config.root_id),!1},e),o.$grid)},clearEvents:function(o,e){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(o){i.$grid=o.$grid,i.$grid_scale=o.$grid_scale,i.$grid_data=o.$grid_data},extendGantt:function(o){i.getGridColumns=i.bind(o.getGridColumns,o),o.attachEvent("onColumnResizeStart",function(){return i.callEvent("onColumnResizeStart",arguments)}),o.attachEvent("onColumnResize",function(){return i.callEvent("onColumnResize",arguments)}),o.attachEvent("onColumnResizeEnd",function(){return i.callEvent("onColumnResizeEnd",arguments)}),o.attachEvent("onColumnResizeComplete",function(e,t){i.config.grid_width=t}),o.attachEvent("onBeforeRowResize",function(){return i.callEvent("onBeforeRowResize",arguments)}),o.attachEvent("onRowResize",function(){return i.callEvent("onRowResize",arguments)}),o.attachEvent("onBeforeRowResizeEnd",function(){return i.callEvent("onBeforeRowResizeEnd",arguments)}),o.attachEvent("onAfterRowResize",function(){return i.callEvent("onAfterRowResize",arguments)})}}};S.exports=c},function(S,x,h){var _=h(32),u=h(6);S.exports=function(s){return{render:function(c,i,o){var e=i.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=i.getItemTop(c.id)+i.getItemHeight(c.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize'></div>",t.setAttribute(e.task_grid_row_resizer_attribute,c.id),s._waiAria.gridSeparatorAttr(t),t},update:null,getRectangle:_,getVisibleRange:u}}},function(S,x,h){var _=h(29),u=h(6),s=h(28),c=h(27),i=h(39);function o(t,n,a,r){var l=100*(1-(1*t||0)),d=r.posFromDate(n),f=r.posFromDate(a),g=document.createElement("div");return g.className="gantt_histogram_hor_bar",g.style.top=l+"%",g.style.left=d+"px",g.style.width=f-d+1+"px",g}function e(t,n,a){if(t===n)return null;var r=1-Math.max(t,n),l=Math.abs(t-n),d=document.createElement("div");return d.className="gantt_histogram_vert_bar",d.style.top=100*r+"%",d.style.height=100*l+"%",d.style.left=a+"px",d}S.exports=function(t){var n=i(t),a={},r={},l={};function d(p,v){var y=a[p];y&&y[v]&&y[v].parentNode&&y[v].parentNode.removeChild(y[v])}function f(p,v,y,m,b,k,C){var w=l[p.id];w&&w.parentNode&&w.parentNode.removeChild(w);var T=function(E,P,j,N){for(var L=P.getScale(),B=document.createElement("div"),I=s(L,N),V=I.start;V<=I.end;V++){var Y=L.trace_x[V],H=L.trace_x[V+1]||t.date.add(Y,L.step,L.unit),F=L.trace_x[V].valueOf(),G=Math.min(E[F]/j,1)||0;if(G<0)return null;var R=Math.min(E[H.valueOf()]/j,1)||0,K=o(G,Y,H,P);K&&B.appendChild(K);var Q=e(G,R,P.posFromDate(H));Q&&B.appendChild(Q)}return B}(y,b,k,C);return T&&v&&(T.setAttribute("data-resource-id",p.id),T.setAttribute(b.$config.item_attribute,p.id),T.style.position="absolute",T.style.top=v.top+1+"px",T.style.height=b.getItemHeight(p.id)-1+"px",T.style.left=0),T}function g(p,v,y,m,b,k,C){var w=b.histogram_cell_class(k.start_date,k.end_date,p,k.tasks,k.assignments),T=b.histogram_cell_label(k.start_date,k.end_date,p,k.tasks,k.assignments),E=b.histogram_cell_allocated(k.start_date,k.end_date,p,k.tasks,k.assignments),P=C.getItemHeight(p.id)-1;if(w||T){var j=document.createElement("div");return j.className=["gantt_histogram_cell",w].join(" "),j.setAttribute(C.$config.item_attribute,p.id),j.style.cssText=["left:"+v.left+"px","width:"+v.width+"px","height:"+P+"px","line-height:"+P+"px","top:"+(v.top+1)+"px"].join(";"),T&&(T="<div class='gantt_histogram_label'>"+T+"</div>"),E&&(T="<div class='gantt_histogram_fill' style='height:"+100*Math.min(E/y||0,1)+"%;'></div>"+T),T&&(j.innerHTML=T),j}return null}return{render:function(p,v,y,m){var b=v.$getTemplates(),k=v.getScale(),C=n(p,y.resource_property,k,v),w=[],T={},E=p.capacity||v.$config.capacity||24;a[p.id]={},r[p.id]=null,l[p.id]=null;for(var P=!!m,j=s(k,m),N=j.start;N<=j.end;N++){var L=C[N];if(L&&(!P||c(N,k,m,t))){var B=b.histogram_cell_capacity(L.start_date,L.end_date,p,L.tasks,L.assignments);T[L.start_date.valueOf()]=B||0;var I=v.getItemPosition(p,L.start_date,L.end_date),V=g(p,I,E,0,b,L,v);V&&(w.push(V),a[p.id][N]=V)}}var Y=null;if(w.length){Y=document.createElement("div");for(var H=0;H<w.length;H++)Y.appendChild(w[H]);var F=f(p,I,T,0,v,E,m);F&&(Y.appendChild(F),l[p.id]=F),r[p.id]=Y}return Y},update:function(p,v,y,m,b){var k=y.$getTemplates(),C=y.getScale(),w=n(p,m.resource_property,C,y),T=p.capacity||y.$config.capacity||24,E={},P=!!b,j=s(C,b),N={};if(a&&a[p.id])for(var L in a[p.id])N[L]=L;for(var B=j.start;B<=j.end;B++){var I=w[B];if(N[B]=!1,I){var V=k.histogram_cell_capacity(I.start_date,I.end_date,p,I.tasks,I.assignments);E[I.start_date.valueOf()]=V||0;var Y=y.getItemPosition(p,I.start_date,I.end_date);if(!P||c(B,C,b,t)){var H=a[p.id];if(H&&H[B])H&&H[B]&&!H[B].parentNode&&v.appendChild(H[B]);else{var F=g(p,Y,T,0,k,I,y);F&&(v.appendChild(F),a[p.id][B]=F)}}else d(p.id,B)}}for(var L in N)N[L]!==!1&&d(p.id,L);var G=f(p,Y,E,0,y,T,b);G&&(v.appendChild(G),l[p.id]=G)},getRectangle:_,getVisibleRange:u}}},function(S,x,h){var _=h(29),u=h(6),s=h(28),c=h(27),i=h(39);S.exports=function(o){var e=i(o),t={};function n(r,l,d,f,g){var p=d.resource_cell_class(l.start_date,l.end_date,r,l.tasks,l.assignments),v=d.resource_cell_value(l.start_date,l.end_date,r,l.tasks,l.assignments),y=g.getItemHeight(r.id)-1;if(p||v){var m=g.getItemPosition(r,l.start_date,l.end_date),b=document.createElement("div");return b.setAttribute(g.$config.item_attribute,r.id),b.className=["gantt_resource_marker",p].join(" "),b.style.cssText=["left:"+m.left+"px","width:"+m.width+"px","height:"+y+"px","line-height:"+y+"px","top:"+m.top+"px"].join(";"),v&&(b.innerHTML=v),b}return null}function a(r,l){t[r]&&t[r][l]&&t[r][l].parentNode&&t[r][l].parentNode.removeChild(t[r][l])}return{render:function(r,l,d,f){var g=l.$getTemplates(),p=l.getScale(),v=e(r,d.resource_property,l.getScale(),l),y=!!f,m=[];t[r.id]={};for(var b=s(p,f),k=b.start;k<=b.end;k++){var C=v[k];if(C&&(!y||c(k,p,f,o))){var w=n(r,C,g,0,l);w&&(m.push(w),t[r.id][k]=w)}}var T=null;if(m.length){T=document.createElement("div");for(var E=0;E<m.length;E++)T.appendChild(m[E])}return T},update:function(r,l,d,f,g){var p=d.$getTemplates(),v=d.getScale(),y=e(r,f.resource_property,d.getScale(),d),m=s(v,g),b={};if(t&&t[r.id])for(var k in t[r.id])b[k]=k;for(var C=m.start;C<=m.end;C++){var w=y[C];if(b[C]=!1,w)if(c(C,v,g,o))if(t[r.id]&&t[r.id][C])t[r.id]&&t[r.id][C]&&!t[r.id][C].parentNode&&l.appendChild(t[r.id][C]);else{var T=n(r,w,p,0,d);T&&(l.appendChild(T),t[r.id][C]=T)}else a(r.id,C)}for(var k in b)b[k]!==!1&&a(r.id,k)},getRectangle:_,getVisibleRange:u}}},function(S,x,h){function _(i){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}var u=h(2),s=h(32),c=h(6);S.exports=function(i){return{render:function(o,e,t,n){for(var a=e.getGridColumns(),r=e.$getTemplates(),l=e.$config.rowStore,d=[],f=0;f<a.length;f++){var g,p,v,y=f==a.length-1,m=a[f];m.name=="add"?(p="<div "+(E=i._waiAria.gridAddButtonAttrString(m))+" class='gantt_add'></div>",v=""):(p=m.template?m.template(o):o[m.name],u.isDate(p)&&(p=r.date_grid(p,o,m.name)),p!=null||(p=""),v=p,p="<div class='gantt_tree_content'>"+p+"</div>");var b="gantt_cell"+(y?" gantt_last_cell":""),k=[];if(m.tree){b+=" gantt_cell_tree";for(var C=0;C<o.$level;C++)k.push(r.grid_indent(o));!l.hasChild(o.id)||i.isSplitTask(o)&&!i.config.open_split_tasks?(k.push(r.grid_blank(o)),k.push(r.grid_file(o))):(k.push(r.grid_open(o)),k.push(r.grid_folder(o)))}var w="width:"+(m.width-(y?1:0))+"px;";if(this.defined(m.align)){var T={right:"flex-end",left:"flex-start",center:"center"}[m.align];w+="text-align:"+m.align+";justify-content:"+T+";"}var E=i._waiAria.gridCellAttrString(m,v,o);k.push(p),g="<div class='"+b+"' data-column-index='"+f+"' data-column-name='"+m.name+"' style='"+w+"' "+E+">"+k.join("")+"</div>",d.push(g)}switch(b="",l.$config.name){case"task":b=i.getGlobalTaskIndex(o.id)%2==0?"":" odd";break;case"resource":b=l.visibleOrder.indexOf(o.id)%2==0?"":" odd"}if(b+=o.$transparent?" gantt_transparent":"",b+=o.$dataprocessor_class?" "+o.$dataprocessor_class:"",r.grid_row_class){var P=r.grid_row_class.call(i,o.start_date,o.end_date,o);P&&(b+=" "+P)}l.isSelected(o.id)&&(b+=" gantt_selected");var j=document.createElement("div");j.className="gantt_row"+b+" gantt_row_"+i.getTaskType(o.type);var N=e.getItemHeight(o.id);return j.style.height=N+"px",j.style.lineHeight=N+"px",t.smart_rendering&&(j.style.position="absolute",j.style.left="0px",j.style.top=e.getItemTop(o.id)+"px"),e.$config.item_attribute&&(j.setAttribute(e.$config.item_attribute,o.id),j.setAttribute(e.$config.bind+"_id",o.id)),i._waiAria.taskRowAttr(o,j),j.innerHTML=d.join(""),j},update:null,getRectangle:s,getVisibleRange:c,onrender:function(o,e,t){for(var n=t.getGridColumns(),a=0;a<n.length;a++){var r=n[a];if(r.onrender){var l=e.querySelector("[data-column-name="+r.name+"]");if(l){var d=r.onrender(o,l);if(d&&typeof d=="string")l.innerHTML=d;else if(d&&_(d)==="object"&&i.config.external_render){var f=i.config.external_render;f.isElement(d)&&f.renderElement(d,l)}}}}}}}},function(S,x,h){var _=h(43),u=h(44);S.exports=function(s){var c={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(e){this.current_pos=s.copy(e)},get_lines:function(e){this.clear(),this.point(e[0]);for(var t=1;t<e.length;t++)this.line_to(e[t]);return this.get_path()},line_to:function(e){var t=s.copy(e),n=this.current_pos,a=this._get_line(n,t);this.path.push(a),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(e,t,n){var a,r=t.$getConfig().link_wrapper_width,l=e.y-r/2;switch(e.direction){case this.dirs.left:a={top:l,height:r,lineHeight:r,left:e.x-e.size-r/2,width:e.size+r};break;case this.dirs.right:a={top:l,lineHeight:r,height:r,left:e.x-r/2,width:e.size+r};break;case this.dirs.up:a={top:l-e.size,lineHeight:e.size+r,height:e.size+r,left:e.x-r/2,width:r};break;case this.dirs.down:a={top:l,lineHeight:e.size+r,height:e.size+r,left:e.x-r/2,width:r}}return a},get_line_sizes:function(e,t){var n,a=t.$getConfig(),r=a.link_line_width,l=a.link_wrapper_width,d=e.size+r;switch(e.direction){case this.dirs.left:case this.dirs.right:n={height:r,width:d,marginTop:(l-r)/2,marginLeft:(l-r)/2};break;case this.dirs.up:case this.dirs.down:n={height:d,width:r,marginTop:(l-r)/2,marginLeft:(l-r)/2}}return n},render_line:function(e,t,n,a){var r=this.get_wrapper_sizes(e,n,a),l=document.createElement("div");l.style.cssText=["top:"+r.top+"px","left:"+r.left+"px","height:"+r.height+"px","width:"+r.width+"px"].join(";"),l.className="gantt_line_wrapper";var d=this.get_line_sizes(e,n),f=document.createElement("div");return f.style.cssText=["height:"+d.height+"px","width:"+d.width+"px","margin-top:"+d.marginTop+"px","margin-left:"+d.marginLeft+"px"].join(";"),f.className="gantt_link_line_"+e.direction,l.appendChild(f),l},_get_line:function(e,t){var n=this.get_direction(e,t),a={x:e.x,y:e.y,direction:this.get_direction(e,t)};return n==this.dirs.left||n==this.dirs.right?a.size=Math.abs(e.x-t.x):a.size=Math.abs(e.y-t.y),a},get_direction:function(e,t){return t.x<e.x?this.dirs.left:t.x>e.x?this.dirs.right:t.y>e.y?this.dirs.down:this.dirs.up}},i={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(e){return e?(this.path.push(s.copy(e)),e):this.current()},point_to:function(e,t,n){n=n?{x:n.x,y:n.y}:s.copy(this.point());var a=c.dirs;switch(e){case a.left:n.x-=t;break;case a.right:n.x+=t;break;case a.up:n.y-=t;break;case a.down:n.y+=t}return this.point(n)},get_points:function(e,t,n,a){var r=this.get_endpoint(e,t,n,a),l=s.config,d=r.e_y-r.y,f=r.e_x-r.x,g=c.dirs,p=t.getItemHeight(e.source);this.clear(),this.point({x:r.x,y:r.y});var v=2*l.link_arrow_size,y=this.get_line_type(e,t.$getConfig()),m=r.e_x>r.x;if(y.from_start&&y.to_start)this.point_to(g.left,v),m?(this.point_to(g.down,d),this.point_to(g.right,f)):(this.point_to(g.right,f),this.point_to(g.down,d)),this.point_to(g.right,v);else if(!y.from_start&&y.to_start)if(m=r.e_x>r.x+2*v,this.point_to(g.right,v),m)f-=v,this.point_to(g.down,d),this.point_to(g.right,f);else{f-=2*v;var b=d>0?1:-1;this.point_to(g.down,b*(p/2)),this.point_to(g.right,f),this.point_to(g.down,b*(Math.abs(d)-p/2)),this.point_to(g.right,v)}else y.from_start||y.to_start?y.from_start&&!y.to_start&&(m=r.e_x>r.x-2*v,this.point_to(g.left,v),m?(f+=2*v,b=d>0?1:-1,this.point_to(g.down,b*(p/2)),this.point_to(g.right,f),this.point_to(g.down,b*(Math.abs(d)-p/2)),this.point_to(g.left,v)):(f+=v,this.point_to(g.down,d),this.point_to(g.right,f))):(this.point_to(g.right,v),m?(this.point_to(g.right,f),this.point_to(g.down,d)):(this.point_to(g.down,d),this.point_to(g.right,f)),this.point_to(g.left,v));return this.path},get_line_type:function(e,t){var n=t.links,a=!1,r=!1;return e.type==n.start_to_start?a=r=!0:e.type==n.finish_to_finish?a=r=!1:e.type==n.finish_to_start?(a=!1,r=!0):e.type==n.start_to_finish?(a=!0,r=!1):s.assert(!1,"Invalid link type"),t.rtl&&(a=!a,r=!r),{from_start:a,to_start:r}},get_endpoint:function(e,t,n,a){var r=t.$getConfig(),l=this.get_line_type(e,r),d=l.from_start,f=l.to_start,g=o(n,t,r),p=o(a,t,r);return{x:d?g.left:g.left+g.width,e_x:f?p.left:p.left+p.width,y:g.top+g.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function o(e,t,n){var a=t.getItemPosition(e);if(s.getTaskType(e.type)==n.types.milestone){var r=t.getBarHeight(e.id,!0),l=Math.sqrt(2*r*r);a.left-=l/2,a.width=l}return a}return{render:function(e,t,n){var a=s.getTask(e.source);if(!a.hide_bar){var r=s.getTask(e.target);if(!r.hide_bar){var l=i.get_endpoint(e,t,a,r),d=l.e_y-l.y;if(!(l.e_x-l.x||d))return null;var f=i.get_points(e,t,a,r),g=c.get_lines(f,t),p=document.createElement("div"),v="gantt_task_link";e.color&&(v+=" gantt_link_inline_color");var y=s.templates.link_class?s.templates.link_class(e):"";y&&(v+=" "+y),n.highlight_critical_path&&s.isCriticalLink&&s.isCriticalLink(e)&&(v+=" gantt_critical_link"),p.className=v,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,e.id),p.setAttribute("link_id",e.id));for(var m=0;m<g.length;m++){m==g.length-1&&(g[m].size-=n.link_arrow_size);var b=c.render_line(g[m],g[m+1],t,e.source);e.color&&(b.firstChild.style.backgroundColor=e.color),p.appendChild(b)}var k=g[g.length-1].direction,C=function(w,T,E,P){var j=E.$getConfig(),N=document.createElement("div"),L=w.y,B=w.x,I=j.link_arrow_size,V="gantt_link_arrow gantt_link_arrow_"+T;switch(T){case c.dirs.right:L-=I/2,B-=I;break;case c.dirs.left:L-=I/2;break;case c.dirs.up:B-=I;break;case c.dirs.down:L+=2*I,B-=I}return N.style.cssText=["top:"+L+"px","left:"+B+"px"].join(";"),N.className=V,N}(f[f.length-1],k,t,e.source);return e.color&&(C.style.borderColor=e.color),p.appendChild(C),s._waiAria.linkAttr(e,p),p}}},update:null,isInViewPort:_,getVisibleRange:u()}}},function(S,x){S.exports=function(h,_){var u=_.config.timeline_placeholder;if(h=h||[],u&&h.filter(function(t){return t.id==="timeline_placeholder_task"}).length===0){var s=_.getState(),c=null,i=s.min_date,o=s.max_date;h.length&&(c=h[h.length-1].id);var e={start_date:i,end_date:o,row_height:u.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:c,calendar_id:u.calendar||"global",$source:[],$target:[]};h.push(e)}}},function(S,x,h){var _=h(29),u=h(20),s=h(6),c=h(28),i=h(27),o=h(122);S.exports=function(e){var t={},n={};function a(g,p){return!(!t[g.id][p]||!t[g.id][p].parentNode)}function r(g,p){t[g]&&t[g][p]&&t[g][p].parentNode&&t[g][p].parentNode.removeChild(t[g][p])}function l(g){var p,v=g.$getTemplates();return v.task_cell_class!==void 0?(p=v.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=v.timeline_cell_class,p}function d(g){return g.$getTemplates().timeline_cell_content}function f(g,p,v,y,m,b,k,C){var w=g.width[p],T="";if(i(p,g,y,e)){var E=b(v,g.trace_x[p]),P="";if(k&&(P=k(v,g.trace_x[p])),C.static_background){var j=!(!E&&!P);if(!C.static_background_cells||!j)return null}if(t[v.id][p])return n[v.id][p]=p,t[v.id][p];var N=document.createElement("div");return N.style.width=w+"px",T="gantt_task_cell"+(p==m-1?" gantt_last_cell":""),E&&(T+=" "+E),N.className=T,P&&(N.innerHTML=P),N.style.position="absolute",N.style.left=g.left[p]+"px",t[v.id][p]=N,n[v.id][p]=p,N}return null}return{render:function(g,p,v,y){var m=p.$getTemplates(),b=p.getScale(),k=b.count;if(v.static_background&&!v.static_background_cells)return null;var C,w=document.createElement("div"),T=l(p),E=d(p);if(C=y&&v.smart_rendering&&!u(e)?c(b,y.x):{start:0,end:k-1},v.show_task_cells){t[g.id]={},n[g.id]={};for(var P=C.start;P<=C.end;P++){var j=f(b,P,g,y,k,T,E,v);j&&w.appendChild(j)}}var N=p.$config.rowStore,L=N.getIndexById(g.id)%2!=0,B=m.task_row_class(g.start_date,g.end_date,g),I="gantt_task_row"+(L?" odd":"")+(B?" "+B:"");if(N.isSelected(g.id)&&(I+=" gantt_selected"),w.className=I,v.smart_rendering?(w.style.position="absolute",w.style.top=p.getItemTop(g.id)+"px",w.style.width="100%"):w.style.position="relative",w.style.height=p.getItemHeight(g.id)+"px",g.id=="timeline_placeholder_task"){var V=0;g.lastTaskId&&(V=p.getItemTop(g.lastTaskId)+p.getItemHeight(g.lastTaskId));var Y=(g.row_height||p.$task_data.offsetHeight)-V;Y<0&&(Y=0),v.smart_rendering&&(w.style.top=V+"px"),w.style.height=Y+"px"}return p.$config.item_attribute&&(w.setAttribute(p.$config.item_attribute,g.id),w.setAttribute(p.$config.bind+"_id",g.id)),w},update:function(g,p,v,y,m){var b=v.getScale(),k=b.count,C=l(v),w=d(v);if(y.show_task_cells){t[g.id]||(t[g.id]={}),n[g.id]||(n[g.id]={});var T=c(b,m);for(var E in n[g.id]){var P=n[g.id][E];(Number(P)<T.start||Number(P)>T.end)&&r(g.id,P)}n[g.id]={};for(var j=T.start;j<=T.end;j++){var N=f(b,j,g,m,k,C,w,y);!N&&a(g,j)?r(g.id,j):N&&!N.parentNode&&p.appendChild(N)}}},getRectangle:_,getVisibleRange:s,prepareData:o}}},function(S,x,h){var _=h(30),u=h(19),s=h(6);S.exports=function(c){var i=_(c),o={};function e(a,r,l,d,f){var g=!0;return d.smart_rendering&&(g=u(a,r,l,d,f)),g}function t(a,r,l,d){var f=c.copy(c.getTask(r.id));if(f.$rendered_at=a.id,c.callEvent("onBeforeRollupTaskDisplay",[f.id,f,a.id])!==!1){var g=i(f,l);if(g){var p=l.getBarHeight(a.id,r.type==c.config.types.milestone),v=Math.floor((l.getItemHeight(a.id)-p)/2);return g.style.top=d.top+v+"px",g.classList.add("gantt_rollup_child"),g.setAttribute("data-rollup-parent-id",a.id),g}}}function n(a,r){return a+"_"+r}return{render:function(a,r,l,d){if(a.rollup!==!1&&a.$rollup&&a.$rollup.length){var f=document.createElement("div"),g=c.getTaskPosition(a);return d.y=0,d.y_end=c.$task_bg.scrollHeight,a.$rollup.forEach(function(p){if(c.isTaskExists(p)){var v=c.getTask(p);if(e(v,d,r,l,c)){var y=t(a,v,r,g);y?(o[n(v.id,a.id)]=y,f.appendChild(y)):o[n(v.id,a.id)]=!1}}}),f}return!1},update:function(a,r,l,d,f){var g=document.createElement("div"),p=c.getTaskPosition(a);f.y=0,f.y_end=c.$task_bg.scrollHeight,a.$rollup.forEach(function(v){var y=c.getTask(v),m=n(y.id,a.id),b=e(y,f,l,d,c);if(b!==!!o[m])if(b){var k=t(a,y,l,p);o[m]=k||!1}else o[m]=!1;o[m]&&g.appendChild(o[m]),r.innerHTML="",r.appendChild(g)})},isInViewPort:u,getVisibleRange:s}}},function(S,x,h){var _=h(19);S.exports=function(u,s,c,i,o){if(!o.isSplitTask(u))return!1;var e=o.getSubtaskDates(u.id);return _({id:u.id,start_date:e.start_date,end_date:e.end_date,parent:u.parent},s,c,o)}},function(S,x,h){var _=h(30),u=h(6),s=h(125),c=h(19);S.exports=function(i){var o=_(i),e={};function t(l,d,f,g,p){var v=!l.hide_bar;return g.smart_rendering&&v&&(v=c(l,d,f,g,p)),v}function n(l,d,f,g){if(!d.hide_bar){var p=i.isSummaryTask(d);p&&i.resetProjectDates(d);var v=i.copy(i.getTask(d.id));if(v.$rendered_at=l.id,i.callEvent("onBeforeSplitTaskDisplay",[v.id,v,l.id])!==!1){var y=o(v,f);if(y){var m=f.getBarHeight(l.id,d.type==i.config.types.milestone),b=Math.floor((f.getItemHeight(l.id)-m)/2);return y.style.top=g.top+b+"px",y.classList.add("gantt_split_child"),p&&y.classList.add("gantt_split_subproject"),y}}}}function a(l,d){return l+"_"+d}function r(l,d){return i.isSplitTask(l)&&(d.open_split_tasks&&!l.$open||!d.open_split_tasks)&&i.hasChild(l.id)}return{render:function(l,d,f,g){if(r(l,f)){var p=document.createElement("div"),v=i.getTaskPosition(l);return i.hasChild(l.id)&&i.eachTask(function(y){if(t(y,g,d,f,i)){var m=n(l,y,d,v);m?(e[a(y.id,l.id)]=m,p.appendChild(m)):e[a(y.id,l.id)]=!1}},l.id),p}return!1},update:function(l,d,f,g,p){if(r(l,g)){var v=document.createElement("div"),y=i.getTaskPosition(l);i.eachTask(function(m){var b=a(m.id,l.id),k=t(m,p,f,g,i);if(k!==!!e[b])if(k){var C=n(l,m,f,y);e[b]=C||!1}else e[b]=!1;e[b]&&v.appendChild(e[b]),d.innerHTML="",d.appendChild(v)},l.id)}},isInViewPort:s,getVisibleRange:u}}},function(S,x,h){var _=h(19),u=h(6),s=h(30);S.exports=function(c){return{render:s(c),update:null,isInViewPort:_,getVisibleRange:u}}},function(S,x){S.exports=function(h){return function(u,s,c){c=="keepDates"?function(i,o){o=="duration"?i.end_date=h.calculateEndDate(i):o!="end_date"&&o!="start_date"||(i.duration=h.calculateDuration(i))}(u,s):c=="keepDuration"?function(i,o){o=="end_date"?i.start_date=_(i):o!="start_date"&&o!="duration"||(i.end_date=h.calculateEndDate(i))}(u,s):function(i,o){h.config.schedule_from_end?o=="end_date"||o=="duration"?i.start_date=_(i):o=="start_date"&&(i.duration=h.calculateDuration(i)):o=="start_date"||o=="duration"?i.end_date=h.calculateEndDate(i):o=="end_date"&&(i.duration=h.calculateDuration(i))}(u,s)};function _(u){return h.calculateEndDate({start_date:u.end_date,duration:-u.duration,task:u})}}},function(S,x,h){S.exports=function(_){var u=h(11)(_),s=h(0);function c(){return u.apply(this,arguments)||this}function i(o){return o.formatter||_.ext.formatters.durationFormatter()}return h(3)(c,u),s.mixin(c.prototype,{show:function(o,e,t,n){var a="<div><input type='text' name='"+e.name+"'></div>";n.innerHTML=a},set_value:function(o,e,t,n){this.get_input(n).value=i(t.editor).format(o)},get_value:function(o,e,t){return i(e.editor).parse(this.get_input(t).value||"")}},!0),c}},function(S,x,h){S.exports=function(_){var u=h(11)(_),s=h(0);function c(){return u.apply(this,arguments)||this}function i(a){return a.formatter||_.ext.formatters.linkFormatter()}function o(a,r){for(var l=(a||"").split(r.delimiter||","),d=0;d<l.length;d++){var f=l[d].trim();f?l[d]=f:(l.splice(d,1),d--)}return l.sort(),l}function e(a,r,l){for(var d=a.$target,f=[],g=0;g<d.length;g++){var p=l.getLink(d[g]);f.push(i(r).format(p))}return f.join((r.delimiter||",")+" ")}function t(a){return a.source+"_"+a.target+"_"+a.type+"_"+(a.lag||0)}function n(a,r,l){var d=function(y,m,b){var k=[];return m.forEach(function(C){var w=i(b).parse(C);w&&(w.target=y,w.id="predecessor_generated",_.isLinkAllowed(w)&&(w.id=void 0,k.push(w)))}),k}(a.id,r,l),f={};a.$target.forEach(function(y){var m=_.getLink(y);f[t(m)]=m.id});var g=[];d.forEach(function(y){var m=t(y);f[m]?delete f[m]:g.push(y)});var p=[];for(var v in f)p.push(f[v]);return{add:g,remove:p}}return h(3)(c,u),s.mixin(c.prototype,{show:function(a,r,l,d){var f="<div><input type='text' name='"+r.name+"'></div>";d.innerHTML=f},hide:function(){},set_value:function(a,r,l,d){this.get_input(d).value=e(a,l.editor,_)},get_value:function(a,r,l){return o(this.get_input(l).value||"",r.editor)},save:function(a,r,l){var d=n(_.getTask(a),this.get_value(a,r,l),r.editor);(d.add.length||d.remove.length)&&_.batchUpdate(function(){d.add.forEach(function(f){_.addLink(f)}),d.remove.forEach(function(f){_.deleteLink(f)}),_.autoSchedule&&_.autoSchedule()})},is_changed:function(a,r,l,d){var f=this.get_value(r,l,d),g=o(e(a,l.editor,_),l.editor);return f.join()!==g.join()}},!0),c}},function(S,x,h){S.exports=function(_){var u=h(11)(_),s=h(0),c="%Y-%m-%d",i=null,o=null;function e(){return u.apply(this,arguments)||this}return h(3)(e,u),s.mixin(e.prototype,{show:function(t,n,a,r){i||(i=_.date.date_to_str(c)),o||(o=_.date.str_to_date(c));var l=null,d=null;l=typeof a.min=="function"?a.min(t,n):a.min,d=typeof a.max=="function"?a.max(t,n):a.max;var f="<div style='width:140px'><input type='date' "+(l?" min='"+i(l)+"' ":"")+(d?" max='"+i(d)+"' ":"")+" name='"+n.name+"'></div>";r.innerHTML=f},set_value:function(t,n,a,r){t&&t.getFullYear?this.get_input(r).value=i(t):this.get_input(r).value=t},is_valid:function(t,n,a,r){return!(!t||isNaN(t.getTime()))},get_value:function(t,n,a){var r;try{r=o(this.get_input(a).value||"")}catch{r=null}return r}},!0),e}},function(S,x,h){S.exports=function(_){var u=h(11)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,o,e,t){for(var n="<div><select name='"+o.name+"'>",a=[],r=e.options||[],l=0;l<r.length;l++)a.push("<option value='"+e.options[l].key+"'>"+r[l].label+"</option>");n+=a.join("")+"</select></div>",t.innerHTML=n},get_input:function(i){return i.querySelector("select")}},!0),c}},function(S,x,h){S.exports=function(_){var u=h(11)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,o,e,t){var n="<div><input type='number' min='"+(e.min||0)+"' max='"+(e.max||100)+"' name='"+o.name+"'></div>";t.innerHTML=n},get_value:function(i,o,e){return this.get_input(e).value||""},is_valid:function(i,o,e,t){return!isNaN(parseInt(i,10))}},!0),c}},function(S,x,h){S.exports=function(_){var u=h(11)(_),s=h(0);function c(){return u.apply(this,arguments)||this}return h(3)(c,u),s.mixin(c.prototype,{show:function(i,o,e,t){var n="<div><input type='text' name='"+o.name+"'></div>";t.innerHTML=n}},!0),c}},function(S,x){S.exports={init:function(h,_){var u=h,s=_.$gantt,c=null,i=s.ext.keyboardNavigation;i.attachEvent("onBeforeFocus",function(o){var e=h.locateCell(o);if(clearTimeout(c),e){var t=e.columnName,n=e.id,a=u.getState();if(u.isVisible()&&a.id==n&&a.columnName===t)return!1}return!0}),i.attachEvent("onFocus",function(o){var e=h.locateCell(o),t=h.getState();return clearTimeout(c),!e||e.id==t.id&&e.columnName==t.columnName||u.isVisible()&&u.save(),!0}),h.attachEvent("onHide",function(){clearTimeout(c)}),i.attachEvent("onBlur",function(){return c=setTimeout(function(){u.save()}),!0}),s.attachEvent("onTaskDblClick",function(o,e){var t=h.getState(),n=h.locateCell(e.target);return!n||!h.isVisible()||n.columnName!=t.columnName}),s.attachEvent("onTaskClick",function(o,e){if(s._is_icon_open_click(e))return!0;var t=h.getState(),n=h.locateCell(e.target);return!n||!h.getEditorConfig(n.columnName)||(h.isVisible()&&t.id==n.id&&t.columnName==n.columnName||h.startEdit(n.id,n.columnName),!1)}),s.attachEvent("onEmptyClick",function(){return u.save(),!0}),i.attachEvent("onKeyDown",function(o,e){var t=h.locateCell(e.target),n=!!t&&h.getEditorConfig(t.columnName),a=h.getState(),r=s.constants.KEY_CODES,l=e.keyCode,d=!1;switch(l){case r.ENTER:h.isVisible()?(h.save(),e.preventDefault(),d=!0):n&&!(e.ctrlKey||e.metaKey||e.shiftKey)&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case r.ESC:h.isVisible()&&(h.hide(),e.preventDefault(),d=!0);break;case r.UP:case r.DOWN:break;case r.LEFT:case r.RIGHT:(n&&h.isVisible()||a.editorType==="date")&&(d=!0);break;case r.SPACE:h.isVisible()&&(d=!0),n&&!h.isVisible()&&(u.startEdit(t.id,t.columnName),e.preventDefault(),d=!0);break;case r.DELETE:n&&!h.isVisible()?(u.startEdit(t.id,t.columnName),d=!0):n&&h.isVisible()&&(d=!0);break;case r.TAB:if(h.isVisible()){e.shiftKey?h.editPrevCell(!0):h.editNextCell(!0);var f=h.getState();f.id&&i.focus({type:"taskCell",id:f.id,column:f.columnName}),e.preventDefault(),d=!0}break;default:if(h.isVisible())d=!0;else if(l>=48&&l<=57||l>95&&l<112||l>=64&&l<=91||l>185&&l<193||l>218&&l<223){var g=o.modifiers,p=g.alt||g.ctrl||g.meta||g.shift;g.alt||p&&i.getCommandHandler(o,"taskCell")||n&&!h.isVisible()&&(u.startEdit(t.id,t.columnName),d=!0)}}return!d})},onShow:function(h,_,u){},onHide:function(h,_,u){u.$gantt.focus()},destroy:function(){}}},function(S,x){S.exports={init:function(h,_){var u=_.$gantt;u.attachEvent("onTaskClick",function(s,c){if(u._is_icon_open_click(c))return!0;var i=h.getState(),o=h.locateCell(c.target);return!o||!h.getEditorConfig(o.columnName)||(h.isVisible()&&i.id==o.id&&i.columnName==o.columnName||h.startEdit(o.id,o.columnName),!1)}),u.attachEvent("onEmptyClick",function(){return h.isVisible()&&h.isChanged()?h.save():h.hide(),!0}),u.attachEvent("onTaskDblClick",function(s,c){var i=h.getState(),o=h.locateCell(c.target);return!o||!h.isVisible()||o.columnName!=i.columnName})},onShow:function(h,_,u){var s=u.$gantt;s.ext&&s.ext.keyboardNavigation&&s.ext.keyboardNavigation.attachEvent("onKeyDown",function(c,i){var o=s.constants.KEY_CODES,e=!1;switch(i.keyCode){case o.SPACE:h.isVisible()&&(e=!0)}return!e}),_.onkeydown=function(c){c=c||window.event;var i=s.constants.KEY_CODES;if(!(c.defaultPrevented||c.shiftKey&&c.keyCode!=i.TAB)){var o=!0;switch(c.keyCode){case s.keys.edit_save:h.save();break;case s.keys.edit_cancel:h.hide();break;case i.UP:case i.DOWN:h.isVisible()&&(h.hide(),o=!1);break;case i.TAB:c.shiftKey?h.editPrevCell(!0):h.editNextCell(!0);break;default:o=!1}o&&c.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(S,x,h){var _=h(136),u=h(135);S.exports=function(s){var c=null;return{setMapping:function(i){c=i},getMapping:function(){return c||(s.config.keyboard_navigation_cells&&s.ext.keyboardNavigation?u:_)}}}},function(S,x,h){var _=h(137),u=h(134),s=h(133),c=h(132),i=h(131),o=h(130),e=h(129),t=h(0),n=h(1),a=h(5),r=h(128);function l(d){d.config.editor_types={text:new(u(d)),number:new(s(d)),select:new(c(d)),date:new(i(d)),predecessor:new(o(d)),duration:new(e(d))}}S.exports=function(d){var f=_(d),g={};a(g);var p={init:l,createEditors:function(v){function y(T,E){var P=v.$getConfig(),j=function(B,I){for(var V=v.$getConfig(),Y=v.getItemTop(B),H=v.getItemHeight(B),F=v.getGridColumns(),G=0,R=0,K=0,Q=0;Q<F.length;Q++){if(F[Q].name==I){K=F[Q].width;break}V.rtl?R+=F[Q].width:G+=F[Q].width}return V.rtl?{top:Y,right:R,height:H,width:K}:{top:Y,left:G,height:H,width:K}}(T,E),N=document.createElement("div");N.className="gantt_grid_editor_placeholder",N.setAttribute(v.$config.item_attribute,T),N.setAttribute(v.$config.bind+"_id",T),N.setAttribute("data-column-name",E);var L=function(B,I){for(var V=B.getGridColumns(),Y=0;Y<V.length;Y++)if(V[Y].name==I)return Y;return 0}(v,E);return N.setAttribute("data-column-index",L),P.rtl?N.style.cssText=["top:"+j.top+"px","right:"+j.right+"px","width:"+j.width+"px","height:"+j.height+"px"].join(";"):N.style.cssText=["top:"+j.top+"px","left:"+j.left+"px","width:"+j.width+"px","height:"+j.height+"px"].join(";"),N}var m=r(d),b=[],k=[],C=null,w={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function(T){if(!n.isChildOf(T,v.$grid))return null;var E=n.locateAttribute(T,v.$config.item_attribute),P=n.locateAttribute(T,"data-column-name");if(E&&P){var j=P.getAttribute("data-column-name");return{id:E.getAttribute(v.$config.item_attribute),columnName:j}}return null},getEditorConfig:function(T){return v.getColumn(T).editor},init:function(){var T=f.getMapping();T.init&&T.init(this,v),C=v.$gantt.getDatastore(v.$config.bind);var E=this;b.push(C.attachEvent("onIdChange",function(P,j){E._itemId==P&&(E._itemId=j)})),b.push(C.attachEvent("onStoreUpdated",function(){v.$gantt.getState("batchUpdate").batch_update||E.isVisible()&&!C.isVisible(E._itemId)&&E.hide()})),k.push(d.attachEvent("onDataRender",function(){E._editor&&E._placeholder&&!n.isChildOf(E._placeholder,d.$root)&&v.$grid_data.appendChild(E._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function(T,E){if(this.isVisible()&&this.save(),C.exists(T)){var P={id:T,columnName:E};d.isReadonly(C.getItem(T))?this.callEvent("onEditPrevent",[P]):this.callEvent("onBeforeEditStart",[P])!==!1?(this.show(P.id,P.columnName),this.setValue(),this.callEvent("onEditStart",[P])):this.callEvent("onEditPrevent",[P])}},isVisible:function(){return!(!this._editor||!n.isChildOf(this._placeholder,d.$root))},show:function(T,E){this.isVisible()&&this.save();var P={id:T,columnName:E},j=v.getColumn(P.columnName),N=this.getEditorConfig(j.name);if(N){var L=v.$getConfig().editor_types[N.type],B=y(P.id,P.columnName);v.$grid_data.appendChild(B),L.show(P.id,j,N,B),this._editor=L,this._placeholder=B,this._itemId=P.id,this._columnName=P.columnName,this._editorType=N.type;var I=f.getMapping();I.onShow&&I.onShow(this,B,v)}},setValue:function(){var T=this.getState(),E=T.id,P=T.columnName,j=v.getColumn(P),N=C.getItem(E),L=this.getEditorConfig(P);if(L){var B=N[L.map_to];L.map_to=="auto"&&(B=C.getItem(E)),this._editor.set_value(B,E,j,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var T=v.getColumn(this._columnName);return this._editor.get_value(this._itemId,T,this._placeholder)},_getItemValue:function(){var T=this.getEditorConfig(this._columnName);if(T){var E=d.getTask(this._itemId)[T.map_to];return T.map_to=="auto"&&(E=C.getItem(this._itemId)),E}},isChanged:function(){var T=v.getColumn(this._columnName),E=this._getItemValue();return this._editor.is_changed(E,this._itemId,T,this._placeholder)},hide:function(){if(this._itemId){var T=this._itemId,E=this._columnName,P=f.getMapping();P.onHide&&P.onHide(this,this._placeholder,v),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:T,columnName:E}]))}},save:function(){if(this.isVisible()&&C.exists(this._itemId)&&this.isChanged()){var T=this._itemId,E=this._columnName;if(C.exists(T)){var P=C.getItem(T),j=this.getEditorConfig(E),N={id:T,columnName:E,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[N])!==!1&&(!this._editor.is_valid||this._editor.is_valid(N.newValue,N.id,v.getColumn(E),this._placeholder))){var L=j.map_to,B=N.newValue;L!="auto"?(P[L]=B,m(P,L,d.config.inline_editors_date_processing),C.updateItem(T)):this._editor.save(T,v.getColumn(E),this._placeholder),this.callEvent("onSave",[N])}this.hide()}}else this.hide()},_findEditableCell:function(T,E){var P=T,j=v.getGridColumns()[P],N=j?j.name:null;if(N){for(;N&&!this.getEditorConfig(N);)N=this._findEditableCell(T+E,E);return N}return null},getNextCell:function(T){return this._findEditableCell(v.getColumnIndex(this._columnName,!0)+T,T)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(v.getGridColumns().length-1,-1)},editNextCell:function(T){var E=this.getNextCell(1);if(E){var P=this.getNextCell(1);P&&this.getEditorConfig(P)&&this.startEdit(this._itemId,P)}else if(T&&this.moveRow(1)){var j=this.moveRow(1);(E=this.getFirstCell())&&this.getEditorConfig(E)&&this.startEdit(j,E)}},editPrevCell:function(T){var E=this.getNextCell(-1);if(E){var P=this.getNextCell(-1);P&&this.getEditorConfig(P)&&this.startEdit(this._itemId,P)}else if(T&&this.moveRow(-1)){var j=this.moveRow(-1);(E=this.getLastCell())&&this.getEditorConfig(E)&&this.startEdit(j,E)}},moveRow:function(T){for(var E=T>0?d.getNext:d.getPrev,P=(E=d.bind(E,d))(this._itemId);d.isTaskExists(P)&&d.isReadonly(d.getTask(P));)P=E(P);return P},editNextRow:function(T){var E=this.getState().id;if(d.isTaskExists(E)){var P=null;P=T?this.moveRow(1):d.getNext(E),d.isTaskExists(P)&&this.startEdit(P,this._columnName)}},editPrevRow:function(T){var E=this.getState().id;if(d.isTaskExists(E)){var P=null;P=T?this.moveRow(-1):d.getPrev(E),d.isTaskExists(P)&&this.startEdit(P,this._columnName)}},destructor:function(){b.forEach(function(T){C.detachEvent(T)}),k.forEach(function(T){d.detachEvent(T)}),b=[],k=[],C=null,this.hide(),this.detachAllEvents()}};return t.mixin(w,f),t.mixin(w,g),w}};return t.mixin(p,f),t.mixin(p,g),p}},function(S,x,h){var _=h(0),u=h(40),s=h(31),c=h(3),i=function(o){function e(t,n,a,r){var l=o.apply(this,arguments)||this;return l.$config.bindLinks=null,l}return c(e,o),_.mixin(e.prototype,{_createLayerConfig:function(){var t=this,n=function(){return t.isVisible()};return{tasks:[{renderer:this.$gantt.$ui.layers.resourceHistogram(),container:this.$task_bars,filter:[n]},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[n]}],links:[]}}},!0),_.mixin(e.prototype,s(o),!0),e}(u);S.exports=i},function(S,x,h){var _=h(1),u=h(0),s=h(31),c=h(34),i=h(3),o=function(e){function t(n,a,r,l){return e.apply(this,arguments)||this}return i(t,e),u.mixin(t.prototype,{init:function(){this.$config.bind===void 0&&(this.$config.bind=this.$getConfig().resource_store),e.prototype.init.apply(this,arguments)},_initEvents:function(){var n=this.$gantt;e.prototype._initEvents.apply(this,arguments),this._mouseDelegates.delegate("click","gantt_row",n.bind(function(a,r,l){var d=this.$config.rowStore;if(!d)return!0;var f=_.locateAttribute(a,this.$config.item_attribute);return f&&d.select(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)}},!0),u.mixin(t.prototype,s(t),!0),t}(c);S.exports=o},function(S,x,h){var _=h(0),u=h(8),s=function(c,i){var o={},e="gantt-static-bg-styles-"+c.uid();function t(g){var p=/^rgba?\(([\d]{1,3}), *([\d]{1,3}), *([\d]{1,3}) *(,( *[\d.]+ *))?\)$/i.exec(g);return p?{r:1*p[1],g:1*p[2],b:1*p[3],a:255*p[5]||255}:null}function n(g){return o[g]||null}function a(g,p,v){return(g+""+p+v.bottomBorderColor+v.rightBorderColor).replace(/[^\w\d]/g,"")}function r(g,p){o[g]=p}function l(g,p,v){var y=Math.floor(500/g)||1,m=Math.floor(500/p)||1,b=document.createElement("canvas");b.height=p*m,b.width=g*y;var k=b.getContext("2d");return function(w,T,E,P,j,N){var L=j.createImageData(T*P,w*E);L.imageSmoothingEnabled=!1;for(var B=1*N.rightBorderWidth,I=t(N.rightBorderColor),V=0,Y=0,H=0,F=1;F<=P;F++)for(V=F*T-1,H=0;H<B;H++)for(Y=0;Y<w*E;Y++)C(V-H,Y,I,L);var G=1*N.bottomBorderWidth,R=t(N.bottomBorderColor);Y=0;for(var K=1;K<=E;K++)for(Y=K*w-1,H=0;H<G;H++)for(V=0;V<T*P;V++)C(V,Y-H,R,L);j.putImageData(L,0,0)}(p,g,m,y,k,v),b.toDataURL();function C(w,T,E,P){var j=4*(T*(g*y)+w);P.data[j]=E.r,P.data[j+1]=E.g,P.data[j+2]=E.b,P.data[j+3]=E.a}}function d(g){return"gantt-static-bg-"+g}function f(){var g=document.createElement("div");g.className="gantt_task_cell";var p=document.createElement("div");return p.className="gantt_task_row",p.appendChild(g),p}return{render:function(g,p,v,y,m){if((p.static_background||p.timeline_placeholder)&&document.createElement("canvas").getContext){g.innerHTML="";var b=function(C,w,T,E){var P,j,N=[],L=0,B=T.width.filter(function(O){return!!O}),I=0,V=1e5;if(i.isIE){var Y=navigator.appVersion||"";Y.indexOf("Windows NT 6.2")==-1&&Y.indexOf("Windows NT 6.1")==-1&&Y.indexOf("Windows NT 6.0")==-1||(V=2e4)}for(var H=0;H<B.length;H++){var F=B[H];if(F!=j&&j!==void 0||H==B.length-1||L>V){for(var G=E,R=0,K=Math.floor(V/w.row_height)*w.row_height,Q=L;G>0;){var W=Math.min(G,K);G-=K,(P=document.createElement("div")).style.height=W+"px",P.style.position="absolute",P.style.top=R+"px",P.style.left=I+"px",P.style.pointerEvents="none",P.style.whiteSpace="no-wrap",P.className=C[j||F],H==B.length-1&&(Q=F+Q-1),P.style.width=Q+"px",N.push(P),R+=W}L=0,I+=Q}F&&(L+=F,j=F)}return N}(function(C,w,T,E){var P={},j=function(G){for(var R=G.width,K={},Q=0;Q<R.length;Q++)1*R[Q]&&(K[R[Q]]=!0);return K}(T),N=E,L="";for(var B in j){var I=1*B,V=a(I,N,C),Y=n(V);if(!Y){var H=l(I,N,C);r(V,H),L+="."+d(V)+"{ background-image: url('"+H+"');}"}P[B]=d(V)}if(L){var F=function(){var G=document.getElementById(e);return G||((G=document.createElement("style")).id=e,document.body.appendChild(G)),G}();F.innerHTML+=L}return P}(function(C){var w=f(),T=f();C.appendChild(w),C.appendChild(T);var E=w.firstChild,P=getComputedStyle(w),j=getComputedStyle(E),N={bottomBorderWidth:P.getPropertyValue("border-bottom-width").replace("px",""),rightBorderWidth:j.getPropertyValue("border-right-width").replace("px",""),bottomBorderColor:P.getPropertyValue("border-bottom-color"),rightBorderColor:j.getPropertyValue("border-right-color")};return C.removeChild(w),C.removeChild(T),N}(g),0,v,m),p,v,y),k=document.createDocumentFragment();b.forEach(function(C){k.appendChild(C)}),g.appendChild(k)}},destroy:function(){var g=document.getElementById(e);g&&g.parentNode&&g.parentNode.removeChild(g)}}};S.exports={create:function(){return s(_,u)}}},function(S,x,h){var _=h(3),u=h(1),s=h(0),c=h(8),i=function(o){var e=["altKey","shiftKey","metaKey"];function t(n,a,r,l){var d=o.apply(this,arguments)||this;this.$config=s.mixin(a,{scroll:"x"}),d._scrollHorizontalHandler=s.bind(d._scrollHorizontalHandler,d),d._scrollVerticalHandler=s.bind(d._scrollVerticalHandler,d),d._outerScrollVerticalHandler=s.bind(d._outerScrollVerticalHandler,d),d._outerScrollHorizontalHandler=s.bind(d._outerScrollHorizontalHandler,d),d._mouseWheelHandler=s.bind(d._mouseWheelHandler,d),this.$config.hidden=!0;var f=l.config.scroll_size;return l.env.isIE&&(f+=1),this._isHorizontal()?(d.$config.height=f,d.$parent.$config.height=f):(d.$config.width=f,d.$parent.$config.width=f),this.$config.scrollPosition=0,d.$name="scroller",d}return _(t,o),t.prototype.init=function(n){n.innerHTML=this.$toHTML(),this.$view=n.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var n=this.$parent;n&&n.$parent;)n=n.$parent;if(n)return n},t.prototype._eachView=function(){var n=[];return function a(r,l){if(l.push(r),r.$cells)for(var d=0;d<r.$cells.length;d++)a(r.$cells[d],l)}(this._getRootParent(),n),n},t.prototype._getLinkedViews=function(){for(var n=this._eachView(),a=[],r=0;r<n.length;r++)n[r].$config&&(this._isVertical()&&n[r].$config.scrollY==this.$id||this._isHorizontal()&&n[r].$config.scrollX==this.$id)&&a.push(n[r]);return a},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var n=this._getLinkedViews(),a=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",r=0;r<n.length;r++)u.addClassName(n[r].$view||n[r].getNode(),a)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){c.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=n,this.$config.codeScrollLeft=n,n=this.$scroll_hor.scrollLeft;for(var a=this._getLinkedViews(),r=0;r<a.length;r++)a[r].scrollTo&&a[r].scrollTo(n,void 0);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(n){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=n,n=this.$scroll_ver.scrollTop;for(var a=this._getLinkedViews(),r=0;r<a.length;r++)a[r].scrollTo&&a[r].scrollTo(void 0,n);var l=this.$config.scrollPosition;this.$config.scrollPosition=n,this.callEvent("onScroll",[l,n,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return this.$config.scroll=="y"},t.prototype._isHorizontal=function(){return this.$config.scroll=="x"},t.prototype._scrollHorizontalHandler=function(n){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var a=this.$scroll_hor.scrollLeft;this.scrollHorizontally(a),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(n){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var n,a=0,r=0,l=this._isHorizontal(),d=this._getLinkedViews(),f=l?"scrollWidth":"scrollHeight",g=l?"contentX":"contentY",p=l?"x":"y",v=this._getScrollOffset(),y=0;y<d.length;y++)if((n=d[y])&&n.$content&&n.$content.getSize&&!n.$config.hidden){var m,b=n.$content.getSize();if(m=b.hasOwnProperty(f)?b[f]:b[g],v)b[g]>b[p]&&b[g]>a&&m>b[p]-v+2&&(a=m+(l?0:2),r=b[p]);else{var k=Math.max(b[g]-m,0);(m+=k)>Math.max(b[p]-k,0)&&m>a&&(a=m,r=b[p])}}return{outerScroll:r,innerScroll:a}},t.prototype.scroll=function(n){this._isHorizontal()?this.scrollHorizontally(n):this.scrollVertically(n)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(n,a){o.prototype.setSize.apply(this,arguments);var r=this._getScrollSize(),l=(this._isVertical()?a:n)-this._getScrollOffset()+(this._isHorizontal()?1:0);r.innerScroll&&l>r.outerScroll&&(r.innerScroll+=l-r.outerScroll),this.$config.scrollSize=r.innerScroll,this.$config.width=n,this.$config.height=a,this._setScrollSize(r.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var n=this._getScrollSize();return!(!n.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!n.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(n){var a=0;return!n||n.$config.view!="timeline"&&n.$config.view!="grid"||(a=n.$content.$getConfig().scale_height),a},t.prototype._getScrollOffset=function(){var n=0;if(this._isVertical()){var a=this.$parent.$parent;n=Math.max(this._getScaleOffset(a.getPrevSibling(this.$parent.$id)),this._getScaleOffset(a.getNextSibling(this.$parent.$id)))}else for(var r=this._getLinkedViews(),l=0;l<r.length;l++){var d=r[l].$parent.$cells,f=d[d.length-1];if(f&&f.$config.view=="scrollbar"&&f.$config.hidden===!1){n=f.$config.width;break}}return n||0},t.prototype._setScrollSize=function(n){var a=this._isHorizontal()?"width":"height",r=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,l=this._getScrollOffset(),d=r.firstChild;l?this._isVertical()?(this.$config.outerSize=this.$config.height-l+3,r.style.height=this.$config.outerSize+"px",r.style.top=l-1+"px",u.addClassName(r,this.$parent._borders.top),u.addClassName(r.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-l+1,r.style.width=this.$config.outerSize+"px"):(r.style.top="auto",u.removeClassName(r,this.$parent._borders.top),u.removeClassName(r.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),d.style[a]=n+"px"},t.prototype._scrollVerticalHandler=function(n){if(!this._scrollHorizontalHandler()&&!this._scrolling){var a=this.$scroll_ver.scrollTop;a!=this._oldTop&&(this.scrollVertically(a),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(n){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(n){for(var a=this._getLinkedViews().concat(this),r=0;r<a.length;r++){var l=a[r].$view;if(u.isChildOf(n,l))return!0}return!1},t.prototype._mouseWheelHandler=function(n){var a=n.target||n.srcElement;if(this._checkWheelTarget(a)){this._wheel_time=new Date;var r={},l={x:1,y:1},d=this.$gantt.config.wheel_scroll_sensitivity;typeof d=="number"&&d?l={x:d,y:d}:{}.toString.apply(d)=="[object Object]"&&(l={x:d.x,y:d.y});var f=c.isFF,g=f?n.deltaX:n.wheelDeltaX,p=f?n.deltaY:n.wheelDelta,v=-20;f&&(v=n.deltaMode!==0?-40:-10);var y=f?g*v*l.x:2*g*l.x,m=f?p*v*l.y:p*l.y,b=this.$gantt.config.horizontal_scroll_key;if(b!==!1&&e.indexOf(b)>=0&&(!n[b]||n.deltaX||n.wheelDeltaX||(y=2*m,m=0)),y&&Math.abs(y)>Math.abs(m)){if(this._isVertical())return;if(r.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var k=y/-40,C=this._oldLeft,w=C+30*k;if(this.scrollHorizontally(w),this.$scroll_hor.scrollLeft=w,C==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(r.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;k=m/-40,m===void 0&&(k=n.detail);var T=this._oldTop,E=this.$scroll_ver.scrollTop+30*k;if(this.scrollVertically(E),this.$scroll_ver.scrollTop=E,T==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,!1}},t}(h(12));S.exports=i},function(S,x,h){var _=h(3),u=h(1),s=h(0),c=h(12),i=function(o){function e(t,n,a){var r,l,d=o.apply(this,arguments)||this;function f(g){var p=g.pageX,v=g.pageY;return g.touches&&(p=g.touches[0].pageX,v=g.touches[0].pageY),{x:p,y:v}}return d._moveHandler=function(g){d._moveResizer(d._resizer,f(g).x,f(g).y)},d._upHandler=function(g){var p=d._getNewSizes();d.callEvent("onResizeEnd",[r,l,p?p.back:0,p?p.front:0])!==!1&&d._setSizes(),d._setBackground(!1),d._clearResizer(),d._clearListeneres(),g.touches&&(d.$gantt._prevent_touch_scroll=!1)},d._clearListeneres=function(){this.$domEvents.detach(document,"mouseup",d._upHandler),this.$domEvents.detach(document,"mousemove",d._moveHandler),this.$domEvents.detach(document,"mousemove",d._startOnMove),this.$domEvents.detach(document,"mouseup",d._cancelDND),this.$domEvents.detach(document,"touchend",d._upHandler),this.$domEvents.detach(document,"touchmove",d._startOnMove),this.$domEvents.detach(document,"touchstart",d._downHandler)},d._callStartDNDEvent=function(){if(this._xMode?(r=this._behind.$config.width||this._behind.$view.offsetWidth,l=this._front.$config.width||this._front.$view.offsetWidth):(r=this._behind.$config.height||this._behind.$view.offsetHeight,l=this._front.$config.height||this._front.$view.offsetHeight),d.callEvent("onResizeStart",[r,l])===!1)return!1},d._startDND=function(g){if(this._callStartDNDEvent()!==!1){var p=!1;this._eachGroupItem(function(v){v._getSiblings(),v._callStartDNDEvent()===!1&&(p=!0)}),p||(d._moveHandler(g),d.$domEvents.attach(document,"mousemove",d._moveHandler),d.$domEvents.attach(document,"mouseup",d._upHandler))}},d._cancelDND=function(){d._setBackground(!1),d._clearResizer(),d._clearListeneres()},d._startOnMove=function(g){g.touches&&(d.$gantt._prevent_touch_scroll=!0),d._isPosChanged(g)&&(d._clearListeneres(),d._startDND(g))},d._downHandler=function(g){d._getSiblings(),d._behind.$config.collapsed||d._front.$config.collapsed||(d._setBackground(!0),d._resizer=d._setResizer(),d._positions={x:f(g).x,y:f(g).y,timestamp:Date.now()},d.$domEvents.attach(document,"mousemove",d._startOnMove),d.$domEvents.attach(document,"mouseup",d._cancelDND))},d.$name="resizer",d}return _(e,o),e.prototype.init=function(){o.prototype.init.call(this),this._xMode=this.$config.mode==="x",this._xMode&&!this.$config.width?this.$config.width=this.$config.minWidth=1:this._xMode||this.$config.height||(this.$config.height=this.$config.minHeight=1),this.$config.margin=-1,this.$domEvents.attach(this.$view,"mousedown",this._downHandler),this.$domEvents.attach(this.$view,"touchstart",this._downHandler),this.$domEvents.attach(this.$view,"touchmove",this._startOnMove),this.$domEvents.attach(this.$view,"touchend",this._upHandler)},e.prototype.$toHTML=function(){var t=this.$config.mode,n=this.$config.css||"";return"<div class='gantt_layout_cell gantt_resizer gantt_resizer_"+t+"'><div class='gantt_layout_content gantt_resizer_"+t+(n?" "+n:"")+"'></div></div>"},e.prototype._clearResizer=function(){this._resizer&&(this._resizer.parentNode&&this._resizer.parentNode.removeChild(this._resizer),this._resizer=null)},e.prototype._isPosChanged=function(t){return!!this._positions&&(Math.abs(this._positions.x-t.pageX)>3||Math.abs(this._positions.y-t.pageY)>3||Date.now()-this._positions.timestamp>300)},e.prototype._getSiblings=function(){var t=this.$parent.getCells();this.$config.prev&&(this._behind=this.$factory.getView(this.$config.prev),this._behind instanceof c||(this._behind=this._behind.$parent)),this.$config.next&&(this._front=this.$factory.getView(this.$config.next),this._front instanceof c||(this._front=this._behind.$parent));for(var n=0;n<t.length;n++)this===t[n]&&(this._behind||(this._behind=t[n-1]),this._front||(this._front=t[n+1]))},e.prototype._setBackground=function(t){var n="gantt_resizing";if(!t)return u.removeClassName(this._behind.$view,n),u.removeClassName(this._front.$view,n),void u.removeClassName(document.body,"gantt_noselect");u.addClassName(this._behind.$view,n,!0),u.addClassName(this._front.$view,n,!0),u.addClassName(document.body,"gantt_noselect",!0)},e.prototype._setResizer=function(){var t=document.createElement("div");return t.className="gantt_resizer_stick",this.$view.appendChild(t),this.$view.style.overflow="visible",t.style.height=this.$view.style.height,t},e.prototype._getDirection=function(t,n){var a;return(a=this._xMode?t-this._positions.x:n-this._positions.y)?a<0?-1:1:0},e.prototype._getResizePosition=function(t,n){var a,r,l,d,f;this._xMode?(a=t-this._positions.x,r=this._behind.$config.width||this._behind.$view.offsetWidth,d=this._front.$config.width||this._front.$view.offsetWidth,l=this._behind.$config.minWidth,f=this._front.$config.minWidth):(a=n-this._positions.y,r=this._behind.$config.height||this._behind.$view.offsetHeight,d=this._front.$config.height||this._front.$view.offsetHeight,l=this._front.$config.minHeight,f=this._front.$config.minHeight);var g,p,v=this._getDirection(t,n);if(v===-1){if(p=d-a,g=r-Math.abs(a),d-a>this._front.$config.maxWidth)return;Math.abs(a)>=r&&(a=-Math.abs(r-2)),r-Math.abs(a)<=l&&(a=-Math.abs(r-l))}else p=d-Math.abs(a),g=r+a,r+a>this._behind.$config.maxWidth&&(a=this._behind.$config.maxWidth-r),Math.abs(a)>=d&&(a=d-2),d-Math.abs(a)<=f&&(a=Math.abs(d-f));return v===-1?(p=d-a,g=r-Math.abs(a)):(p=d-Math.abs(a),g=r+a),{size:a,newFrontSide:p,newBehindSide:g}},e.prototype._getGroupName=function(){return this._getSiblings(),this._front.$config.group||this._behind.$config.group},e.prototype._eachGroupItem=function(t,n){for(var a=this.$factory.getView("main"),r=this._getGroupName(),l=a.getCellsByType("resizer"),d=0;d<l.length;d++)l[d]._getGroupName()==r&&l[d]!=this&&t.call(n||this,l[d])},e.prototype._getGroupResizePosition=function(t,n){var a=this._getResizePosition(t,n);if(!this._getGroupName())return a;var r,l=[a];this._eachGroupItem(function(f){f._getSiblings();var g=s.copy(this._positions);this._xMode?g.x+=f._behind.$config.width-this._behind.$config.width:g.y+=f._behind.$config.height-this._behind.$config.height,f._positions=g,l.push(f._getResizePosition(t,n))});for(var d=0;d<l.length;d++){if(!l[d])return;(r===void 0||l[d].newBehindSide>r.newBehindSide)&&(r=l[d])}return r},e.prototype._moveResizer=function(t,n,a){if(n!==0){var r=this._getGroupResizePosition(n,a);r&&Math.abs(r.size)!==1&&(this._xMode?(t.style.left=r.size+"px",this._positions.nextX=r.size||0):(t.style.top=r.size+"px",this._positions.nextY=r.size||0),this.callEvent("onResize",[r.newBehindSide,r.newFrontSide]))}},e.prototype._setGravity=function(t){var n=this._xMode?"offsetWidth":"offsetHeight",a=this._xMode?this._positions.nextX:this._positions.nextY,r=this._front.$view[n],l=this._behind.$view[n],d=(r-a)/r*this._front.getSize().gravity,f=(l+a)/l*this._behind.getSize().gravity;t!=="front"&&(this._front.$config.gravity=d),t!=="behind"&&(this._behind.$config.gravity=f)},e.prototype._getNewSizes=function(){var t,n,a;return this._xMode?(t=this._behind.$config.width,n=this._front.$config.width,a=this._positions.nextX):(t=this._behind.$config.height,n=this._front.$config.height,a=this._positions.nextY),n||t?{front:n?n-a||1:0,back:t?t+a||1:0}:null},e.prototype._assignNewSizes=function(t){this._getSiblings();var n=this._xMode?"width":"height";t?(t.front?this._front.$config[n]=t.front:this._setGravity("behind"),t.back?this._behind.$config[n]=t.back:this._setGravity("front")):this._setGravity()},e.prototype._setSizes=function(){this._resizer&&this.$view.removeChild(this._resizer);var t=this._getNewSizes();if(this._positions.nextX||this._positions.nextY){this._assignNewSizes(t);var n,a=this._xMode?"width":"height";t&&t.front||this._front.$config.group&&(n={value:this._front.$config.gravity,isGravity:!0},this.$gantt.$layout._syncCellSizes(this._front.$config.group,n)),t&&t.back||this._behind.$config.group&&(n={value:this._behind.$config.gravity,isGravity:!0},this.$gantt.$layout._syncCellSizes(this._behind.$config.group,n)),t&&(t.front?this._front.$config.group&&(n={value:this._front.$config[a],isGravity:!1},this.$gantt.$layout._syncCellSizes(this._front.$config.group,n)):t.back&&this._behind.$config.group&&(n={value:this._behind.$config[a],isGravity:!1},this.$gantt.$layout._syncCellSizes(this._behind.$config.group,n))),this._getGroupName()?this.$factory.getView("main").resize():this.$parent.resize()}},e}(c);S.exports=i},function(S,x,h){var _=h(3),u=h(0),s=function(c){function i(o,e,t){var n=c.apply(this,arguments)||this;if(e.view){e.id&&(this.$id=u.uid());var a=u.copy(e);if(delete a.config,delete a.templates,this.$content=this.$factory.createView(e.view,this,a,this),!this.$content)return!1}return n.$name="viewCell",n}return _(i,c),i.prototype.destructor=function(){this.clear(),c.prototype.destructor.call(this)},i.prototype.clear=function(){if(this.$initialized=!1,this.$content){var o=this.$content.unload||this.$content.destructor;o&&o.call(this.$content)}c.prototype.clear.call(this)},i.prototype.scrollTo=function(o,e){this.$content&&this.$content.scrollTo?this.$content.scrollTo(o,e):c.prototype.scrollTo.call(this,o,e)},i.prototype._setContentSize=function(o,e){var t=this._getBorderSizes();if(typeof o=="number"){var n=o+t.horizontal;this.$config.width=n}if(typeof e=="number"){var a=e+t.vertical;this.$config.height=a}},i.prototype.setSize=function(o,e){if(c.prototype.setSize.call(this,o,e),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var t=this.$view.childNodes[0],n=this.$view.childNodes[1];n||(n=t),this.$content.init(n)}},i.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},i.prototype.getContentSize=function(){var o=c.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var e=this.$content.getSize();o.width=e.contentX===void 0?e.width:e.contentX,o.height=e.contentY===void 0?e.height:e.contentY}var t=this._getBorderSizes();return o.width+=t.horizontal,o.height+=t.vertical,o},i}(h(12));S.exports=s},function(S,x,h){var _=h(3),u=h(42),s=h(12),c=function(i){function o(e,t,n){for(var a=i.apply(this,arguments)||this,r=0;r<a.$cells.length;r++)a.$cells[r].$config.hidden=r!==0;return a.$cell=a.$cells[0],a.$name="viewLayout",a}return _(o,i),o.prototype.cell=function(e){var t=i.prototype.cell.call(this,e);return t.$view||this.$fill(null,this),t},o.prototype.moveView=function(e){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=e,t.appendChild(e.$view)},o.prototype.setSize=function(e,t){s.prototype.setSize.call(this,e,t)},o.prototype.setContentSize=function(){var e=this.$lastSize;this.$cell.setSize(e.contentX,e.contentY)},o.prototype.getSize=function(){var e=i.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var n=0;n<this.$cells.length;n++){var a=this.$cells[n].getSize();for(var r in t)t[r]=Math.max(t[r],a[r])}for(var l in e)e[l]=e[l]||t[l];e.gravity=Math.max(e.gravity,t.gravity)}return e},o}(u);S.exports=c},function(S,x){S.exports=function(h,_,u){if(!h.start_date||!h.end_date)return null;var s=_.posFromDate(h.start_date),c=_.posFromDate(h.end_date),i=Math.min(s,c)-200,o=Math.max(s,c)+200;return{top:_.getItemTop(h.id),height:_.getItemHeight(h.id),left:i,width:o-i}}},function(S,x,h){var _=h(146);S.exports=function(u,s,c,i){if(!i.isTaskExists(u.source)||!i.isTaskExists(u.target))return null;var o=_(i.getTask(u.source),s,i),e=_(i.getTask(u.target),s,i);if(!o||!e)return null;var t=Math.min(o.left,e.left)-100,n=Math.max(o.left+o.width,e.left+e.width)+100,a=Math.min(o.top,e.top)-100,r=Math.max(o.top+o.height,e.top+e.height)+100;return{top:a,height:r-a,bottom:r,left:t,width:n-t,right:n}}},function(S,x){S.exports=function(h,_){return!!_&&!(_.left>h.x_end||_.left+_.width<h.x)&&!(_.top>h.y_end||_.top+_.height<h.y)}},function(S,x,h){var _=h(148),u=h(20),s=h(32),c=h(6);S.exports=function(i){var o={},e={};function t(a){var r=null;return typeof a.view=="string"?r=i.$ui.getView(a.view):a.view&&(r=a.view),r}function n(a,r,l){if(e[a])return e[a];r.renderer||i.assert(!1,"Invalid renderer call");var d=null,f=null,g=null,p=null,v=null;typeof r.renderer=="function"?(d=r.renderer,g=s):(d=r.renderer.render,f=r.renderer.update,p=r.renderer.onrender,r.renderer.isInViewPort?v=r.renderer.isInViewPort:g=r.renderer.getRectangle,g||g===null||(g=s));var y=r.filter;return l&&l.setAttribute(i.config.layer_attribute,!0),e[a]={render_item:function(m,b,k,C,w){if(b=b||l,!y||y(m)){var T=C||t(r),E=w||(T?T.$getConfig():null),P=k;!P&&E&&E.smart_rendering&&(P=T.getViewPort());var j=null;!u(i)&&(g||v)&&P?(v?v(m,P,T,E,i):_(P,g(m,T,E,i)))&&(j=d.call(i,m,T,E,P)):j=d.call(i,m,T,E,P),this.append(m,j,b);var N=b.nodeType==11;p&&!N&&j&&p.call(i,m,j,T)}else this.remove_item(m.id)},clear:function(m){this.rendered=o[a]={},r.append||this.clear_container(m)},clear_container:function(m){(m=m||l)&&(m.innerHTML="")},get_visible_range:function(m){var b,k,C=t(r),w=C?C.$getConfig():null;return w&&w.smart_rendering&&(b=C.getViewPort()),C&&b&&(typeof r.renderer=="function"?k=c(i,C,w,m,b):r.renderer&&r.renderer.getVisibleRange&&(k=r.renderer.getVisibleRange(i,C,w,m,b))),k||(k={start:0,end:m.count()}),k},prepare_data:function(m){if(r.renderer&&r.renderer.prepareData)return r.renderer.prepareData(m,i,r)},render_items:function(m,b){b=b||l;var k=document.createDocumentFragment();this.clear(b);var C=null,w=t(r),T=w?w.$getConfig():null;T&&T.smart_rendering&&(C=w.getViewPort());for(var E=0,P=m.length;E<P;E++)this.render_item(m[E],k,C,w,T);b.appendChild(k,b);var j={};m.forEach(function(B){j[B.id]=B});var N={};if(p){var L={};for(var E in this.rendered)N[E]||(L[E]=this.rendered[E],p.call(i,j[E],this.rendered[E],w))}},update_items:function(m,b){var k=t(r),C=k?k.$getConfig():null;if(k&&k.$getConfig().smart_rendering&&!u(i)&&this.rendered&&(g||v)){b=b||l;var w=document.createDocumentFragment(),T=null;k&&(T=k.getViewPort());var E={};m.forEach(function(H){E[H.id]=H});var P={},j={};for(var N in this.rendered)j[N]=!0,P[N]=!0;for(var L={},B=(N=0,m.length);N<B;N++){var I=m[N],V=this.rendered[I.id];j[I.id]=!1,V&&V.parentNode?(v?v(I,T,k,C,i):_(T,g(I,k,C,i)))?(f&&f.call(i,I,V,k,C,T),this.restore(I,w)):j[I.id]=!0:(L[m[N].id]=!0,this.render_item(m[N],w,T,k,C))}for(var N in j)j[N]&&this.hide(N);if(w.childNodes.length&&b.appendChild(w,b),p){var Y={};for(var N in this.rendered)P[N]&&!L[N]||(Y[N]=this.rendered[N],p.call(i,E[N],this.rendered[N],k))}}},append:function(m,b,k){this.rendered&&(b?(this.rendered[m.id]&&this.rendered[m.id].parentNode?this.replace_item(m.id,b):k.appendChild(b),this.rendered[m.id]=b):this.rendered[m.id]&&this.remove_item(m.id))},replace_item:function(m,b){var k=this.rendered[m];k&&k.parentNode&&k.parentNode.replaceChild(b,k),this.rendered[m]=b},remove_item:function(m){this.hide(m),delete this.rendered[m]},hide:function(m){var b=this.rendered[m];b&&b.parentNode&&b.parentNode.removeChild(b)},restore:function(m,b){var k=this.rendered[m.id];k?k.parentNode||this.append(m,k,b||l):this.render_item(m,b||l)},change_id:function(m,b){this.rendered[b]=this.rendered[m],delete this.rendered[m]},rendered:o[a],node:l,destructor:function(){this.clear(),delete e[a],delete o[a]}},e[a]}return{getRenderer:n,clearRenderers:function(){for(var a in e)n(a).destructor()}}}},function(S,x,h){var _=h(149),u=h(0),s=h(1),c=h(20);function i(o){return o instanceof Array||(o=Array.prototype.slice.call(arguments,0)),function(e){for(var t=!0,n=0,a=o.length;n<a;n++){var r=o[n];r&&(t=t&&r(e.id,e)!==!1)}return t}}S.exports=function(o){var e=_(o);return{createGroup:function(t,n,a,r){var l={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var d=[];for(var f in this.renderers)d.push(this.renderers[f]);return d},getLayer:function(d){return this.renderers[d]},_add:function(d){d&&(d.id=d.id||u.uid(),this.tempCollection.push(d));for(var f=this.container(),g=this.tempCollection,p=0;p<g.length;p++)if(d=g[p],this.container()||d&&d.container&&s.isChildOf(d.container,document.body)){var v=d.container,y=d.id,m=d.topmost;if(!v.parentNode)if(m)f.appendChild(v);else{var b=n?n():f.firstChild;b&&b.parentNode==f?f.insertBefore(v,b):f.appendChild(v)}this.renderers[y]=e.getRenderer(y,d,v),r&&r(d,o),this.tempCollection.splice(p,1),p--}},addLayer:function(d){if(d){typeof d=="function"&&(d={renderer:d}),d.filter===void 0?d.filter=i(a||[]):d.filter instanceof Array&&(d.filter.push(a),d.filter=i(d.filter)),d.container||(d.container=document.createElement("div"));var f=this;d.requestUpdate=function(){o.config.smart_rendering&&!c(o)&&f.renderers[d.id]&&f.onUpdateRequest(f.renderers[d.id])}}return this._add(d),d?d.id:void 0},onUpdateRequest:function(d){},eachLayer:function(d){for(var f in this.renderers)d(this.renderers[f])},removeLayer:function(d){this.renderers[d]&&(this.renderers[d].destructor(),delete this.renderers[d])},clear:function(){for(var d in this.renderers)this.renderers[d].destructor();this.renderers={}}};return o.attachEvent("onDestroy",function(){l.clear(),l=null}),l}}}},function(S,x,h){var _=h(150),u=h(6),s=h(44),c=h(43);function i(o,e){if(o.view){var t=o.view;typeof t=="string"&&(t=e.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){e.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||o.requestUpdate&&o.requestUpdate()})}}S.exports=function(o){var e=_(o);return{getDataRender:function(t){return o.$services.getService("layer:"+t)||null},createDataRender:function(t){var n=t.name,a=t.defaultContainer,r=t.defaultContainerSibling,l=e.createGroup(a,r,function(d,f){if(!l.filters)return!0;for(var g=0;g<l.filters.length;g++)if(l.filters[g](d,f)===!1)return!1},i);return o.$services.setService("layer:"+n,function(){return l}),o.attachEvent("onGanttReady",function(){l.addLayer()}),l},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return o.$task_links?o.$task_links:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_links:void 0},filter:function(a){}},o),n=this.createDataRender({name:"link",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0}},o);return{addTaskLayer:function(a){var r=u;return typeof a=="function"?a={renderer:{render:a,getVisibleRange:r}}:a.renderer&&!a.renderer.getVisibleRange&&(a.renderer.getVisibleRange=r),a.view="timeline",t.addLayer(a)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(a){t.removeLayer(a)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(a){var r=s();return typeof a=="function"?a={renderer:{render:a,getVisibleRange:r}}:a.renderer&&!a.renderer.getVisibleRange&&(a.renderer.getVisibleRange=r),a.view="timeline",a&&a.renderer&&(a.renderer.getRectangle||a.renderer.isInViewPort||(a.renderer.isInViewPort=c)),n.addLayer(a)},_getLinkLayers:function(){return n.getLayers()},removeLinkLayer:function(a){n.removeLayer(a)},_clearLinkLayers:function(){n.clear()}}}}}},function(S,x,h){var _=function(u){return function(s){var c={click:{},doubleclick:{},contextMenu:{}};function i(f,g,p,v){c[f][g]||(c[f][g]=[]),c[f][g].push({handler:p,root:v})}function o(f){f=f||window.event;var g=s.locate(f),p=t(f,c.click),v=!0;if(g!==null?v=!s.checkEvent("onTaskClick")||s.callEvent("onTaskClick",[g,f]):s.callEvent("onEmptyClick",[f]),v){if(!n(p,f,g))return;switch(f.target.nodeName){case"SELECT":case"INPUT":return}g&&s.getTask(g)&&!s._multiselect&&s.config.select_task&&s.selectTask(g)}}function e(f){var g=(f=f||window.event).target||f.srcElement,p=s.locate(g),v=s.locate(g,s.config.link_attribute),y=!s.checkEvent("onContextMenu")||s.callEvent("onContextMenu",[p,v,f]);return y||(f.preventDefault?f.preventDefault():f.returnValue=!1),y}function t(f,g){for(var p=f.target||f.srcElement,v=[];p;){var y=u.getClassName(p);if(y){y=y.split(" ");for(var m=0;m<y.length;m++)if(y[m]&&g[y[m]])for(var b=g[y[m]],k=0;k<b.length;k++)b[k].root&&!u.isChildOf(p,b[k].root)||v.push(b[k].handler)}p=p.parentNode}return v}function n(f,g,p){for(var v=!0,y=0;y<f.length;y++){var m=f[y].call(s,g,p,g.target||g.srcElement);v=v&&!(m!==void 0&&m!==!0)}return v}function a(f){f=f||window.event;var g=s.locate(f),p=t(f,c.doubleclick),v=!s.checkEvent("onTaskDblClick")||g===null||s.callEvent("onTaskDblClick",[g,f]);if(v){if(!n(p,f,g))return;g!==null&&s.getTask(g)&&v&&s.config.details_on_dblclick&&!s.isReadonly(g)&&s.showLightbox(g)}}function r(f){if(s.checkEvent("onMouseMove")){var g=s.locate(f);s._last_move_event=f,s.callEvent("onMouseMove",[g,f])}}var l=s._createDomEventScope();function d(f){l.detachAll(),f&&(l.attach(f,"click",o),l.attach(f,"dblclick",a),l.attach(f,"mousemove",r),l.attach(f,"contextmenu",e))}return{reset:d,global:function(f,g,p){i(f,g,p,null)},delegate:i,detach:function(f,g,p,v){if(c[f]&&c[f][g]){for(var y=c[f],m=y[g],b=0;b<m.length;b++)m[b].root==v&&(m.splice(b,1),b--);m.length||delete y[g]}},callHandler:function(f,g,p,v){var y=c[f][g];if(y)for(var m=0;m<y.length;m++)(p||y[m].root)&&y[m].root!==p||y[m].handler.apply(this,v)},onDoubleClick:a,onMouseMove:r,onContextMenu:e,onClick:o,destructor:function(){d(),c=null,l=null}}}}(h(1));S.exports={init:_}},function(S,x,h){var _=h(0);function u(s,c){var i=this.$config[s];return i?(i.$extendedConfig||(i.$extendedConfig=!0,Object.setPrototypeOf(i,c)),i):c}S.exports=function(s,c){_.mixin(s,function(i){var o,e;return{$getConfig:function(){return o||(o=i?i.$getConfig():this.$gantt.config),this.$config.config?u.call(this,"config",o):o},$getTemplates:function(){return e||(e=i?i.$getTemplates():this.$gantt.templates),this.$config.templates?u.call(this,"templates",e):e}}}(c))}},function(S,x,h){function _(c){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=h(0),s=h(153);S.exports={createFactory:function(c){var i={},o={};function e(t,n,a,r){var l=i[t];if(!l||!l.create)return!1;t!="resizer"||a.mode||(r.$config.cols?a.mode="x":a.mode="y"),t!="viewcell"||a.view!="scrollbar"||a.scroll||(r.$config.cols?a.scroll="y":a.scroll="x"),(a=u.copy(a)).id||o[a.view]||(a.id=a.view),a.id&&!a.css&&(a.css=a.id+"_cell");var d=new l.create(n,a,this,c);return l.configure&&l.configure(d),s(d,r),d.$id||(d.$id=a.id||c.uid()),d.$parent||_(n)!="object"||(d.$parent=n),d.$config||(d.$config=a),o[d.$id]&&(d.$id=c.uid()),o[d.$id]=d,d}return{initUI:function(t,n){var a="cell";return t.view?a="viewcell":t.resizer?a="resizer":t.rows||t.cols?a="layout":t.views&&(a="multiview"),e.call(this,a,null,t,n)},reset:function(){o={}},registerView:function(t,n,a){i[t]={create:n,configure:a}},createView:e,getView:function(t){return o[t]}}}}},function(S,x,h){var _=h(154),u=h(152),s=h(151),c=h(12),i=h(42),o=h(145),e=h(144),t=h(143),n=h(142),a=h(41),r=h(34),l=h(140),d=h(40),f=h(139),g=h(138),p=h(127),v=h(126),y=h(124),m=h(123),b=h(121),k=h(120),C=h(119),w=h(118),T=h(117),E=h(116),P=h(110),j=h(107);S.exports={init:function(N){function L(Y,H){var F=H(N);F.onCreated&&F.onCreated(Y),Y.attachEvent("onReady",function(){F.onInitialized&&F.onInitialized(Y)}),Y.attachEvent("onDestroy",function(){F.onDestroyed&&F.onDestroyed(Y)})}var B=_.createFactory(N);B.registerView("cell",c),B.registerView("resizer",t),B.registerView("scrollbar",n),B.registerView("layout",i,function(Y){(Y.$config?Y.$config.id:null)==="main"&&L(Y,j)}),B.registerView("viewcell",e),B.registerView("multiview",o),B.registerView("timeline",a,function(Y){(Y.$config?Y.$config.id:null)!=="timeline"&&Y.$config.bind!="task"||L(Y,P)}),B.registerView("grid",r,function(Y){(Y.$config?Y.$config.id:null)!=="grid"&&Y.$config.bind!="task"||L(Y,E)}),B.registerView("resourceGrid",l),B.registerView("resourceTimeline",d),B.registerView("resourceHistogram",f);var I=s(N),V=g(N);return N.ext.inlineEditors=V,N.ext._inlineEditors=V,V.init(N),{factory:B,mouseEvents:u.init(N),layersApi:I.init(),render:{gridLine:function(){return k(N)},taskBg:function(){return m(N)},taskBar:function(){return p(N)},taskRollupBar:function(){return y(N)},taskSplitBar:function(){return v(N)},link:function(){return b(N)},resourceRow:function(){return C(N)},resourceHistogram:function(){return w(N)},gridTaskRowResizer:function(){return T(N)}},layersService:{getDataRender:function(Y){return I.getDataRender(Y,N)},createDataRender:function(Y){return I.createDataRender(Y,N)}}}}}},function(S,x,h){function _(c){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i})(c)}var u=h(0),s=h(1);S.exports=function(c){var i="data-dhxbox",o=null;function e(w,T){var E=w.callback;b.hide(w.box),o=w.box=null,E&&E(T)}function t(w){if(o){var T=w.which||w.keyCode,E=!1;if(k.keyboard){if(T==13||T==32){var P=w.target||w.srcElement;s.getClassName(P).indexOf("gantt_popup_button")>-1&&P.click?P.click():(e(o,!0),E=!0)}T==27&&(e(o,!1),E=!0)}return E?(w.preventDefault&&w.preventDefault(),!(w.cancelBubble=!0)):void 0}}var n=s.getRootNode(c.$root)||document;function a(w){a.cover||(a.cover=document.createElement("div"),a.cover.onkeydown=t,a.cover.className="dhx_modal_cover",document.body.appendChild(a.cover)),a.cover.style.display=w?"inline-block":"none"}function r(w,T,E){return"<div "+c._waiAria.messageButtonAttrString(w)+" class='gantt_popup_button "+("gantt_"+T.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+E+"' result='"+E+"' ><div>"+w+"</div></div>"}function l(w){k.area||(k.area=document.createElement("div"),k.area.className="gantt_message_area",k.area.style[k.position]="5px",document.body.appendChild(k.area)),k.hide(w.id);var T=document.createElement("div");return T.innerHTML="<div>"+w.text+"</div>",T.className="gantt-info gantt-"+w.type,T.onclick=function(){k.hide(w.id),w=null},c._waiAria.messageInfoAttr(T),k.position=="bottom"&&k.area.firstChild?k.area.insertBefore(T,k.area.firstChild):k.area.appendChild(T),w.expire>0&&(k.timers[w.id]=window.setTimeout(function(){k&&k.hide(w.id)},w.expire)),k.pull[w.id]=T,T=null,w.id}function d(){for(var w=[].slice.apply(arguments,[0]),T=0;T<w.length;T++)if(w[T])return w[T]}function f(w,T,E){var P=w.tagName?w:function(L,B,I){var V=document.createElement("div"),Y=u.uid();c._waiAria.messageModalAttr(V,Y),V.className=" gantt_modal_box gantt-"+L.type,V.setAttribute(i,1);var H="";if(L.width&&(V.style.width=L.width),L.height&&(V.style.height=L.height),L.title&&(H+='<div class="gantt_popup_title">'+L.title+"</div>"),H+='<div class="gantt_popup_text" id="'+Y+'"><span>'+(L.content?"":L.text)+'</span></div><div  class="gantt_popup_controls">',B&&(H+=r(d(L.ok,c.locale.labels.message_ok,"OK"),"ok",!0)),I&&(H+=r(d(L.cancel,c.locale.labels.message_cancel,"Cancel"),"cancel",!1)),L.buttons)for(var F=0;F<L.buttons.length;F++){var G=L.buttons[F];_(G)=="object"?H+=r(G.label,G.css||"gantt_"+G.label.toLowerCase()+"_button",G.value||F):H+=r(G,G,F)}if(H+="</div>",V.innerHTML=H,L.content){var R=L.content;typeof R=="string"&&(R=document.getElementById(R)),R.style.display=="none"&&(R.style.display=""),V.childNodes[L.title?1:0].appendChild(R)}return V.onclick=function(K){var Q=K.target||K.srcElement;if(Q.className||(Q=Q.parentNode),s.closest(Q,".gantt_popup_button")){var W=Q.getAttribute("data-result");e(L,W=W=="true"||W!="false"&&W)}},L.box=V,(B||I)&&(o=L),V}(w,T,E);w.hidden||a(!0),document.body.appendChild(P);var j=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-P.offsetWidth)/2)),N=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-P.offsetHeight)/2));return w.position=="top"?P.style.top="-3px":P.style.top=N+"px",P.style.left=j+"px",P.onkeydown=t,b.focus(P),w.hidden&&b.hide(P),c.callEvent("onMessagePopup",[P]),P}function g(w){return f(w,!0,!1)}function p(w){return f(w,!0,!0)}function v(w){return f(w)}function y(w,T,E){return _(w)!="object"&&(typeof T=="function"&&(E=T,T=""),w={text:w,type:T,callback:E}),w}function m(w,T,E,P){return _(w)!="object"&&(w={text:w,type:T,expire:E,id:P}),w.id=w.id||u.uid(),w.expire=w.expire||k.expire,w}c.event(n,"keydown",t,!0);var b=function(){var w=y.apply(this,arguments);return w.type=w.type||"alert",v(w)};b.hide=function(w){for(;w&&w.getAttribute&&!w.getAttribute(i);)w=w.parentNode;w&&(w.parentNode.removeChild(w),a(!1),c.callEvent("onAfterMessagePopup",[w]))},b.focus=function(w){setTimeout(function(){var T=s.getFocusableNodes(w);T.length&&T[0].focus&&T[0].focus()},1)};var k=function(w,T,E,P){switch((w=m.apply(this,arguments)).type=w.type||"info",w.type.split("-")[0]){case"alert":return g(w);case"confirm":return p(w);case"modalbox":return v(w);default:return l(w)}};k.seed=new Date().valueOf(),k.uid=u.uid,k.expire=4e3,k.keyboard=!0,k.position="top",k.pull={},k.timers={},k.hideAll=function(){for(var w in k.pull)k.hide(w)},k.hide=function(w){var T=k.pull[w];T&&T.parentNode&&(window.setTimeout(function(){T.parentNode.removeChild(T),T=null},2e3),T.className+=" hidden",k.timers[w]&&window.clearTimeout(k.timers[w]),delete k.pull[w])};var C=[];return c.attachEvent("onMessagePopup",function(w){C.push(w)}),c.attachEvent("onAfterMessagePopup",function(w){for(var T=0;T<C.length;T++)C[T]===w&&(C.splice(T,1),T--)}),c.attachEvent("onDestroy",function(){a.cover&&a.cover.parentNode&&a.cover.parentNode.removeChild(a.cover);for(var w=0;w<C.length;w++)C[w].parentNode&&C[w].parentNode.removeChild(C[w]);C=null,k.area&&k.area.parentNode&&k.area.parentNode.removeChild(k.area),k=null}),{alert:function(){var w=y.apply(this,arguments);return w.type=w.type||"confirm",g(w)},confirm:function(){var w=y.apply(this,arguments);return w.type=w.type||"alert",p(w)},message:k,modalbox:b}}},function(S,x,h){S.exports=function(_){var u=h(0),s=h(8),c=h(15);if(!s.isNode){var i=h(1),o=h(2);_.utils={arrayFind:o.arrayFind,dom:i};var e=h(57)();_.event=e.attach,_.eventRemove=e.detach,_._eventRemoveAll=e.detachAll,_._createDomEventScope=e.extend,u.mixin(_,h(156)(_));var t=h(155).init(_);_.$ui=t.factory,_.$ui.layers=t.render,_.$mouseEvents=t.mouseEvents,_.$services.setService("mouseEvents",function(){return _.$mouseEvents}),_.mixin(_,t.layersApi),h(106)(_),_.$services.setService("layers",function(){return t.layersService});var n=h(105);_.mixin(_,n()),h(104)(_),h(103)(_),h(102)(_),h(101)(_),h(100)(_),h(99)(_),h(98)(_),h(97)(_),h(96)(_),h(91)(_),h(90)(_),h(78)(_),h(77)(_),_.locate=function(a){var r=i.getTargetNode(a);if(i.closest(r,".gantt_task_row"))return null;var l=arguments[1]||this.config.task_attribute,d=i.locateAttribute(r,l);return d?d.getAttribute(l):null},_._locate_css=function(a,r,l){return i.locateClassName(a,r,l)},_._locateHTML=function(a,r){return i.locateAttribute(a,r||this.config.task_attribute)}}_.attachEvent("onParse",function(){c(_)||_.attachEvent("onGanttRender",function(){if(_.config.initial_scroll){var a=_.getTaskByIndex(0),r=a?a.id:_.config.root_id;_.isTaskExists(r)&&_.$task&&_.utils.dom.isChildOf(_.$task,_.$container)&&_.showTask(r)}},{once:!0})}),_.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=i.getScrollSize()||1),c(_)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),_.attachEvent("onGanttReady",function(){!c(_)&&_.config.rtl&&_.$layout.getCellsByType("viewCell").forEach(function(a){var r=a.$config.scrollX;if(r){var l=_.$ui.getView(r);l&&l.scrollTo(l.$config.scrollSize,0)}})}),_.attachEvent("onGanttReady",function(){if(!c(_)){var a=_.plugins(),r={auto_scheduling:_.autoSchedule,click_drag:_.ext.clickDrag,critical_path:_.isCriticalTask,drag_timeline:_.ext.dragTimeline,export_api:_.exportToPDF,fullscreen:_.ext.fullscreen,grouping:_.groupBy,keyboard_navigation:_.ext.keyboardNavigation,marker:_.addMarker,multiselect:_.eachSelectedTask,overlay:_.ext.overlay,quick_info:_.templates.quick_info_content,tooltip:_.ext.tooltips,undo:_.undo};for(var l in r)r[l]&&!a[l]&&console.warn("You connected the '".concat(l,`' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`))}})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],month_short:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],day_full:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],day_short:["Нед","Пон","Вів","Сер","Чет","Птн","Суб"]},labels:{new_task:"Нове завдання",icon_save:"Зберегти",icon_cancel:"Відміна",icon_details:"Деталі",icon_edit:"Редагувати",icon_delete:"Вилучити",confirm_closing:"",confirm_deleting:"Подія вилучиться назавжди. Ви впевнені?",section_description:"Опис",section_time:"Часовий проміжок",section_type:"Тип",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Відміна",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],month_short:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"]},labels:{new_task:"Yeni görev",icon_save:"Kaydet",icon_cancel:"İptal",icon_details:"Detaylar",icon_edit:"Düzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Görev silinecek, emin misiniz?",section_description:"Açıklama",section_time:"Zaman Aralığı",section_type:"Tip",column_wbs:"WBS",column_text:"Görev Adı",column_start_date:"Başlangıç",column_duration:"Süre",column_add:"",link:"Bağlantı",confirm_link_deleting:"silinecek",link_start:" (başlangıç)",link_end:" (bitiş)",type_task:"Görev",type_project:"Proje",type_milestone:"Kilometretaşı",minutes:"Dakika",hours:"Saat",days:"Gün",weeks:"Hafta",months:"Ay",years:"Yıl",message_ok:"OK",message_cancel:"Ýptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],day_short:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"Ändra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"Är du säker på att du vill ta bort händelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Länk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Månader",years:"År",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],month_short:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","Št","Pi","So"]},labels:{new_task:"Nová úloha",icon_save:"Uložiť",icon_cancel:"Späť",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmazať",confirm_closing:"Vaše zmeny nebudú uložené. Skutočne?",confirm_deleting:"Udalosť bude natrvalo vymazaná. Skutočne?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Späť",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekliči",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbriši",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. Želite nadaljevati?",section_description:"Opis",section_time:"Časovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekliči",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Январь","Февраль","Март","Апрель","Maй","Июнь","Июль","Август","Сентябрь","Oктябрь","Ноябрь","Декабрь"],month_short:["Янв","Фев","Maр","Aпр","Maй","Июн","Июл","Aвг","Сен","Окт","Ноя","Дек"],day_full:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],day_short:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},labels:{new_task:"Новое задание",icon_save:"Сохранить",icon_cancel:"Отменить",icon_details:"Детали",icon_edit:"Изменить",icon_delete:"Удалить",confirm_closing:"",confirm_deleting:"Событие будет удалено безвозвратно, продолжить?",section_description:"Описание",section_time:"Период времени",section_type:"Тип",column_wbs:"ИСР",column_text:"Задача",column_start_date:"Начало",column_duration:"Длительность",column_add:"",link:"Связь",confirm_link_deleting:"будет удалена",link_start:" (начало)",link_end:" (конец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Минута",hours:"Час",days:"День",weeks:"Неделя",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Отменить",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"начните вводить слово для фильтрации",resources_filter_label:"спрятать не установленные",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas serão excluidas permanentemente, confirme?",section_description:"Descrição",section_time:"Período",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data início",column_duration:"Duração",column_add:"",link:"Link",confirm_link_deleting:"Será excluído!",link_start:" (início)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrição",constraint_type:"Tipo Restrição",constraint_date:"Data restrição",asap:"Mais breve possível",alap:"Mais tarde possível",snet:"Não começar antes de",snlt:"Não começar depois de",fnet:"Não terminar antes de",fnlt:"Não terminar depois de",mso:"Precisa começar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],day_full:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],day_short:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegóły",icon_edit:"Edytuj",icon_delete:"Usuń",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunięte na zawsze, kontynuować?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Początek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunięty",link_start:" (początek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzień",months:"Miesiące",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppføringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Mon","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){return function(u){var s=this;for(var c in this.addLocale=function(i,o){s._locales[i]=o},this.getLocale=function(i){return s._locales[i]},this._locales={},u)this._locales[c]=u[c]}}();x.default=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],month_short:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_full:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],day_short:["일","월","화","수","목","금","토"]},labels:{new_task:"이름없는 작업",icon_save:"저장",icon_cancel:"취소",icon_details:"세부 사항",icon_edit:"수정",icon_delete:"삭제",confirm_closing:"",confirm_deleting:"작업을 삭제하시겠습니까?",section_description:"설명",section_time:"기간",section_type:"Type",column_wbs:"WBS",column_text:"작업명",column_start_date:"시작일",column_duration:"기간",column_add:"",link:"전제",confirm_link_deleting:"삭제 하시겠습니까?",link_start:" (start)",link_end:" (end)",type_task:"작업",type_project:"프로젝트",type_milestone:"마일스톤",minutes:"분",hours:"시간",days:"일",weeks:"주",months:"달",years:"년",message_ok:"OK",message_cancel:"취소",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],day_short:["日","月","火","水","木","金","土"]},labels:{new_task:"新しい仕事",icon_save:"保存",icon_cancel:"キャンセル",icon_details:"詳細",icon_edit:"編集",icon_delete:"削除",confirm_closing:"",confirm_deleting:"イベント完全に削除されます、宜しいですか？",section_description:"デスクリプション",section_time:"期間",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"キャンセル",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attività",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sarà eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],month_short:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasárnap","Hétfõ","Kedd","Szerda","Csütörtök","Péntek","szombat"],day_short:["Va","Hé","Ke","Sze","Csü","Pé","Szo"]},labels:{new_task:"Új feladat",icon_save:"Mentés",icon_cancel:"Mégse",icon_details:"Részletek",icon_edit:"Szerkesztés",icon_delete:"Törlés",confirm_closing:"",confirm_deleting:"Az esemény törölve lesz, biztosan folytatja?",section_description:"Leírás",section_time:"Idõszak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mégse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obriši",confirm_closing:"",confirm_deleting:"Zadatak će biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Početno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"će biti izbrisan",link_start:" (početak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],month_short:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],day_full:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],day_short:["א","ב","ג","ד","ה","ו","ש"]},labels:{new_task:"משימה חדש",icon_save:"שמור",icon_cancel:"בטל",icon_details:"פרטים",icon_edit:"ערוך",icon_delete:"מחק",confirm_closing:"",confirm_deleting:"ארוע ימחק סופית.להמשיך?",section_description:"הסבר",section_time:"תקופה",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"בטל",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],month_short:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tâche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Détails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'événement sera effacé sans appel, êtes-vous sûr ?",section_description:"Description",section_time:"Période",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la tâche",column_start_date:"Date initiale",column_duration:"Durée",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprimé",link_start:"(début)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Années",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtävä",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],day_short:["ی","د","س","چ","پ","ج","ش"]},labels:{new_task:"وظیفه جدید",icon_save:"ذخیره",icon_cancel:"لغو",icon_details:"جزییات",icon_edit:"ویرایش",icon_delete:"حذف",confirm_closing:"تغییرات شما ازدست خواهد رفت، آیا مطمئن هستید؟",confirm_deleting:"این مورد برای همیشه حذف خواهد شد، آیا مطمئن هستید؟",section_description:"توضیحات",section_time:"مدت زمان",section_type:"نوع",column_wbs:"WBS",column_text:"عنوان",column_start_date:"زمان شروع",column_duration:"مدت",column_add:"",link:"ارتباط",confirm_link_deleting:"حذف خواهد شد",link_start:" (آغاز)",link_end:" (پایان)",type_task:"وظیفه",type_project:"پروژه",type_milestone:"نگارش",minutes:"دقایق",hours:"ساعات",days:"روزها",weeks:"هفته",months:"ماه‌ها",years:"سال‌ها",message_ok:"تایید",message_cancel:"لغو",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],day_short:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrará definitivamente, ¿continuar?",section_description:"Descripción",section_time:"Período",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duración",column_add:"",link:"Enlace",confirm_link_deleting:"será borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Días",weeks:"Semanas",months:"Meses",years:"Años",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],month_short:["ΙΑΝ","ΦΕΒ","ΜΑΡ","ΑΠΡ","ΜΑΙ","ΙΟΥΝ","ΙΟΥΛ","ΑΥΓ","ΣΕΠ","ΟΚΤ","ΝΟΕ","ΔΕΚ"],day_full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Κυριακή"],day_short:["ΚΥ","ΔΕ","ΤΡ","ΤΕ","ΠΕ","ΠΑ","ΣΑ"]},labels:{new_task:"Νέα εργασία",icon_save:"Αποθήκευση",icon_cancel:"Άκυρο",icon_details:"Λεπτομέρειες",icon_edit:"Επεξεργασία",icon_delete:"Διαγραφή",confirm_closing:"",confirm_deleting:"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;",section_description:"Περιγραφή",section_time:"Χρονική περίοδος",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Άκυρο",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:[" Januar"," Februar"," März "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"Ändern",icon_delete:"Löschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelöscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelöscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie möglich",alap:"So spät wie möglich",snet:"Beginn nicht vor",snlt:"Beginn nicht später als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht später als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil gå tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],month_short:["Led","Ún","Bře","Dub","Kvě","Čer","Čec","Srp","Září","Říj","List","Pro"],day_full:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],day_short:["Ne","Po","Út","St","Čt","Pá","So"]},labels:{new_task:"Nová práce",icon_save:"Uložit",icon_cancel:"Zpět",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Událost bude trvale smazána, opravdu?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpět",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"]},labels:{new_task:"新任务",icon_save:"保存",icon_cancel:"关闭",icon_details:"详细",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"请确认是否撤销修改!",confirm_deleting:"是否删除日程?",section_description:"描述",section_time:"时间范围",section_type:"类型",column_wbs:"工作分解结构",column_text:"任务名",column_start_date:"开始时间",column_duration:"持续时间",column_add:"",link:"关联",confirm_link_deleting:"将被删除",link_start:" (开始)",link_end:" (结束)",type_task:"任务",type_project:"项目",type_milestone:"里程碑",minutes:"分钟",hours:"小时",days:"天",weeks:"周",months:"月",years:"年",message_ok:"确定",message_cancel:"关闭",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel·lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrarà definitivament, continuar ?",section_description:"Descripció",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel·lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["Студзень","Люты","Сакавік","Красавік","Maй","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"],month_short:["Студз","Лют","Сак","Крас","Maй","Чэр","Ліп","Жнів","Вер","Каст","Ліст","Снеж"],day_full:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"],day_short:["Нд","Пн","Аўт","Ср","Чцв","Пт","Сб"]},labels:{new_task:"Новае заданне",icon_save:"Захаваць",icon_cancel:"Адмяніць",icon_details:"Дэталі",icon_edit:"Змяніць",icon_delete:"Выдаліць",confirm_closing:"",confirm_deleting:"Падзея будзе выдалена незваротна, працягнуць?",section_description:"Апісанне",section_time:"Перыяд часу",section_type:"Тып",column_wbs:"ІСР",column_text:"Задача",column_start_date:"Пачатак",column_duration:"Працяг",column_add:"",link:"Сувязь",confirm_link_deleting:"будзе выдалена",link_start:"(пачатак)",link_end:"(канец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Хвiлiна",hours:"Гадзiна",days:"Дзень",weeks:"Тыдзень",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Адмяніць",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default={date:{month_full:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],month_short:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_full:["الأحد","الأثنين","ألثلاثاء","الأربعاء","ألحميس","ألجمعة","السبت"],day_short:["احد","اثنين","ثلاثاء","اربعاء","خميس","جمعة","سبت"]},labels:{new_task:"مهمة جديد",icon_save:"اخزن",icon_cancel:"الغاء",icon_details:"تفاصيل",icon_edit:"تحرير",icon_delete:"حذف",confirm_closing:"التغييرات سوف تضيع, هل انت متأكد؟",confirm_deleting:"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟",section_description:"الوصف",section_time:"الفترة الزمنية",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"الغاء",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(190),u=h(189),s=h(188),c=h(187),i=h(186),o=h(185),e=h(184),t=h(183),n=h(182),a=h(181),r=h(180),l=h(179),d=h(178),f=h(177),g=h(176),p=h(175),v=h(174),y=h(173),m=h(172),b=h(171),k=h(170),C=h(169),w=h(168),T=h(167),E=h(166),P=h(165),j=h(164),N=h(163),L=h(162),B=h(161),I=h(160),V=h(159),Y=h(158);x.default=function(){return new k.default({en:n.default,ar:_.default,be:u.default,ca:s.default,cn:c.default,cs:i.default,da:o.default,de:e.default,el:t.default,es:a.default,fa:r.default,fi:l.default,fr:d.default,he:f.default,hr:g.default,hu:p.default,id:v.default,it:y.default,jp:m.default,kr:b.default,nb:C.default,nl:w.default,no:T.default,pl:E.default,pt:P.default,ro:j.default,ru:N.default,si:L.default,sk:B.default,sv:I.default,tr:V.default,ua:Y.default})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){}},function(S,x){S.exports=function(h){h.destructor=function(){for(var _ in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)_.indexOf("$")===0&&delete this[_];this.$destroyed=!0}}},function(S,x){S.exports=function(h){return function(_,u){_||h.config.show_errors&&h.callEvent("onError",[u])!==!1&&(h.message?h.message({type:"error",text:u,expire:-1}):console.log(u))}}},function(S,x){function h(_,u){var s,c=_.config.container_resize_timeout||20;if(_.config.container_resize_method=="timeout")t();else try{_.event(u,"resize",function(){_.$scrollbarRepaint?_.$scrollbarRepaint=null:i()})}catch{t()}function i(){clearTimeout(s),s=setTimeout(function(){_.$destroyed||_.render()},c)}var o=_.$root.offsetHeight,e=_.$root.offsetWidth;function t(){_.$root.offsetHeight==o&&_.$root.offsetWidth==e||i(),o=_.$root.offsetHeight,e=_.$root.offsetWidth,setTimeout(t,c)}}S.exports=function(_){window.getComputedStyle(_.$root).getPropertyValue("position")=="static"&&(_.$root.style.position="relative");var u=document.createElement("iframe");u.className="gantt_container_resize_watcher",u.tabIndex=-1,_.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(_.config.container_resize_method="timeout"),_.$root.appendChild(u),u.contentWindow?h(_,u.contentWindow):(_.$root.removeChild(u),h(_,window))}},function(S,x,h){function _(o){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}var u=h(1),s=h(2),c=h(15),i=h(195);S.exports=function(o){var e=h(51);o.assert=h(194)(o);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function n(l){if(!l||typeof l=="string"&&document.getElementById(l)||function(d){try{d.cloneNode(!1)}catch{return!1}return!0}(l))return!0;throw o.assert(!1,t),new Error(t)}o.init=function(l,d,f){o.env.isNode?l=null:n(l),d&&f&&(this.config.start_date=this._min_date=new Date(d),this.config.end_date=this._max_date=new Date(f)),this.date.init(),this.init=function(g){o.env.isNode?g=null:n(g),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(g)},this._reinit(l)},o._quickRefresh=function(l){for(var d=this._getDatastores.call(this),f=0;f<d.length;f++)d[f]._quick_refresh=!0;for(l(),f=0;f<d.length;f++)d[f]._quick_refresh=!1};var a=(function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}).bind(o),r=(function(){c(o)||(this.$root.innerHTML="",this.$root.gantt=this,e(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var l=o.$services.getService("datastores"),d=0;d<l.length;d++)o.getDatastore(l[d]).filter(),o.$data.tasksStore._skipTaskRecalculation?o.$data.tasksStore._skipTaskRecalculation!="lightbox"&&(o.$data.tasksStore._skipTaskRecalculation=!1):o.getDatastore(l[d]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){o._quickRefresh(function(){o.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,i(this))}).bind(o);o.resetLayout=function(){a(),r(),this.render()},o._reinit=function(l){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),a(),this.$root=null,l&&(this.$root=u.toNode(l),r(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},o.$click={buttons:{edit:function(l){o.isReadonly(o.getTask(l))||o.showLightbox(l)},delete:function(l){var d=o.getTask(l);if(!o.isReadonly(d)){var f=o.locale.labels.confirm_deleting,g=o.locale.labels.confirm_deleting_title;o._simple_confirm(f,g,function(){o.isTaskExists(l)&&(d.$new?(o.$data.tasksStore._skipTaskRecalculation="lightbox",o.silent(function(){o.deleteTask(l,!0)}),o.$data.tasksStore._skipTaskRecalculation=!1,o.refreshData()):(o.$data.tasksStore._skipTaskRecalculation=!0,o.deleteTask(l))),o.hideLightbox()})}}}},o.render=function(){var l;if(this.callEvent("onBeforeGanttRender",[]),!c(o)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var d=this.getScrollState(),f=d?d.x:0;this._getHorizontalScrollbar()&&(f=this._getHorizontalScrollbar().$config.codeScrollLeft||f||0),l=null,f&&(l=o.dateFromPos(f+this.config.task_scroll_offset))}if(e(this),c(o))o.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var g=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=g,this.config.preserve_scroll&&d){if(f||d.y){var p=o.getScrollState();if(+l!=+o.dateFromPos(p.x)||p.y!=d.y){f=null;var v=null;l&&(f=Math.max(o.posFromDate(l)-o.config.task_scroll_offset,0)),d.y&&(v=d.y),o.scrollTo(f,v)}}var y=o.$ui.getView("grid");if(y){var m=y.$config.scrollY,b=o.$ui.getView(m);b&&(o.utils.dom.isChildOf(b.$view,o.$container)||y.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},o.setSizes=o.render,o.getTaskRowNode=function(l){for(var d=this.$grid_data.childNodes,f=this.config.task_attribute,g=0;g<d.length;g++)if(d[g].getAttribute&&d[g].getAttribute(f)==l)return d[g];return null},o.changeLightboxType=function(l){if(this.getLightboxType()==l)return!0;o._silent_redraw_lightbox(l)},o._get_link_type=function(l,d){var f=null;return l&&d?f=o.config.links.start_to_start:!l&&d?f=o.config.links.finish_to_start:l||d?l&&!d&&(f=o.config.links.start_to_finish):f=o.config.links.finish_to_finish,f},o.isLinkAllowed=function(l,d,f,g){var p=null;if(!(p=_(l)=="object"?l:{source:l,target:d,type:this._get_link_type(f,g)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var v=!0;return this.checkEvent("onLinkValidation")&&(v=this.callEvent("onLinkValidation",[p])),v},o._correct_dst_change=function(l,d,f,g){var p=s.getSecondsInUnit(g)*f;if(p>3600&&p<86400){var v=l.getTimezoneOffset()-d;v&&(l=o.date.add(l,v,"minute"))}return l},o.isSplitTask=function(l){return o.assert(l&&l instanceof Object,"Invalid argument <b>task</b>="+l+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(l)},o._is_icon_open_click=function(l){if(!l)return!1;var d=l.target||l.srcElement;if(!d||!d.className)return!1;var f=u.getClassName(d);return f.indexOf("gantt_tree_icon")!==-1&&(f.indexOf("gantt_close")!==-1||f.indexOf("gantt_open")!==-1)}}},function(S,x){S.exports=function(h){function _(){return h._cached_functions.update_if_changed(h),h._cached_functions.active||h._cached_functions.activate(),!0}h._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(s,c){if(c._prefetch_originals)for(var i in c._prefetch_originals)c[i]=c._prefetch_originals[i];for(c._prefetch_originals={},i=0;i<s.length;i++)this.prefetch(s[i],c)},prefetch:function(s,c){var i=c[s];if(i){var o=this;c._prefetch_originals[s]=i,c[s]=function(){for(var e=new Array(arguments.length),t=0,n=arguments.length;t<n;t++)e[t]=arguments[t];if(o.active){var a=o.get_arguments_hash(Array.prototype.slice.call(e));o.cache[s]||(o.cache[s]={});var r=o.cache[s];if(o.has_cached_value(r,a))return o.get_cached_value(r,a);var l=i.apply(this,e);return o.cache_value(r,a,l),l}return i.apply(this,e)}}return i},cache_value:function(s,c,i){this.is_date(i)&&(i=new Date(i)),s[c]=i},has_cached_value:function(s,c){return s.hasOwnProperty(c)},get_cached_value:function(s,c){var i=s[c];return this.is_date(i)&&(i=new Date(i)),i},is_date:function(s){return s&&s.getUTCDate},get_arguments_hash:function(s){for(var c=[],i=0;i<s.length;i++)c.push(this.stringify_argument(s[i]));return"("+c.join(";")+")"},stringify_argument:function(s){return(s.id?s.id:this.is_date(s)?s.valueOf():s)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(s){var c=[],i=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?s.config.highlight_critical_path&&(c=i):this.mode===!0&&(c=i),this.wrap_methods(c,s)},update_if_changed:function(s){(this.critical_path_mode!=s.config.highlight_critical_path||this.mode!==s.config.optimize_render)&&(this.critical_path_mode=s.config.highlight_critical_path,this.mode=s.config.optimize_render,this.setup(s))}},h.attachEvent("onBeforeGanttRender",_),h.attachEvent("onBeforeDataRender",_),h.attachEvent("onBeforeSmartRender",function(){_()}),h.attachEvent("onBeforeParse",_),h.attachEvent("onDataRender",function(){h._cached_functions.deactivate()});var u=null;h.attachEvent("onSmartRender",function(){u&&clearTimeout(u),u=setTimeout(function(){h._cached_functions.deactivate()},1e3)}),h.attachEvent("onBeforeGanttReady",function(){return h._cached_functions.update_if_changed(h),!0})}},function(S,x){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}S.exports=function(_){_.getTaskType=function(u){var s=u;for(var c in u&&h(u)=="object"&&(s=u.type),this.config.types)if(this.config.types[c]==s)return s;return _.config.types.task}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(){}},function(S,x,h){var _=h(2);S.exports=function(u){u.isUnscheduledTask=function(e){return u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isUnscheduledTask. Task object was expected"),!!e.unscheduled||!e.start_date},u._isAllowedUnscheduledTask=function(e){return!(!e.unscheduled||!u.config.show_unscheduled)},u._isTaskInTimelineLimits=function(e){var t=e.start_date?e.start_date.valueOf():null,n=e.end_date?e.end_date.valueOf():null;return!!(t&&n&&t<=this._max_date.valueOf()&&n>=this._min_date.valueOf())},u.isTaskVisible=function(e){if(!this.isTaskExists(e))return!1;var t=this.getTask(e);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(e)>=0},u._getProjectEnd=function(){if(u.config.project_end)return u.config.project_end;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.end_date>+n.end_date?1:-1})).length?e[e.length-1].end_date:null},u._getProjectStart=function(){if(u.config.project_start)return u.config.project_start;if(u.config.start_date)return u.config.start_date;if(u.getState().min_date)return u.getState().min_date;var e=u.getTaskByTime();return(e=e.sort(function(t,n){return+t.start_date>+n.start_date?1:-1})).length?e[0].start_date:null};var s=function(e,t){var n=!!(t&&t!=u.config.root_id&&u.isTaskExists(t))&&u.getTask(t),a=null;if(n)a=u.config.schedule_from_end?u.calculateEndDate({start_date:n.end_date,duration:-u.config.duration_step,task:e}):n.start_date;else if(u.config.schedule_from_end)a=u.calculateEndDate({start_date:u._getProjectEnd(),duration:-u.config.duration_step,task:e});else{var r=u.getTaskByIndex(0);a=r?r.start_date?r.start_date:r.end_date?u.calculateEndDate({start_date:r.end_date,duration:-u.config.duration_step,task:e}):null:u.config.start_date||u.getState().min_date}return u.assert(a,"Invalid dates"),new Date(a)};u._set_default_task_timing=function(e){e.start_date=e.start_date||s(e,u.getParent(e)),e.duration=e.duration||u.config.duration_step,e.end_date=e.end_date||u.calculateEndDate(e)},u.createTask=function(e,t,n){return e=e||{},u.defined(e.id)||(e.id=u.uid()),e.start_date||(e.start_date=s(e,t)),e.text===void 0&&(e.text=u.locale.labels.new_task),e.duration===void 0&&(e.duration=1),this.isTaskExists(t)&&(this.setParent(e,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[e])?(this.config.details_on_create?(u.isTaskExists(e.id)?u.getTask(e.id).$index!=e.$index&&(e.start_date&&typeof e.start_date=="string"&&(e.start_date=this.date.parseDate(e.start_date,"parse_date")),e.end_date&&typeof e.end_date=="string"&&(e.end_date=this.date.parseDate(e.end_date,"parse_date")),this.$data.tasksStore.updateItem(e.id,e)):(e.$new=!0,this.silent(function(){u.$data.tasksStore.addItem(e,n)})),this.selectTask(e.id),this.refreshData(),this.showLightbox(e.id)):this.addTask(e,t,n)&&(this.showTask(e.id),this.selectTask(e.id)),e.id):null},u._update_flags=function(e,t){var n=u.$data.tasksStore;e===void 0?(this._lightbox_id=null,n.silent(function(){n.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==e&&(this._lightbox_id=t),n.getSelectedId()==e&&n.silent(function(){n.unselect(e),n.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==e&&(this._tasks_dnd.drag.id=t))};var c=function(e,t){var n=u.getTaskType(e.type),a={type:n,$no_start:!1,$no_end:!1};return t||n!=e.$rendered_type?(n==u.config.types.project?a.$no_end=a.$no_start=!0:n!=u.config.types.milestone&&(a.$no_end=!(e.end_date||e.duration),a.$no_start=!e.start_date,u._isAllowedUnscheduledTask(e)&&(a.$no_end=a.$no_start=!1)),a):(a.$no_start=e.$no_start,a.$no_end=e.$no_end,a)};function i(e){e.$effective_calendar=u.getTaskCalendar(e).id,e.start_date=u.getClosestWorkTime({dir:"future",date:e.start_date,unit:u.config.duration_unit,task:e}),e.end_date=u.calculateEndDate(e)}function o(e){var t=null,n=null,a=e!==void 0?e:u.config.root_id,r=[];return u.eachTask(function(l){u.getTaskType(l.type)==u.config.types.project||u.isUnscheduledTask(l)||(l.rollup&&r.push(l.id),l.start_date&&!l.$no_start&&(!t||t>l.start_date.valueOf())&&(t=l.start_date.valueOf()),l.end_date&&!l.$no_end&&(!n||n<l.end_date.valueOf())&&(n=l.end_date.valueOf()))},a),{start_date:t?new Date(t):null,end_date:n?new Date(n):null,rollup:r}}u._init_task_timing=function(e){var t=c(e,!0),n=e.$rendered_type!=t.type,a=t.type;n&&(e.$no_start=t.$no_start,e.$no_end=t.$no_end,e.$rendered_type=t.type),n&&a!=this.config.types.milestone&&a==this.config.types.project&&(this._set_default_task_timing(e),e.$calculate_duration=!1),a==this.config.types.milestone&&(e.end_date=e.start_date),e.start_date&&e.end_date&&e.$calculate_duration!==!1&&(e.duration=this.calculateDuration(e)),e.$calculate_duration||(e.$calculate_duration=!0),e.end_date||(e.end_date=e.start_date),e.duration=e.duration||0,this.config.min_duration===0&&e.duration===0&&(e.$no_end=!1);var r=this.getTaskCalendar(e);e.$effective_calendar&&e.$effective_calendar!==r.id&&(i(e),this.config.inherit_calendar&&this.isSummaryTask(e)&&this.eachTask(function(l){i(l)},e.id)),e.$effective_calendar=r.id},u.isSummaryTask=function(e){u.assert(e&&e instanceof Object,"Invalid argument <b>task</b>="+e+" of gantt.isSummaryTask. Task object was expected");var t=c(e);return!(!t.$no_end&&!t.$no_start)},u.resetProjectDates=function(e){var t=c(e);if(t.$no_end||t.$no_start){var n=o(e.id);(function(a,r,l,d){r.$no_start&&(a.start_date=l?new Date(l):s(a,this.getParent(a))),r.$no_end&&(a.end_date=d?new Date(d):this.calculateEndDate({start_date:a.start_date,duration:this.config.duration_step,task:a})),(r.$no_start||r.$no_end)&&this._init_task_timing(a)}).call(this,e,t,n.start_date,n.end_date),e.$rollup=n.rollup}},u.getSubtaskDuration=function(e){var t=0,n=e!==void 0?e:u.config.root_id;return this.eachTask(function(a){this.getTaskType(a.type)==u.config.types.project||this.isUnscheduledTask(a)||(t+=a.duration)},n),t},u.getSubtaskDates=function(e){var t=o(e);return{start_date:t.start_date,end_date:t.end_date}},u._update_parents=function(e,t,n){if(e){var a=this.getTask(e);a.rollup&&(n=!0);var r=this.getParent(a),l=c(a),d=!0;if(n||a.start_date&&a.end_date&&(l.$no_start||l.$no_end)){var f=a.start_date.valueOf(),g=a.end_date.valueOf();u.resetProjectDates(a),n||f!=a.start_date.valueOf()||g!=a.end_date.valueOf()||(d=!1),d&&!t&&this.refreshTask(a.id,!0)}d&&r&&this.isTaskExists(r)&&this._update_parents(r,t,n)}},u.roundDate=function(e){var t=u.getScale();_.isDate(e)&&(e={date:e,unit:t?t.unit:u.config.duration_unit,step:t?t.step:u.config.duration_step});var n,a,r,l=e.date,d=e.step,f=e.unit;if(!t)return l;if(f==t.unit&&d==t.step&&+l>=+t.min_date&&+l<=+t.max_date)r=Math.floor(u.columnIndexByDate(l)),t.trace_x[r]||(r-=1,t.rtl&&(r=0)),a=new Date(t.trace_x[r]),n=u.date.add(a,d,f);else{for(r=Math.floor(u.columnIndexByDate(l)),n=u.date[f+"_start"](new Date(t.min_date)),t.trace_x[r]&&(n=u.date[f+"_start"](t.trace_x[r]));+n<+l;){var g=(n=u.date[f+"_start"](u.date.add(n,d,f))).getTimezoneOffset();n=u._correct_dst_change(n,g,n,f),u.date[f+"_start"]&&(n=u.date[f+"_start"](n))}a=u.date.add(n,-1*d,f)}return e.dir&&e.dir=="future"?n:e.dir&&e.dir=="past"||Math.abs(l-a)<Math.abs(n-l)?a:n},u.correctTaskWorkTime=function(e){u.config.work_time&&u.config.correct_work_time&&(this.isWorkTime(e.start_date,void 0,e)?this.isWorkTime(new Date(+e.end_date-1),void 0,e)||(e.end_date=this.calculateEndDate(e)):(e.start_date=this.getClosestWorkTime({date:e.start_date,dir:"future",task:e}),e.end_date=this.calculateEndDate(e)))},u.attachEvent("onBeforeTaskUpdate",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onBeforeTaskAdd",function(e,t){return u._init_task_timing(t),!0}),u.attachEvent("onAfterTaskMove",function(e,t,n){return u._init_task_timing(u.getTask(e)),!0})}},function(S,x,h){var _=h(0);S.exports={create:function(u,s){return{getWorkHours:function(c){return s.getWorkHours(c)},setWorkTime:function(c){return s.setWorkTime(c)},unsetWorkTime:function(c){s.unsetWorkTime(c)},isWorkTime:function(c,i,o){return s.isWorkTime(c,i,o)},getClosestWorkTime:function(c){return s.getClosestWorkTime(c)},calculateDuration:function(c,i,o){return s.calculateDuration(c,i,o)},_hasDuration:function(c,i,o){return s.hasDuration(c,i,o)},calculateEndDate:function(c,i,o,e){return s.calculateEndDate(c,i,o,e)},mergeCalendars:_.bind(u.mergeCalendars,u),createCalendar:_.bind(u.createCalendar,u),addCalendar:_.bind(u.addCalendar,u),getCalendar:_.bind(u.getCalendar,u),getCalendars:_.bind(u.getCalendars,u),getResourceCalendar:_.bind(u.getResourceCalendar,u),getTaskCalendar:_.bind(u.getTaskCalendar,u),deleteCalendar:_.bind(u.deleteCalendar,u)}}}},function(S,x){function h(_,u){this.argumentsHelper=u,this.$gantt=_}h.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(_){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date,c=_.unit,i=_.step;return this._calculateDuration(u,s,c,i)},_calculateDuration:function(_,u,s,c){var i=this.$gantt.date,o={week:6048e5,day:864e5,hour:36e5,minute:6e4},e=0;if(o[s])e=Math.round((u-_)/(c*o[s]));else{for(var t=new Date(_),n=new Date(u);t.valueOf()<n.valueOf();)e+=1,t=i.add(t,c,s);t.valueOf()!=u.valueOf()&&(e+=(n-t)/(i.add(t,c,s)-t))}return Math.round(e)},hasDuration:function(){var _=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.end_date;return!!_.unit&&(u=new Date(u),s=new Date(s),u.valueOf()<s.valueOf())},hasWorkTime:function(){return!0},equals:function(_){return _ instanceof h},calculateEndDate:function(){var _=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),u=_.start_date,s=_.duration,c=_.unit,i=_.step;return this.$gantt.date.add(u,i*s,c)}},S.exports=h},function(S,x,h){var _=h(46),u=h(202);function s(c){this.$gantt=c.$gantt,this.argumentsHelper=_(this.$gantt),this.calendarManager=c,this.$disabledCalendar=new u(this.$gantt,this.argumentsHelper)}s.prototype={_getCalendar:function(c){var i;if(this.$gantt.config.work_time){var o=this.calendarManager;c.task?i=o.getTaskCalendar(c.task):c.id?i=o.getTaskCalendar(c):c.calendar&&(i=c.calendar),i||(i=o.getTaskCalendar())}else i=this.$disabledCalendar;return i},getWorkHours:function(c){return c=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getWorkHours(c.date)},setWorkTime:function(c,i){return c=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.setWorkTime(c)},unsetWorkTime:function(c,i){return c=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),i||(i=this.calendarManager.getCalendar()),i.unsetWorkTime(c)},isWorkTime:function(c,i,o,e){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(c){return c=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getClosestWorkTime(c)},calculateDuration:function(){var c=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).calculateDuration(c)},hasDuration:function(){var c=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).hasDuration(c)},calculateEndDate:function(c){return c=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).calculateEndDate(c)}},S.exports=s},function(S,x){S.exports=function(){var h={};return{getCalendarIdFromMultipleResources:function(_,u){var s=function(i){return i.map(function(o){return o&&o.resource_id?o.resource_id:o}).sort().join("-")}(_);if(_.length){if(_.length===1)return u.getResourceCalendar(s).id;if(h[s])return h[s].id;var c=function(i,o){return o.mergeCalendars(i.map(function(e){var t=e&&e.resource_id?e.resource_id:e;return o.getResourceCalendar(t)}))}(_,u);return h[s]=c,u.addCalendar(c)}return null}}}},function(S,x){function h(_){"@babel/helpers - typeof";return(h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(_)}S.exports={isLegacyResourceCalendarFormat:function(_){if(!_)return!1;for(var u in _)if(_[u]&&h(_[u])==="object")return!0;return!1},getResourceProperty:function(_){var u=_.resource_calendars,s=_.resource_property;if(this.isLegacyResourceCalendarFormat(u))for(var c in _){s=c;break}return s},getCalendarIdFromLegacyConfig:function(_,u){if(u)for(var s in u){var c=u[s];if(_[s]){var i=c[_[s]];if(i)return i}}return null}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype._getCacheObject=function(s,c,i){var o=this._cache;o[c]||(o[c]=[]);var e=o[c];e||(e=o[c]={});var t=e[i];t||(t=e[i]={});var n=s.getFullYear(),a=t[n];return a||(a=t[n]={durations:{},endDates:{}}),a},u.prototype._endDateCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype._durationCacheKey=function(s,c){return String(s)+"-"+String(c)},u.prototype.getEndDate=function(s,c,i,o,e){var t,n=this._getCacheObject(s,i,o),a=s.valueOf(),r=this._endDateCacheKey(a,c);if(n.endDates[r]===void 0){var l=e(),d=l.valueOf();n.endDates[r]=d,n.durations[this._durationCacheKey(a,d)]=c,t=l}else t=new Date(n.endDates[r]);return t},u.prototype.getDuration=function(s,c,i,o,e){var t,n=this._getCacheObject(s,i,o),a=s.valueOf(),r=c.valueOf(),l=this._durationCacheKey(a,r);if(n.durations[l]===void 0){var d=e();n.durations[l]=d.valueOf(),t=d}else t=n.durations[l];return t},u.prototype.clear=function(){this._cache={}},u}();x.DateDurationCache=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){return function(u){var s=this;this.getMinutesPerWeek=function(c){var i=c.valueOf();if(s._weekCache.has(i))return s._weekCache.get(i);for(var o=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),a=0;a<7;a++)t+=60*o.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._weekCache.set(i,t),t},this.getMinutesPerMonth=function(c){var i=c.valueOf();if(s._monthCache.has(i))return s._monthCache.get(i);for(var o=s._calendar,e=s._calendar.$gantt,t=0,n=e.date.week_start(new Date(c)),a=e.date.add(n,1,"month").valueOf();n.valueOf()<a;)t+=60*o.getHoursPerDay(n),n=e.date.add(n,1,"day");return s._monthCache.set(i,t),t},this.clear=function(){s._weekCache=new Map,s._monthCache=new Map},this.clear(),this._calendar=u}}();x.LargerUnitsCache=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){var o=this._cache;if(o&&o[s]){var e=o[s];if(e===void 0)return-1;var t=e[i.getFullYear()];if(t&&t[c]!==void 0)return t[c]}return-1},u.prototype.setItem=function(s,c,i,o){if(s&&c){var e=this._cache;if(e){e[s]||(e[s]=[]);var t=e[s],n=o.getFullYear(),a=t[n];a||(a=t[n]={}),a[c]=i}}},u.prototype.clear=function(){this._cache={}},u}();x.WorkUnitsObjectCache=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(){this.clear()}return u.prototype.getItem=function(s,c,i){if(this._cache.has(s)){var o=this._cache.get(s)[i.getFullYear()];if(o&&o.has(c))return o.get(c)}return-1},u.prototype.setItem=function(s,c,i,o){if(s&&c){var e,t=this._cache,n=o.getFullYear();t.has(s)?e=t.get(s):(e=[],t.set(s,e));var a=e[n];a||(a=e[n]=new Map),a.set(c,i)}},u.prototype.clear=function(){this._cache=new Map},u}();x.WorkUnitsMapCache=_},function(S,x,h){function _(e){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}var u=h(45).createCacheObject,s=h(45).LargerUnitsCache,c=h(0),i=h(206).DateDurationCache;function o(e,t){this.argumentsHelper=t,this.$gantt=e,this._workingUnitsCache=u(),this._largeUnitsCache=new s(this),this._dateDurationCache=new i,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}o.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(e){for(var t=0,n=this.units.length;t<n;t++)if(this.units[t]==e)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(e){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(e.day||e.day===0)t=e.day;else if(e.date){var n=String(e.date.valueOf());this._cached_timestamps[n]?t=this._cached_timestamps[n]:(t=Date.UTC(e.date.getFullYear(),e.date.getMonth(),e.date.getDate()),this._cached_timestamps[n]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(e,t){if(!this["_is_work_"+t]){var n=this.$gantt.date["".concat(t,"_start")](new Date(e)),a=this.$gantt.date.add(n,1,t);return this.hasDuration(n,a)}return this["_is_work_"+t](e)},_is_work_day:function(e){var t=this._getWorkHours(e);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(e){for(var t=this._getWorkHours(e),n=e.getHours(),a=0;a<t.length;a++)if(n>=t[a].startHour&&n<t[a].endHour)return!0;return!1},_getTimeOfDayStamp:function(e,t){var n=e.getHours();return e.getHours()||e.getMinutes()||!t||(n=24),60*n*60+60*e.getMinutes()},_is_work_minute:function(e){for(var t=this._getWorkHours(e),n=this._getTimeOfDayStamp(e),a=0;a<t.length;a++)if(n>=t[a].start&&n<t[a].end)return!0;return!1},_nextDate:function(e,t,n){return this.$gantt.date.add(e,n,t)},_getWorkUnitsBetweenGeneric:function(e,t,n,a){var r=this.$gantt.date,l=new Date(e),d=new Date(t);a=a||1;var f,g,p=0,v=null,y=!1;(f=r[n+"_start"](new Date(l))).valueOf()!=l.valueOf()&&(y=!0);var m=!1;(g=r[n+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(m=!0);for(var b=!1;l.valueOf()<d.valueOf();){if(b=(v=this._nextDate(l,n,a)).valueOf()>d.valueOf(),this._isWorkTime(l,n))(y||m&&b)&&(f=r[n+"_start"](new Date(l)),g=r.add(f,a,n)),y?(y=!1,v=this._nextDate(f,n,a),p+=(g.valueOf()-l.valueOf())/(g.valueOf()-f.valueOf())):m&&b?(m=!1,p+=(d.valueOf()-l.valueOf())/(g.valueOf()-f.valueOf())):p++;else{var k=this._getUnitOrder(n),C=this.units[k-1];C&&!this._isWorkTime(l,C)&&(v=this._getClosestWorkTimeFuture(l,C))}l=v}return p},_getMinutesPerHour:function(e){var t=this._getTimeOfDayStamp(e),n=this._getTimeOfDayStamp(this._nextDate(e,"hour",1));n===0&&(n=86400);for(var a=this._getWorkHours(e),r=0;r<a.length;r++){var l=a[r];if(t>=l.start&&n<=l.end)return 60;if(t<l.end&&n>l.start)return(Math.min(n,l.end)-Math.max(t,l.start))/60}return 0},_getMinutesPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationMinutes}),t},getHoursPerDay:function(e){var t=0;return this._getWorkHours(e).forEach(function(n){t+=n.durationHours}),t},_getWorkUnitsForRange:function(e,t,n,a){var r,l=0,d=new Date(e),f=new Date(t);for(r=n=="minute"?c.bind(this._getMinutesPerDay,this):c.bind(this.getHoursPerDay,this);d.valueOf()<f.valueOf();)if(f-d>27648e5&&d.getDate()===0){var g=this._largeUnitsCache.getMinutesPerMonth(d);n=="hour"&&(g/=60),l+=g,d=this.$gantt.date.add(d,1,"month")}else{if(f-d>13824e5){var p=this.$gantt.date.week_start(new Date(d));if(d.valueOf()===p.valueOf()){g=this._largeUnitsCache.getMinutesPerWeek(d),n=="hour"&&(g/=60),l+=g,d=this.$gantt.date.add(d,7,"day");continue}}l+=r(d),d=this._nextDate(d,"day",1)}return l/a},_getMinutesBetweenSingleDay:function(e,t){for(var n=this._getIntervalTimestamp(e,t),a=this._getWorkHours(e),r=0,l=0;l<a.length;l++){var d=a[l];if(n.end>=d.start&&n.start<=d.end){var f=Math.max(d.start,n.start),g=Math.min(d.end,n.end);r+=(g-f)/60,n.start=g}}return Math.floor(r)},_getMinutesBetween:function(e,t,n,a){var r=new Date(e),l=new Date(t);a=a||1;var d=new Date(r),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(l.valueOf()<=f.valueOf())return this._getMinutesBetweenSingleDay(e,t);var g=this.$gantt.date.day_start(new Date(l)),p=l,v=this._getMinutesBetweenSingleDay(d,f),y=this._getMinutesBetweenSingleDay(g,p);return v+this._getWorkUnitsForRange(f,g,n,a)+y},_getHoursBetween:function(e,t,n,a){var r=new Date(e),l=new Date(t);a=a||1;var d=new Date(r),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(r)),1,"day");if(l.valueOf()<=f.valueOf())return Math.round(this._getMinutesBetweenSingleDay(e,t)/60);var g=this.$gantt.date.day_start(new Date(l)),p=l,v=this._getMinutesBetweenSingleDay(d,f,n,a)/60,y=this._getMinutesBetweenSingleDay(g,p,n,a)/60,m=v+this._getWorkUnitsForRange(f,g,n,a)+y;return Math.round(m)},getConfig:function(){return this._worktime},_setConfig:function(e){this._worktime=e,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var e=this.getConfig();for(var t in e.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},e.parsed.hours=this._parseHours(e.hours),e.dates)e.parsed.dates[t]=this._parseHours(e.dates[t]);if(e.customWeeks){var n=null,a=null;for(var t in e.customWeeks){var r=e.customWeeks[t];if(r.from&&r.to){var l=r.from,d=r.to;(!n||n>l.valueOf())&&(n=l.valueOf()),(!a||a<d.valueOf())&&(a=d.valueOf()),e.parsed.customWeeksBoundaries.push({from:l.valueOf(),fromReadable:new Date(l),to:d.valueOf(),toReadable:new Date(d),name:t}),e.parsed.haveCustomWeeks=!0;var f=e.parsed.customWeeks[t]={from:r.from,to:r.to,hours:this._parseHours(r.hours),dates:{}};for(var g in r.dates)f.dates[g]=this._parseHours(r.dates[g])}}e.parsed.customWeeksRangeStart=n,e.parsed.customWeeksRangeEnd=a}},_tryChangeCalendarSettings:function(e){var t=JSON.stringify(this.getConfig());return e(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(e,t){if(e===t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0},_compareSettings:function(e,t){if(!this._arraysEqual(e.hours,t.hours))return!1;var n=Object.keys(e.dates),a=Object.keys(t.dates);if(n.sort(),a.sort(),!this._arraysEqual(n,a))return!1;for(var r=0;r<n.length;r++){var l=n[r],d=e.dates[l],f=e.dates[l];if(d!==f&&!(Array.isArray(d)&&Array.isArray(f)&&this._arraysEqual(d,f)))return!1}return!0},equals:function(e){if(!(e instanceof o))return!1;var t=this.getConfig(),n=e.getConfig();if(!this._compareSettings(t,n))return!1;if(t.parsed.haveCustomWeeks&&n.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=n.parsed.customWeeksBoundaries.length)return!1;for(var a in t.parsed.customWeeks){var r=t.parsed.customWeeks[a],l=n.parsed.customWeeks[a];if(!l||!this._compareSettings(r,l))return!1}}else if(t.parse.haveCustomWeeks!==n.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var e=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(e.date,!1)},_getWorkHours:function(e,t){var n=this.getConfig();if(t!==!1&&(n=n.parsed),!e)return n.hours;var a=this._timestamp({date:e});if(n.haveCustomWeeks&&n.customWeeksRangeStart<=a&&n.customWeeksRangeEnd>a){for(var r=0;r<n.customWeeksBoundaries.length;r++)if(n.customWeeksBoundaries[r].from<=a&&n.customWeeksBoundaries[r].to>a){n=n.customWeeks[n.customWeeksBoundaries[r].name];break}}var l=!0;return n.dates[a]!==void 0?l=n.dates[a]:n.dates[e.getDay()]!==void 0&&(l=n.dates[e.getDay()]),l===!0?n.hours:l||[]},_getIntervalTimestamp:function(e,t){var n={start:0,end:0};n.start=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds();var a=t.getHours();return!a&&!t.getMinutes()&&!t.getSeconds()&&e.valueOf()<t.valueOf()&&(a=24),n.end=60*a*60+60*t.getMinutes()+t.getSeconds(),n},_parseHours:function(e){if(Array.isArray(e)){var t=[];e.forEach(function(f){typeof f=="number"?t.push(60*f*60):typeof f=="string"&&f.split("-").map(function(g){return g.trim()}).forEach(function(g){var p=g.split(":").map(function(y){return y.trim()}),v=parseInt(60*p[0]*60);p[1]&&(v+=parseInt(60*p[1])),p[2]&&(v+=parseInt(p[2])),t.push(v)})});for(var n=[],a=0;a<t.length;a+=2){var r=t[a],l=t[a+1],d=l-r;n.push({start:r,end:l,startHour:Math.floor(r/3600),startMinute:Math.floor(r/60),endHour:Math.ceil(l/3600),endMinute:Math.ceil(l/60),durationSeconds:d,durationMinutes:d/60,durationHours:d/3600})}return n}return e},setWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){var t=e.hours===void 0||e.hours,n=this._timestamp(e),a=this.getConfig();if(n!==null?a.dates[n]=t:e.customWeeks||(a.hours=t),e.customWeeks){if(a.customWeeks||(a.customWeeks={}),typeof e.customWeeks=="string")n!==null?a.customWeeks[e.customWeeks].dates[n]=t:e.customWeeks||(a.customWeeks[e.customWeeks].hours=t);else if(_(e.customWeeks)==="object"&&Function.prototype.toString.call(e.customWeeks.constructor)==="function Object() { [native code] }")for(var r in e.customWeeks)a.customWeeks[r]=e.customWeeks[r]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(e){return this._tryChangeCalendarSettings(c.bind(function(){if(e){var t=this._timestamp(e);t!==null&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(e,t){var n=-1,a=null;return a=String(e.valueOf()),(n=this._workingUnitsCache.getItem(t,a,e))==-1&&(n=this._checkIfWorkingUnit(e,t),this._workingUnitsCache.setItem(t,a,n,e)),n},isWorkTime:function(){var e=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(e.date,e.unit)},calculateDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!e.unit)return!1;var t=this;return this._dateDurationCache.getDuration(e.start_date,e.end_date,e.unit,e.step,function(){return t._calculateDuration(e.start_date,e.end_date,e.unit,e.step)})},_calculateDuration:function(e,t,n,a){var r=0,l=1;if(e.valueOf()>t.valueOf()){var d=t;t=e,e=d,l=-1}return r=n=="hour"&&a==1?this._getHoursBetween(e,t,n,a):n=="minute"&&a==1?this._getMinutesBetween(e,t,n,a):this._getWorkUnitsBetweenGeneric(e,t,n,a),l*Math.round(r)},hasDuration:function(){var e=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.end_date,a=e.unit,r=e.step;if(!a)return!1;var l=new Date(t),d=new Date(n);for(r=r||1;l.valueOf()<d.valueOf();){if(this._isWorkTime(l,a))return!0;l=this._nextDate(l,a,r)}return!1},calculateEndDate:function(){var e=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=e.start_date,n=e.duration,a=e.unit,r=e.step;if(!a)return!1;var l=e.duration>=0?1:-1;n=Math.abs(1*n);var d=this;return this._dateDurationCache.getEndDate(t,n,a,r*l,function(){return d._calculateEndDate(t,n,a,r*l)})},_calculateEndDate:function(e,t,n,a){return!!n&&(a==1&&n=="minute"?this._calculateMinuteEndDate(e,t,a):a==-1&&n=="minute"?this._subtractMinuteDate(e,t,a):a==1&&n=="hour"?this._calculateHourEndDate(e,t,a):this._addInterval(e,t,n,a,null).end)},_addInterval:function(e,t,n,a,r){for(var l=0,d=e,f=!1;l<t&&(!r||!r(d));){var g=this._nextDate(d,n,a);n=="day"&&(f=f||!d.getHours()&&g.getHours())&&(g.setHours(0),g.getHours()||(f=!1));var p=new Date(g.valueOf()+1);a>0&&(p=new Date(g.valueOf()-1)),this._isWorkTime(p,n)&&!f&&l++,d=g}return{end:d,start:e,added:l}},_addHoursUntilDayEnd:function(e,t){for(var n=this.$gantt.date.add(this.$gantt.date.day_start(new Date(e)),1,"day"),a=0,r=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),f=0;f<d.length&&a<t;f++){var g=d[f];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),v=Math.min(g.end,l.end),y=(v-p)/3600;y>r&&(y=r,v=p+60*r*60);var m=Math.round((v-p)/3600);a+=m,r-=m,l.start=v}}var b=n;return a===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:a,end:b}},_calculateHourEndDate:function(e,t,n){var a=new Date(e),r=0;n=n||1,t=Math.abs(1*t);var l=this._addHoursUntilDayEnd(a,t);if(r=l.added,a=l.end,p=t-r){for(var d=a;r<t;){var f=this._nextDate(d,"day",n);f.setHours(0),f.setMinutes(0),f.setSeconds(0);var g=0;if(r+(g=n>0?this.getHoursPerDay(new Date(f.valueOf()-1)):this.getHoursPerDay(new Date(f.valueOf()+1)))>=t)break;r+=g,d=f}a=d}if(r<t){var p=t-r;a=(l=this._addHoursUntilDayEnd(a,p)).end}return a},_addMinutesUntilHourEnd:function(e,t){if(e.getMinutes()===0)return{added:0,end:new Date(e)};for(var n=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(e)),1,"hour"),a=0,r=t,l=this._getIntervalTimestamp(e,n),d=this._getWorkHours(e),f=0;f<d.length&&a<t;f++){var g=d[f];if(l.end>=g.start&&l.start<=g.end){var p=Math.max(g.start,l.start),v=Math.min(g.end,l.end),y=(v-p)/60;y>r&&(y=r,v=p+60*r);var m=Math.round((v-p)/60);r-=m,a+=m,l.start=v}}var b=n;return a===t&&(b=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,l.start)),{added:a,end:b}},_subtractMinutesUntilHourStart:function(e,t){for(var n=this.$gantt.date.hour_start(new Date(e)),a=0,r=t,l=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),d=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),f=this._getWorkHours(e),g=f.length-1;g>=0&&a<t;g--){var p=f[g];if(d>p.start&&l<=p.end){var v=Math.min(d,p.end),y=Math.max(l,p.start),m=(v-y)/60;m>r&&(m=r,y=v-60*r);var b=Math.abs(Math.round((v-y)/60));r-=b,a+=b,d=y}}var k=n;return a===t&&(k=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,d)),{added:a,end:k}},_subtractMinuteDate:function(e,t,n){var a=new Date(e),r=0;n=n||-1,t=Math.abs(1*t),t=Math.round(t);var l=this._isMinutePrecision(a),d=this._subtractMinutesUntilHourStart(a,t);r+=d.added,a=d.end;for(var f=0,g=[],p=0;r<t;){var v=this.$gantt.date.day_start(new Date(a)),y=!1;a.valueOf()===v.valueOf()&&(v=this.$gantt.date.add(v,-1,"day"),y=!0);var m=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999).valueOf();m!==f&&(g=this._getWorkHours(v),p=this._getMinutesPerDay(v),f=m);var b=t-r,k=this._getTimeOfDayStamp(a,y);if(g.length&&p)if(g[g.length-1].end<=k&&b>p)r+=p,a=this.$gantt.date.add(a,-1,"day");else{for(var C=!1,w=null,T=g.length-1;T>=0;T--)if(g[T].start<k-1&&g[T].end>=k-1){C=!0,w=g[T];break}if(C)if(k===w.end&&b>=w.durationMinutes)r+=w.durationMinutes,a=this.$gantt.date.add(a,-w.durationMinutes,"minute");else if(!l&&b<=k/60-w.startMinute)r+=b,a=this.$gantt.date.add(a,-b,"minute");else if(l){var E=this._getClosestWorkTime(this._nextDate(a,"hour",n),"hour"),P=this._getMinutesPerHour(E);b<P&&P<=60?(P=b,a=this.$gantt.date.add(a,-P,"minute")):a=E,r+=P}else{var j=this._getMinutesPerHour(a);j<=b?(r+=j,a=this._nextDate(a,"hour",n)):(r+=(d=this._subtractMinutesUntilHourStart(a,b)).added,a=d.end)}else if(a.getHours()===0&&a.getMinutes()===0&&a.getSeconds()===0){if((N=this._getClosestWorkTimePast(a,"hour")).valueOf()===a.valueOf()){var N=this.$gantt.date.add(a,-1,"day"),L=this._getWorkHours(N);if(L.length){var B=L[L.length-1];N.setSeconds(B.durationSeconds)}}a=N}else a=this._getClosestWorkTimePast(new Date(a-1),"hour")}else a=this.$gantt.date.add(a,-1,"day")}if(r<t){var I=t-r;r+=(d=this._subtractMinutesUntilHourStart(a,I)).added,a=d.end}return a},_calculateMinuteEndDate:function(e,t,n){var a=new Date(e),r=0;n=n||1,t=Math.abs(1*t),t=Math.round(t);var l=this._addMinutesUntilHourEnd(a,t);r+=l.added,a=l.end;for(var d=0,f=[],g=0,p=this._isMinutePrecision(a);r<t;){var v=this.$gantt.date.day_start(new Date(a)).valueOf();v!==d&&(f=this._getWorkHours(a),g=this._getMinutesPerDay(a),d=v);var y=t-r,m=this._getTimeOfDayStamp(a);if(f.length&&g)if(f[0].start>=m&&y>=g){if(r+=g,y==g){a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,f[f.length-1].end);break}a=this.$gantt.date.add(a,1,"day"),a=this.$gantt.date.day_start(a)}else{for(var b=!1,k=null,C=0;C<f.length;C++)if(f[C].start<=m&&f[C].end>m){b=!0,k=f[C];break}if(b)if(m===k.start&&y>=k.durationMinutes)r+=k.durationMinutes,a=this.$gantt.date.add(a,k.durationMinutes,"minute");else if(y<=k.endMinute-m/60)r+=y,a=this.$gantt.date.add(a,y,"minute");else{var w=this._getMinutesPerHour(a);w<=y?(r+=w,a=p?this.$gantt.date.add(a,w,"minute"):this._nextDate(a,"hour",n)):(r+=(l=this._addMinutesUntilHourEnd(a,y)).added,a=l.end)}else a=this._getClosestWorkTimeFuture(a,"hour")}else a=this.$gantt.date.add(this.$gantt.date.day_start(a),1,"day")}if(r<t){var T=t-r;r+=(l=this._addMinutesUntilHourEnd(a,T)).added,a=l.end}return a},getClosestWorkTime:function(){var e=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(e.date,e.unit,e.dir)},_getClosestWorkTime:function(e,t,n){var a=new Date(e);if(this._isWorkTime(a,t))return a;if(a=this.$gantt.date[t+"_start"](a),n!="any"&&n)a=n=="past"?this._getClosestWorkTimePast(a,t):this._getClosestWorkTimeFuture(a,t);else{var r=this._getClosestWorkTimeFuture(a,t),l=this._getClosestWorkTimePast(a,t);a=Math.abs(r-e)<=Math.abs(e-l)?r:l}return a},_getClosestWorkTimeFuture:function(e,t){return this._getClosestWorkTimeGeneric(e,t,1)},_getClosestWorkTimePast:function(e,t){var n=this._getClosestWorkTimeGeneric(e,t,-1);return this.$gantt.date.add(n,1,t)},_findClosestTimeInDay:function(e,t,n){var a=new Date(e),r=null,l=!1;this._getWorkHours(a).length||(a=this._getClosestWorkTime(a,"day",t<0?"past":"future"),t<0&&(a=new Date(a.valueOf()-1),l=!0),n=this._getWorkHours(a));var d=this._getTimeOfDayStamp(a);if(l&&(d=this._getTimeOfDayStamp(new Date(a.valueOf()+1),l)),t>0){for(var f=0;f<n.length;f++)if(n[f].start>=d){r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,n[f].start);break}}else for(f=n.length-1;f>=0;f--){if(n[f].end<=d){r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,n[f].end);break}if(n[f].end>d&&n[f].start<=d){r=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,d);break}}return r},_getClosestWorkMinute:function(e,t,n){var a=new Date(e),r=this._getWorkHours(a),l=this._findClosestTimeInDay(a,n,r);return l||(a=this.calculateEndDate(a,n,"day"),n>0?a=this.$gantt.date.day_start(a):(a=this.$gantt.date.day_start(a),a=this.$gantt.date.add(a,1,"day"),a=new Date(a.valueOf()-1)),r=this._getWorkHours(a),l=this._findClosestTimeInDay(a,n,r)),n<0&&(l=this.$gantt.date.add(l,-1,t)),l},_getClosestWorkTimeGeneric:function(e,t,n){if(t==="hour"||t==="minute")return this._getClosestWorkMinute(e,t,n);for(var a=this._getUnitOrder(t),r=this.units[a-1],l=e,d=0;!this._isWorkTime(l,t)&&(!r||this._isWorkTime(l,r)||(l=n>0?this._getClosestWorkTimeFuture(l,r):this._getClosestWorkTimePast(l,r),!this._isWorkTime(l,t)));){if(++d>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var f=l.getTimezoneOffset();l=this.$gantt.date.add(l,n,t),l=this.$gantt._correct_dst_change(l,f,n,t),this.$gantt.date[t+"_start"]&&(l=this.$gantt.date[t+"_start"](l))}return l},hasWorkTime:function(){var e=this.getConfig(),t=e.dates,n=[];for(var a in e.dates)Number(a)>6&&n.push(Number(a));var r=this._checkWorkHours(e.hours),l=!1;return[0,1,2,3,4,5,6].forEach((function(d){if(!l){var f=t[d];f===!0?l=r:Array.isArray(f)&&(l=this._checkWorkHours(f))}}).bind(this)),l},_checkWorkHours:function(e){if(e.length===0)return!1;for(var t=!1,n=0;n<e.length;n+=2)e[n]!==e[n+1]&&(t=!0);return t},_isMinutePrecision:function(e){var t=!1;return this._getWorkHours(e).forEach(function(n){(n.startMinute%60||n.endMinute%60)&&(t=!0)}),t}},S.exports=o},function(S,x,h){var _=h(0);function u(){}u.prototype={_getIntervals:function(s){for(var c=[],i=0;i<s.length;i+=2)c.push({start:s[i],end:s[i+1]});return c},_toHoursArray:function(s){var c=[];function i(e){var t=Math.floor(e/3600),n=e-60*t*60;return t+":"+function(a){var r=String(a);return r.length<2&&(r="0"+r),r}(Math.floor(n/60))}for(var o=0;o<s.length;o++)c.push(i(s[o].start)+"-"+i(s[o].end));return c},_intersectHourRanges:function(s,c){var i=[],o=s.length>c.length?s:c,e=s===o?c:s;o=o.slice(),e=e.slice(),i=[];for(var t=0;t<o.length;t++)for(var n=o[t],a=0;a<e.length;a++){var r=e[a];r.start<n.end&&r.end>n.start&&(i.push({start:Math.max(n.start,r.start),end:Math.min(n.end,r.end)}),n.end>r.end&&(e.splice(a,1),a--,t--))}return i},_mergeAdjacentIntervals:function(s){var c=s.slice();c.sort(function(t,n){return t.start-n.start});for(var i=c[0],o=1;o<c.length;o++){var e=c[o];e.start<=i.end?(e.end>i.end&&(i.end=e.end),c.splice(o,1),o--):i=e}return c},_mergeHoursConfig:function(s,c){return this._mergeAdjacentIntervals(this._intersectHourRanges(s,c))},merge:function(s,c){var i=_.copy(s.getConfig().parsed),o=_.copy(c.getConfig().parsed),e={hours:this._toHoursArray(this._mergeHoursConfig(i.hours,o.hours)),dates:{},customWeeks:{}};for(var t in i.dates){var n=i.dates[t],a=o.dates[t];if(n&&a)if(Array.isArray(n)||Array.isArray(a)){var r=Array.isArray(n)?n:i.hours,l=Array.isArray(a)?a:o.hours;e.dates[t]=this._toHoursArray(this._mergeHoursConfig(r,l))}else e.dates[t]=!0;else e.dates[t]=!1}if(i.customWeeks)for(var t in i.customWeeks)e.customWeeks[t]=i.customWeeks[t];if(o.customWeeks)for(var t in o.customWeeks)e.customWeeks[t]=o.customWeeks[t];return e}},S.exports=u},function(S,x,h){var _=h(0),u=h(46),s=h(211),c=h(210),i=h(205),o=h(204)();function e(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",(function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=i.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}).bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",(function(){this.createDefaultCalendars()}).bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",(function(){this.createDefaultCalendars()}).bind(this))}e.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var n=t.days;if(n&&!t.dates){t.dates=t.dates||{};for(var a=0;a<n.length;a++)t.dates[a]=n[a],n[a]instanceof Array||(t.dates[a]=!!n[a])}return delete t.days,t},mergeCalendars:function(){var t=[],n=arguments;if(Array.isArray(n[0]))t=n[0].slice();else for(var a=0;a<arguments.length;a++)t.push(arguments[a]);var r,l=new s;return t.forEach((function(d){r=r?this._createCalendarFromConfig(l.merge(r,d)):d}).bind(this)),this.createCalendar(r)},_createCalendarFromConfig:function(t){var n=new c(this.$gantt,u(this.$gantt));n.id=String(_.uid());var a=this._convertWorkTimeSettings(t);if(a.customWeeks)for(var r in a.customWeeks)a.customWeeks[r]=this._convertWorkTimeSettings(a.customWeeks[r]);return n._setConfig(a),n},createCalendar:function(t){var n;t||(t={}),n=t.getConfig?_.copy(t.getConfig()):t.worktime?_.copy(t.worktime):_.copy(t);var a=_.copy(this.defaults.fulltime.worktime);return _.mixin(n,a),this._createCalendarFromConfig(n)},getCalendar:function(t){t=t||"global";var n=this._calendars[t];return n||(this.createDefaultCalendars(),n=this._calendars[t]),n},getCalendars:function(){var t=[];for(var n in this._calendars)t.push(this.getCalendar(n));return t},_getOwnCalendar:function(t){var n=this.$gantt.config;if(t[n.calendar_property])return this.getCalendar(t[n.calendar_property]);if(n.resource_calendars){var a;if(a=this._legacyConfig===!1?n.resource_property:i.getResourceProperty(n),Array.isArray(t[a]))n.dynamic_resource_calendars&&(r=o.getCalendarIdFromMultipleResources(t[a],this));else if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(n.resource_calendars)),this._legacyConfig)var r=i.getCalendarIdFromLegacyConfig(t,n.resource_calendars);else if(a&&t[a]&&n.resource_calendars[t[a]])var l=this.getResourceCalendar(t[a]);if(r&&(l=this.getCalendar(r)),l)return l}return null},getResourceCalendar:function(t){if(t==null)return this.getCalendar();var n=null;n=typeof t=="number"||typeof t=="string"?t:t.id||t.key;var a=this.$gantt.config,r=a.resource_calendars,l=null;if(r){if(this._legacyConfig===void 0&&(this._legacyConfig=i.isLegacyResourceCalendarFormat(a.resource_calendars)),this._legacyConfig){for(var d in r)if(r[d][n]){l=r[d][n];break}}else l=r[n];if(l)return this.getCalendar(l)}return this.getCalendar()},getTaskCalendar:function(t){var n,a=this.$gantt;if(t==null)return this.getCalendar();if(!(n=typeof t!="number"&&typeof t!="string"||!a.isTaskExists(t)?t:a.getTask(t)))return this.getCalendar();var r=this._getOwnCalendar(n),l=!!a.getState().group_mode;if(!r&&a.config.inherit_calendar&&a.isTaskExists(n.parent)){for(var d=n;a.isTaskExists(d.parent)&&(d=a.getTask(d.parent),!a.isSummaryTask(d)||!(r=this._getOwnCalendar(d))););l&&!r&&t.$effective_calendar&&(r=this.getCalendar(t.$effective_calendar))}return r||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var n=t.id;(t=this.createCalendar(t)).id=n}if(t._tryChangeCalendarSettings(function(){})){var a=this.$gantt.config;return t.id=t.id||_.uid(),this._calendars[t.id]=t,a.worktimes||(a.worktimes={}),a.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var n=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],n.worktimes&&n.worktimes[t]&&delete n.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var n in t)if(!this._calendars[n]){var a=t[n],r=this.createCalendar(a);r.id=n,this.addCalendar(r)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(n){return n instanceof Function})}},S.exports=e},function(S,x,h){var _=h(212),u=h(203),s=h(201),c=h(0);S.exports=function(i){var o=new _(i),e=new u(o),t=s.create(o,e);c.mixin(i,t)}},function(S,x,h){function _(s){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(s)}var u=h(2);S.exports=function(s){function c(i){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(i)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(i))}s.load=function(i,o,e){this._load_url=i,this.assert(arguments.length,"Invalid load arguments");var t="json",n=null;return arguments.length>=3?(t=o,n=e):typeof arguments[1]=="string"?t=arguments[1]:typeof arguments[1]=="function"&&(n=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[i,t]),this.ajax.get(i,s.bind(function(a){this.on_load(a,t),this.callEvent("onLoadEnd",[i,t]),typeof n=="function"&&n.call(this)},this))},s.parse=function(i,o){this.on_load({xmlDoc:{responseText:i}},o)},s.serialize=function(i){return this[i=i||"json"].serialize()},s.on_load=function(i,o){if(i.xmlDoc&&i.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+i.xmlDoc.responseURL+"' target='_blank'>"+i.xmlDoc.responseURL+"</a>, server returns 404");else if(!s.$destroyed){this.callEvent("onBeforeParse",[]),o||(o="json"),this.assert(this[o],"Invalid data type:'"+o+"'");var e=i.xmlDoc.responseText,t=this[o].parse(e,i);this._process_loading(t)}},s._process_loading=function(i){i.collections&&this._load_collections(i.collections),i.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(i.resources);var o=i.data||i.tasks;i.assignments&&function(t,n){var a={};n.forEach(function(r){a[r.task_id]||(a[r.task_id]=[]),a[r.task_id].push(r)}),t.forEach(function(r){r[s.config.resource_property]=a[r.id]||[]})}(o,i.assignments),this.$data.tasksStore.parse(o);var e=i.links||(i.collections?i.collections.links:[]);this.$data.linksStore.parse(e),this.callEvent("onParse",[]),this.render()},s._load_collections=function(i){var o=!1;for(var e in i)if(i.hasOwnProperty(e)){o=!0;var t=i[e];this.serverList[e]=this.serverList[e]||[];var n=this.serverList[e];if(!n)continue;n.splice(0,n.length);for(var a=0;a<t.length;a++){var r=t[a],l=this.copy(r);for(var d in l.key=l.value,r)if(r.hasOwnProperty(d)){if(d=="value"||d=="label")continue;l[d]=r[d]}n.push(l)}}o&&this.callEvent("onOptionsLoad",[])},s.attachEvent("onBeforeTaskDisplay",function(i,o){return!o.$ignore}),s.json={parse:function(i){if(i||c(i),typeof i=="string")if((typeof JSON>"u"?"undefined":_(JSON))!=null)try{i=JSON.parse(i)}catch{c(i)}else s.assert(!1,"JSON is not supported");return i.data||i.tasks||c(i),i.dhx_security&&(s.security_key=i.dhx_security),i},serializeTask:function(i){return this._copyObject(i)},serializeLink:function(i){return this._copyLink(i)},_copyLink:function(i){var o={};for(var e in i)o[e]=i[e];return o},_copyObject:function(i){var o={};for(var e in i)e.charAt(0)!="$"&&(o[e]=i[e],u.isDate(o[e])&&(o[e]=s.defined(s.templates.xml_format)?s.templates.xml_format(o[e]):s.templates.format_date(o[e])));return o},serialize:function(){var i=[],o=[];s.eachTask(function(n){s.resetProjectDates(n),i.push(this.serializeTask(n))},s.config.root_id,this);for(var e=s.getLinks(),t=0;t<e.length;t++)o.push(this.serializeLink(e[t]));return{data:i,links:o}}},s.xml={_xmlNodeToJSON:function(i,o){for(var e={},t=0;t<i.attributes.length;t++)e[i.attributes[t].name]=i.attributes[t].value;if(!o){for(t=0;t<i.childNodes.length;t++){var n=i.childNodes[t];n.nodeType==1&&(e[n.tagName]=n.firstChild?n.firstChild.nodeValue:"")}e.text||(e.text=i.firstChild?i.firstChild.nodeValue:"")}return e},_getCollections:function(i){for(var o={},e=s.ajax.xpath("//coll_options",i),t=0;t<e.length;t++)for(var n=o[e[t].getAttribute("for")]=[],a=s.ajax.xpath(".//item",e[t]),r=0;r<a.length;r++){for(var l=a[r].attributes,d={key:a[r].getAttribute("value"),label:a[r].getAttribute("label")},f=0;f<l.length;f++){var g=l[f];g.nodeName!="value"&&g.nodeName!="label"&&(d[g.nodeName]=g.nodeValue)}n.push(d)}return o},_getXML:function(i,o,e){e=e||"data",o.getXMLTopNode||(o=s.ajax.parse(o));var t=s.ajax.xmltop(e,o.xmlDoc);t&&t.tagName==e||function(a){throw s.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(a)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(a))}(i);var n=t.getAttribute("dhx_security");return n&&(s.security_key=n),t},parse:function(i,o){o=this._getXML(i,o);for(var e={},t=e.data=[],n=s.ajax.xpath("//task",o),a=0;a<n.length;a++)t[a]=this._xmlNodeToJSON(n[a]);return e.collections=this._getCollections(o),e},_copyLink:function(i){return"<item id='"+i.id+"' source='"+i.source+"' target='"+i.target+"' type='"+i.type+"' />"},_copyObject:function(i){return"<task id='"+i.id+"' parent='"+(i.parent||"")+"' start_date='"+i.start_date+"' duration='"+i.duration+"' open='"+!!i.open+"' progress='"+i.progress+"' end_date='"+i.end_date+"'><![CDATA["+i.text+"]]></task>"},serialize:function(){for(var i=[],o=[],e=s.json.serialize(),t=0,n=e.data.length;t<n;t++)i.push(this._copyObject(e.data[t]));for(t=0,n=e.links.length;t<n;t++)o.push(this._copyLink(e.links[t]));return"<data>"+i.join("")+"<coll_options for='links'>"+o.join("")+"</coll_options></data>"}},s.oldxml={parse:function(i,o){o=s.xml._getXML(i,o,"projects");for(var e={collections:{links:[]}},t=e.data=[],n=s.ajax.xpath("//task",o),a=0;a<n.length;a++){t[a]=s.xml._xmlNodeToJSON(n[a]);var r=n[a].parentNode;r.tagName=="project"?t[a].parent="project-"+r.getAttribute("id"):t[a].parent=r.parentNode.getAttribute("id")}for(n=s.ajax.xpath("//project",o),a=0;a<n.length;a++)(l=s.xml._xmlNodeToJSON(n[a],!0)).id="project-"+l.id,t.push(l);for(a=0;a<t.length;a++){var l;(l=t[a]).start_date=l.startdate||l.est,l.end_date=l.enddate,l.text=l.name,l.duration=l.duration/8,l.open=1,l.duration||l.end_date||(l.duration=1),l.predecessortasks&&e.collections.links.push({target:l.id,source:l.predecessortasks,type:s.config.links.finish_to_start})}return e},serialize:function(){s.message("Serialization to 'old XML' is not implemented")}},s.serverList=function(i,o){return o?this.serverList[i]=o.slice(0):this.serverList[i]||(this.serverList[i]=[]),this.serverList[i]}}},function(S,x){S.exports=function(h){h.isReadonly=function(_){return typeof _!="number"&&typeof _!="string"||!h.isTaskExists(_)||(_=h.getTask(_)),(!_||!_[this.config.editable_property])&&(_&&_[this.config.readonly_property]||this.config.readonly)}}},function(S,x){S.exports=function(h){h.getGridColumn=function(_){for(var u=h.config.columns,s=0;s<u.length;s++)if(u[s].name==_)return u[s];return null},h.getGridColumns=function(){return h.config.columns.slice()}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(s){this._scrollOrder=0;var c=s.gantt,i=s.grid,o=s.dnd,e=s.getCurrentX;this.$gantt=c,this.$grid=i,this._dnd=o,this.getCurrentX=e,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return u.prototype.attachEvents=function(){var s=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(c,i){var o=s.$grid.$grid.getBoundingClientRect(),e=o.right,t=o.left,n=s.getCurrentX(i.clientX);return n>=e-20&&(s.autoscrollRight(),s.autoscrollStart()),n<=t+20&&(s.autoscrollLeft(),s.autoscrollStart()),n<e-20&&n>t+20&&s.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){s.autoscrollStop()}))},u.prototype.autoscrollStart=function(){var s=this;if(this._scrollOrder!==0){var c=10*this._scrollOrder,i=this._scrollView.getScrollState();this._scrollView.scrollTo(i.position+c),setTimeout(function(){s.autoscrollStart()},50)}},u.prototype.autoscrollRight=function(){this._scrollOrder=1},u.prototype.autoscrollLeft=function(){this._scrollOrder=-1},u.prototype.autoscrollStop=function(){this._scrollOrder=0},u.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},u.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},u}();x.default=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(1),u=h(217),s=function(){function c(i,o){var e=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var n=e.$grid.$grid.getBoundingClientRect(),a=n.right,r=n.left,l=t;return l>a&&(l=a),l<r&&(l=r),l},this.$gantt=i,this.$grid=o}return c.prototype.init=function(){var i=this.$gantt.$services.getService("dnd");this._dnd=new i(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new u.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},c.prototype.attachEvents=function(){var i=this;this._dnd.attachEvent("onBeforeDragStart",function(o,e){if(i._draggedCell=i.$gantt.utils.dom.closest(e.target,".gantt_grid_head_cell"),i._draggedCell){var t,n,a=i.$grid.$getConfig().columns,r=i._draggedCell.getAttribute("data-column-id");return a.map(function(l,d){l.name===r&&(t=l,n=d)}),i.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:n}])===!1?!1:!(!i._draggedCell||!t)&&(i._gridConfig=i.$grid.$getConfig(),i._originAutoscroll=i.$gantt.config.autoscroll,i.$gantt.config.autoscroll=!1,!0)}}),this._dnd.attachEvent("onAfterDragStart",function(o,e){i._draggedCell&&(i._dnd.config.column=i._draggedCell.getAttribute("data-column-id"),i._dnd.config.marker.innerHTML=i._draggedCell.outerHTML,i._dnd.config.marker.classList.add("gantt_column_drag_marker"),i._dnd.config.marker.style.height=i._gridConfig.scale_height+"px",i._dnd.config.marker.style.lineHeight=i._gridConfig.scale_height+"px",i._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(o,e){if(i._draggedCell){i._dragX=e.clientX;var t=i.calculateCurrentPosition(e.clientX),n=i.findColumnsIndexes(),a=n.targetIndex,r=n.draggedIndex,l=i.$grid.$getConfig().columns,d=l[r],f=l[a];return i.$grid.callEvent("onColumnDragMove",[{draggedColumn:d,targetColumn:f,draggedIndex:r,targetIndex:a}])===!1?(i.cleanTargetMarker(),!1):(i.setMarkerPosition(t),i.drawTargetMarker(n),!0)}}),this._dnd.attachEvent("onDragEnd",function(){i._draggedCell&&(i.$gantt.config.autoscroll=i._originAutoscroll,i._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),i.cleanTargetMarker(),i.reorderColumns())})},c.prototype.reorderColumns=function(){var i=this.findColumnsIndexes(),o=i.targetIndex,e=i.draggedIndex,t=this.$grid.$getConfig().columns,n=t[e],a=t[o];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:n,targetColumn:a,draggedIndex:e,targetIndex:o}])!==!1&&o!==e&&(t.splice(e,1),t.splice(o,0,n),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:n,targetColumn:a,draggedIndex:e,targetIndex:o}]))},c.prototype.findColumnsIndexes=function(){var i,o,e,t,n,a=this._dnd.config.column,r=this.$grid.$getConfig().columns,l={startX:0,endX:0},d=0,f=r.length-1,g=function(m,b){return m<=b},p=function(m){return++m};this.$gantt.config.rtl&&(d=r.length-1,f=0,g=function(m,b){return m>=b},p=function(m){return--m});for(var v=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),y=d;g(y,f)&&(i===void 0||o===void 0);y=p(y))r[y].hide||(l.startX=l.endX,l.endX+=r[y].width,v>=l.startX&&(v<=l.endX||!g(p(y),f))&&(i=y,e=l.startX,t=l.endX,n=(v-l.startX)/(l.endX-l.startX)),a===r[y].name&&(o=y));return{targetIndex:i,draggedIndex:o,xBefore:e,xAfter:t,columnRelativePos:n}},c.prototype.setMarkerPosition=function(i,o){o===void 0&&(o=10);var e=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();e.style.top=t.y+o+"px",e.style.left=i+"px"},c.prototype.drawTargetMarker=function(i){var o,e=i.targetIndex,t=i.draggedIndex,n=i.xBefore,a=i.xAfter,r=i.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),_.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),o=e>t?a:e<t?n:r>.5?a:n,this._targetMarker.style.left=o+"px",this._targetMarker.style.display="block"},c.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},c}();x.ColumnsGridDnd=s},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(218);x.default=_.ColumnsGridDnd},function(S,x,h){var _=h(1);S.exports=function(u,s){var c={row_before_start:u.bind(function(i,o,e){var t=s.$getConfig(),n=s.$config.rowStore;if(!_.locateAttribute(e,t.task_grid_row_resizer_attribute))return!1;var a=this.locate(e,t.task_grid_row_resizer_attribute),r=n.getItem(a);return s.callEvent("onBeforeRowResize",[r])!==!1&&void 0},u),row_after_start:u.bind(function(i,o,e){var t=s.$getConfig(),n=this.locate(e,t.task_grid_row_resizer_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_row_grid_resize_area",i.config.marker.style.width=s.$grid.offsetWidth+"px",i.config.drag_id=n},u),row_drag_move:u.bind(function(i,o,e){var t=s.$config.rowStore,n=s.$getConfig(),a=i.config,r=a.drag_id,l=s.getItemHeight(r),d=s.getItemTop(r),f=_.getNodePosition(s.$grid_data),g=parseInt(a.marker.style.top,10),p=d+f.y,v=0,y=n.min_task_grid_row_height;return(v=g-p)<y&&(v=y),a.marker.style.left=f.x+"px",a.marker.style.top=p-1+"px",a.marker.style.height=Math.abs(v)+1+"px",a.marker_height=v,s.callEvent("onRowResize",[r,t.getItem(r),v+l]),!0},u),row_drag_end:u.bind(function(i,o,e){var t=s.$config.rowStore,n=i.config,a=n.drag_id,r=t.getItem(a),l=s.getItemHeight(a),d=n.marker_height;s.callEvent("onBeforeRowResizeEnd",[a,r,d])!==!1&&r.row_height!=d&&(r.row_height=d,u.updateTask(a),s.callEvent("onAfterRowResize",[a,r,l,d]),this.render())},u)};return{init:function(){var i=u.$services.getService("dnd"),o=s.$getConfig(),e=new i(s.$grid_data,{updates_per_second:60});u.defined(o.dnd_sensitivity)&&(e.config.sensitivity=o.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return c.row_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return c.row_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return c.row_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return c.row_drag_end(e,t,n)})}}}},function(S,x){S.exports=function(h){var _=-1,u=-1;return{resetCache:function(){_=-1,u=-1},_getRowHeight:function(){return _===-1&&(_=h.$getConfig().row_height),_},_refreshState:function(){this.resetCache(),u=!0;var s=h.$config.rowStore;if(s)for(var c=this._getRowHeight(),i=0;i<s.fullOrder.length;i++){var o=s.getItem(s.fullOrder[i]);if(o&&o.row_height&&o.row_height!==c){u=!1;break}}},canUseSimpleCalculation:function(){return u===-1&&this._refreshState(),u},getRowTop:function(s){return h.$config.rowStore?s*this._getRowHeight():0},getItemHeight:function(s){return this._getRowHeight()},getTotalHeight:function(){return h.$config.rowStore?h.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(s){return h.$config.rowStore?Math.floor(s/this._getRowHeight()):0}}}},function(S,x,h){var _=h(1);S.exports=function(u,s){var c={column_before_start:u.bind(function(i,o,e){var t=s.$getConfig(),n=_.locateAttribute(e,t.grid_resizer_column_attribute);if(!n||!_.closest(n,".gantt_grid_column_resize_wrap"))return!1;var a=this.locate(e,t.grid_resizer_column_attribute),r=s.getGridColumns()[a];return s.callEvent("onColumnResizeStart",[a,r])!==!1&&void 0},u),column_after_start:u.bind(function(i,o,e){var t=s.$getConfig(),n=this.locate(e,t.grid_resizer_column_attribute);i.config.marker.innerHTML="",i.config.marker.className+=" gantt_grid_resize_area",i.config.marker.style.height=s.$grid.offsetHeight+"px",i.config.marker.style.top="0px",i.config.drag_index=n},u),column_drag_move:u.bind(function(i,o,e){var t=s.$getConfig(),n=i.config,a=s.getGridColumns(),r=parseInt(n.drag_index,10),l=a[r],d=_.getNodePosition(s.$grid_scale),f=parseInt(n.marker.style.left,10),g=l.min_width?l.min_width:t.min_grid_column_width,p=s.$grid_data.offsetWidth,v=0,y=0;t.rtl?f=d.x+d.width-1-f:f-=d.x-1;for(var m=0;m<r;m++)g+=a[m].width,v+=a[m].width;if(f<g&&(f=g),t.keep_grid_width){var b=0;for(m=r+1;m<a.length;m++)a[m].min_width?p-=a[m].min_width:t.min_grid_column_width&&(p-=t.min_grid_column_width),a[m].max_width&&b!==!1?b+=a[m].max_width:b=!1;b&&(g=s.$grid_data.offsetWidth-b),f<g&&(f=g),f>p&&(f=p)}else if(!s.$config.scrollable){var k=f,C=u.$container.offsetWidth,w=0;if(s.$grid_data.offsetWidth<=C-25)for(m=r+1;m<a.length;m++)w+=a[m].width;else{for(m=r+1;m>=0;m--)w+=a[m].width;w=C-w}w>C&&(w-=C);var T=s.$parent.$parent;if(T&&T.$config.mode=="y"){var E=T.$lastSize.x;C=Math.min(C,E-(T.$cells.length-1))}k+w>C&&(f=C-w)}return n.left=f-1,y=Math.abs(f-v),l.max_width&&y>l.max_width&&(y=l.max_width),t.rtl&&(v=d.width-v+2-y),n.marker.style.top=d.y+"px",n.marker.style.left=d.x-1+v+"px",n.marker.style.width=y+"px",s.callEvent("onColumnResize",[r,a[r],y-1]),!0},u),column_drag_end:u.bind(function(i,o,e){for(var t=s.$getConfig(),n=s.getGridColumns(),a=0,r=parseInt(i.config.drag_index,10),l=n[r],d=0;d<r;d++)a+=n[d].width;var f=l.min_width&&i.config.left-a<l.min_width?l.min_width:i.config.left-a;if(l.max_width&&l.max_width<f&&(f=l.max_width),s.callEvent("onColumnResizeEnd",[r,l,f])!==!1&&l.width!=f){if(l.width=f,t.keep_grid_width)a=t.grid_width;else{d=r;for(var g=n.length;d<g;d++)a+=n[d].width}s.callEvent("onColumnResizeComplete",[n,s._setColumnsWidth(a,r)]),s.$config.scrollable||u.$layout._syncCellSizes(s.$config.group,{value:t.grid_width,isGravity:!1}),this.render()}},u)};return{init:function(){var i=u.$services.getService("dnd"),o=s.$getConfig(),e=new i(s.$grid_scale,{updates_per_second:60});u.defined(o.dnd_sensitivity)&&(e.config.sensitivity=o.dnd_sensitivity),e.attachEvent("onBeforeDragStart",function(t,n){return c.column_before_start(e,t,n)}),e.attachEvent("onAfterDragStart",function(t,n){return c.column_after_start(e,t,n)}),e.attachEvent("onDragMove",function(t,n){return c.column_drag_move(e,t,n)}),e.attachEvent("onDragEnd",function(t,n){return c.column_drag_end(e,t,n)})},doOnRender:function(){for(var i=s.getGridColumns(),o=s.$getConfig(),e=0,t=s.$config.width,n=o.scale_height,a=0;a<i.length;a++){var r,l=i[a];if(e+=l.width,r=o.rtl?t-e:e,l.resize){var d=document.createElement("div");d.className="gantt_grid_column_resize_wrap",d.style.top="0px",d.style.height=n+"px",d.innerHTML="<div class='gantt_grid_column_resize'></div>",d.setAttribute(o.grid_resizer_column_attribute,a),d.setAttribute("column_index",a),u._waiAria.gridSeparatorAttr(d),s.$grid_scale.appendChild(d),d.style.left=Math.max(0,r)+"px"}}}}}},function(S,x,h){var _=h(34);S.exports=function(u){h(216)(u),_.prototype.getGridColumns=function(){for(var s=this.$getConfig().columns,c=[],i=0;i<s.length;i++)s[i].hide||c.push(s[i]);return c}}},function(S,x,h){S.exports=function(_){var u=h(52),s={};_.attachEvent("onClearAll",function(){s={}});var c=u.prototype.hasChild;_.$data.tasksStore.hasChild=function(i){return _.config.branch_loading?!!c.call(this,i)||!!this.exists(i)&&this.getItem(i)[_.config.branch_loading_property]:c.call(this,i)},_.attachEvent("onTaskOpened",function(i){if(_.config.branch_loading&&_._load_url&&function(a){return!(!_.config.branch_loading||!_._load_url||s[a]||_.getChildren(a).length||!_.hasChild(a))}(i)){var o=_._load_url,e=(o=o.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=_.getScrollState().y||0,n={taskId:i,url:o+e+"parent_id="+encodeURIComponent(i)};if(_.callEvent("onBeforeBranchLoading",[n])===!1)return;_.load(n.url,this._load_type,function(){t&&_.scrollTo(null,t),_.callEvent("onAfterBranchLoading",[n])}),s[i]=!0}})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(_){_.ext=_.ext||{},_.config.show_empty_state=!1,_.ext.emptyStateElement=_.ext.emptyStateElement||{isEnabled:function(){return _.config.show_empty_state===!0},isGanttEmpty:function(){return!_.getTaskByTime().length},renderContent:function(u){var s=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>`+_.locale.labels.empty_state_text_link+`</div>
    <div class='gantt_empty_state_text_description'>`+_.locale.labels.empty_state_text_description+`</div>
    </div></div>`;u.innerHTML=s},clickEvents:[],attachAddTaskEvent:function(){var u=_.attachEvent("onEmptyClick",function(s){_.utils.dom.closest(s.target,"[data-empty-state-create-task]")&&_.createTask({id:_.uid(),text:"New Task"})});this.clickEvents.push(u)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(u){_.detachEvent(u)}),this.clickEvents=[]},getContainer:function(){if(_.$container){var u=_.utils.dom;if(_.$container.contains(_.$grid_data))return u.closest(_.$grid_data,".gantt_layout_content");if(_.$container.contains(_.$task_data))return u.closest(_.$task_data,".gantt_layout_content")}return null},getNode:function(){var u=this.getContainer();return u?u.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var u=this.getContainer();if(!u&&this.isGanttEmpty())return null;var s=document.createElement("div");s.className="gantt_empty_state_wrapper",s.style.marginTop=_.config.scale_height-u.offsetHeight+"px";var c=_.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(c,function(i){i.parentNode.removeChild(i)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),u.appendChild(s),this.renderContent(s)},hide:function(){var u=this.getNode();if(!u)return!1;u.parentNode.removeChild(u)},init:function(){}},_.attachEvent("onDataRender",function(){var u=_.ext.emptyStateElement;u.isEnabled()&&u.isGanttEmpty()?u.show():u.hide()})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.format=function(i){return c._getWBSCode(i.source)},this.canParse=function(i){return c._linkReg.test(i)},this.parse=function(i){if(!c.canParse(i))return null;var o=c._linkReg.exec(i)[0].trim();return{id:void 0,source:c._findSource(o)||null,target:null,type:c._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(i){var o=c._gantt.getTask(i);return c._gantt.getWBSCode(o)},this._findSource=function(i){var o=new RegExp("^[0-9.]+","i");if(o.exec(i)){var e=o.exec(i)[0],t=c._gantt.getTaskByWBSCode(e);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=s}return u.create=function(s,c){return new u(c)},u}();x.default=_},function(S,x,h){var _=this&&this.__extends||function(){var s=function(c,i){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t])})(c,i)};return function(c,i){function o(){this.constructor=c}s(c,i),c.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}();Object.defineProperty(x,"__esModule",{value:!0});var u=function(s){function c(i,o){var e=s.call(this,o)||this;return e.format=function(t){var n=e._getFormattedLinkType(e._getLinkTypeName(t.type)),a=e._getWBSCode(t.source),r=e._getLagString(t.lag);return t.type!==e._gantt.config.links.finish_to_start||t.lag?""+a+n+r:a},e.parse=function(t){if(!e.canParse(t))return null;var n=e._linkReg.exec(t)[0].trim(),a=t.replace(n,"").trim(),r=e._findTypeFormat(n),l=e._getLinkTypeNumber(r);return{id:void 0,source:e._findSource(n)||null,target:null,type:l,lag:e._parseLag(a)}},e._getLinkTypeName=function(t){var n="";for(n in e._config.labels)if(e._gantt.config.links[n].toLowerCase()===t.toLowerCase())break;return n},e._getLinkTypeNumber=function(t){var n="";for(n in e._gantt.config.links)if(n.toLowerCase()===t.toLowerCase())break;return e._gantt.config.links[n]},e._getFormattedLinkType=function(t){return e._config.labels[t]||""},e._getLagString=function(t){if(!t)return"";var n=e._config.durationFormatter.format(t);return t<0?n:"+"+n},e._findTypeFormat=function(t){var n=t.replace(/[^a-zA-Z]/gi,""),a="finish_to_start";for(var r in e._config.labels)e._config.labels[r].toLowerCase()===n.toLowerCase()&&(a=r);return a},e._parseLag=function(t){return t?e._config.durationFormatter.parse(t):0},e._config=e._defaultSettings(i),e._linkReg=/^[0-9\.]+[a-zA-Z]*/,e}return _(c,s),c.prototype._defaultSettings=function(i){i===void 0&&(i=null);var o={durationFormatter:this._gantt.ext.formatters.durationFormatter(),labels:{finish_to_finish:"FF",finish_to_start:"FS",start_to_start:"SS",start_to_finish:"SF"}};if(i&&i.durationFormatter&&(o.durationFormatter=i.durationFormatter),i&&i.labels)for(var e in i.labels)o.labels[e]=i.labels[e];return o},c.create=function(i,o){return i===void 0&&(i=null),new c(i,o)},c}(h(226).default);x.default=u},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(s){s===void 0&&(s=null);var c=this;this.canParse=function(i){var o="",e=c._config.labels;for(var t in e){var n=e[t];o+=n.full+"|"+n.plural+"|"+n.short+"|"}return new RegExp("^([+-]? *[0-9.]{1,}\\s*("+o+")\\s*)*$").test((i||"").trim())},this.format=function(i){var o=c._config.store,e=c._config.format,t=c._config.short,n=c.transferUnits[o].toMinutes(i),a=e;if(a&&a==="auto"&&(a=c._selectFormatForValue(n)),a||(a="day"),e==="auto"&&!i)return"";for(var r="",l=(a=Array.isArray(a)?a:[a]).length-1,d=0;d<a.length;d++){var f=a[d],g=c._getValueFromMinutes(n,f,d===l);n-=c._getValueInMinutes(g,f),r+=c._getLabelForConvert(g,f,t)+(d===l?"":" ")}return r},this.parse=function(i){if(c.canParse(i)){for(var o="",e=!1,t=!1,n=0,a=(i=(i||"").trim()).length-1,r=/^[+\-0-9\. ]$/,l=0;l<i.length;l++){var d=i[l];r.test(d)?t=e:e=!0,(t||a===l)&&(t||(o+=d),n+=c._getNumericValue(o),e=t=!1,o=""),o+=d}if(n){var f=c._config.store;return Math.round(c.transferUnits[f].fromMinutes(Math.ceil(n)))}}return null},this._getValueInMinutes=function(i,o){return c.transferUnits[o]&&c.transferUnits[o].toMinutes?c.transferUnits[o].toMinutes(i):0},this._getLabelForConvert=function(i,o,e){var t=c._config.labels[o];return e?""+i+t.short:i+" "+(i!==1?t.plural:t.full)},this._getValueFromMinutes=function(i,o,e){if(c.transferUnits[o]&&c.transferUnits[o].fromMinutes){var t=c.transferUnits[o].fromMinutes(i);return e?parseFloat(t.toFixed(2)):parseInt(t.toString(),10)}return null},this._isUnitName=function(i,o){return o=o.toLowerCase(),i.full.toLowerCase()===o||i.plural.toLowerCase()===o||i.short.toLowerCase()===o},this._getUnitName=function(i){var o,e=c._config.labels,t=!1;for(o in e)if(c._isUnitName(e[o],i)){t=!0;break}return t?o:c._config.enter},this._config=this._defaultSettings(s),this.transferUnits={minute:{toMinutes:function(i){return i},fromMinutes:function(i){return i}},hour:{toMinutes:function(i){return i*c._config.minutesPerHour},fromMinutes:function(i){return i/c._config.minutesPerHour}},day:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerDay},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerDay)}},week:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerWeek},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerWeek)}},month:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerMonth},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerMonth)}},year:{toMinutes:function(i){return i*c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerYear},fromMinutes:function(i){return i/(c._config.minutesPerHour*c._config.hoursPerDay*c._config.daysPerYear)}}}}return u.prototype._defaultSettings=function(s){s===void 0&&(s=null);var c={enter:"day",store:"hour",format:"auto",short:!1,minutesPerHour:60,hoursPerDay:8,hoursPerWeek:40,daysPerMonth:30,daysPerYear:365,labels:{minute:{full:"minute",plural:"minutes",short:"min"},hour:{full:"hour",plural:"hours",short:"h"},day:{full:"day",plural:"days",short:"d"},week:{full:"week",plural:"weeks",short:"wk"},month:{full:"month",plural:"months",short:"mon"},year:{full:"year",plural:"years",short:"y"}}};if(s){for(var i in s)s[i]!==void 0&&i!=="labels"&&(c[i]=s[i]);if(s.labels)for(var i in s.labels)c.labels[i]=s.labels[i]}return c},u.prototype._selectFormatForValue=function(s){for(var c=["year","month","day","hour","minute"],i=[],o=0;o<c.length;o++)i[o]=Math.abs(this.transferUnits[c[o]].fromMinutes(s));for(o=0;o<i.length;o++)if(!(i[o]<1&&o<i.length-1))return c[o];return"day"},u.prototype._getNumericValue=function(s){var c=parseFloat(s.replace(/ /g,""))||0,i=this._getUnitName(s.replace(/[^a-zA-Z]/gi,""));return c&&i?this._getValueInMinutes(c,i):0},u.create=function(s){return s===void 0&&(s=null),new u(s)},u}();x.default=_},function(S,x,h){var _=h(228).default,u=h(227).default;S.exports=function(s){s.ext.formatters={durationFormatter:function(c){return c||(c={}),c.store||(c.store=s.config.duration_unit),c.enter||(c.enter=s.config.duration_unit),_.create(c,s)},linkFormatter:function(c){return u.create(c,s)}}}},function(S,x){S.exports=function(h){function _(a){return function(){return!h.config.auto_types||h.getTaskType(h.config.types.project)!=h.config.types.project||a.apply(this,arguments)}}function u(a,r){var l=h.getTask(a),d=i(l);d!==!1&&h.getTaskType(l)!==d&&(r.$needsUpdate=!0,r[l.id]={task:l,type:d})}function s(a){if(!h.getState().group_mode){var r=function(l,d){return u(l,d=d||{}),h.eachParent(function(f){u(f.id,d)},l),d}(a);r.$needsUpdate&&h.batchUpdate(function(){(function(l){for(var d in l)if(l[d]&&l[d].task){var f=l[d].task;f.type=l[d].type,h.updateTask(f.id)}})(r)})}}var c;function i(a){var r=h.config.types,l=h.hasChild(a.id),d=h.getTaskType(a.type);return l&&d===r.task?r.project:!l&&d===r.project&&r.task}var o,e,t=!0;function n(a){a!=h.config.root_id&&h.isTaskExists(a)&&s(a)}h.attachEvent("onParse",_(function(){t=!1,h.getState().group_mode||(h.batchUpdate(function(){h.eachTask(function(a){var r=i(a);r!==!1&&function(l,d){h.getState().group_mode||(l.type=d,h.updateTask(l.id))}(a,r)})}),t=!0)})),h.attachEvent("onAfterTaskAdd",_(function(a){t&&s(a)})),h.attachEvent("onAfterTaskUpdate",_(function(a){t&&s(a)})),h.attachEvent("onBeforeTaskDelete",_(function(a,r){return c=h.getParent(a),!0})),h.attachEvent("onAfterTaskDelete",_(function(a,r){n(c)})),h.attachEvent("onRowDragStart",_(function(a,r,l){return o=h.getParent(a),!0})),h.attachEvent("onRowDragEnd",_(function(a,r){n(o),s(a)})),h.attachEvent("onBeforeTaskMove",_(function(a,r,l){return e=h.getParent(a),!0})),h.attachEvent("onAfterTaskMove",_(function(a,r,l){document.querySelector(".gantt_drag_marker")||(n(e),s(a))}))}},function(S,x){S.exports=function(h){function _(e){return function(){return!h.config.placeholder_task||e.apply(this,arguments)}}function u(){var e=h.getTaskBy("type",h.config.types.placeholder);if(!e.length||!h.isTaskExists(e[0].id)){var t={unscheduled:!0,type:h.config.types.placeholder,duration:0,text:h.locale.labels.new_task};if(h.callEvent("onTaskCreated",[t])===!1)return;h.addTask(t)}}function s(e){var t=h.getTask(e);t.type==h.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),h.batchUpdate(function(){var n=h.copy(t);h.silent(function(){h.deleteTask(t.id)}),delete n["!nativeeditor_status"],n.type=h.config.types.task,n.id=h.uid(),h.addTask(n)}))}h.config.types.placeholder="placeholder",h.attachEvent("onDataProcessorReady",_(function(e){e&&!e._silencedPlaceholder&&(e._silencedPlaceholder=!0,e.attachEvent("onBeforeUpdate",_(function(t,n,a){return a.type!=h.config.types.placeholder||(e.setUpdated(t,!1),!1)})))}));var c=!1;function i(e){return!!(h.config.types.placeholder&&h.isTaskExists(e)&&h.getTask(e).type==h.config.types.placeholder)}function o(e){return!(!i(e.source)&&!i(e.target))}h.attachEvent("onGanttReady",function(){c||(c=!0,h.attachEvent("onAfterTaskUpdate",_(s)),h.attachEvent("onAfterTaskAdd",_(function(e,t){t.type!=h.config.types.placeholder&&(h.getTaskBy("type",h.config.types.placeholder).forEach(function(n){h.silent(function(){h.isTaskExists(n.id)&&h.deleteTask(n.id)})}),u())})),h.attachEvent("onParse",_(u)))}),h.attachEvent("onLinkValidation",function(e){return!o(e)}),h.attachEvent("onBeforeLinkAdd",function(e,t){return!o(t)}),h.attachEvent("onBeforeUndoStack",function(e){for(var t=0;t<e.commands.length;t++){var n=e.commands[t];n.entity==="task"&&n.value.type===h.config.types.placeholder&&(e.commands.splice(t,1),t--)}return!0})}},function(S,x){S.exports=function(h){var _="$resourceAssignments";h.config.resource_assignment_store="resourceAssignments",h.config.process_resource_assignments=!0;var u={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},s=u.auto,c={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function i(f,g){f.start_date?f.start_date=h.date.parseDate(f.start_date,"parse_date"):f.start_date=null,f.end_date?f.end_date=h.date.parseDate(f.end_date,"parse_date"):f.end_date=null;var p=Number(f.delay),v=!1;if(isNaN(p)?(f.delay=0,v=!0):f.delay=p,h.defined(f.value)||(f.value=null),!f.task_id||!f.resource_id)return!1;if(f.mode=f.mode||c.default,f.mode===c.fixedDuration&&(isNaN(Number(f.duration))&&(g=g||h.getTask(f.task_id),f.duration=h.calculateDuration({start_date:f.start_date,end_date:f.end_date,id:g})),v&&(g=g||h.getTask(f.task_id),f.delay=h.calculateDuration({start_date:g.start_date,end_date:f.start_date,id:g}))),f.mode!==c.fixedDates&&(g||h.isTaskExists(f.task_id))){var y=e(f,g=g||h.getTask(f.task_id));f.start_date=y.start_date,f.end_date=y.end_date,f.duration=y.duration}}var o=h.createDatastore({name:h.config.resource_assignment_store,initItem:function(f){return f.id||(f.id=h.uid()),i(f),f}});function e(f,g){if(f.mode===c.fixedDates)return{start_date:f.start_date,end_date:f.end_date,duration:f.duration};var p,v,y=f.delay?h.calculateEndDate({start_date:g.start_date,duration:f.delay,task:g}):new Date(g.start_date);return f.mode===c.fixedDuration?(p=h.calculateEndDate({start_date:y,duration:f.duration,task:g}),v=f.duration):(p=new Date(g.end_date),v=g.duration-f.delay),{start_date:y,end_date:p,duration:v}}function t(f){var g=h.config.resource_property,p=f[g],v=[],y=s===u.auto;if(h.defined(p)&&p){Array.isArray(p)||(p=[p],y&&(s=u.singleValue,y=!1));var m={};p.forEach(function(b){b.resource_id||(b={resource_id:b},y&&(s=u.valueArray,y=!1)),y&&(b.id&&b.resource_id?(s=u.assignmentsArray,y=!1):(s=u.resourceValueArray,y=!1));var k,C=c.default;b.mode||(b.start_date&&b.end_date||b.start_date&&b.duration)&&(C=c.fixedDuration),k=b.id||!b.$id||m[b.$id]?b.id&&!m[b.id]?b.id:h.uid():b.$id,m[k]=!0;var w={id:k,start_date:b.start_date,duration:b.duration,end_date:b.end_date,delay:b.delay,task_id:f.id,resource_id:b.resource_id,value:b.value,mode:b.mode||C};w.start_date&&w.start_date.getMonth&&w.end_date&&w.end_date.getMonth&&typeof w.duration=="number"||i(w,f),v.push(w)})}return v}function n(f){if(h.isTaskExists(f)){var g=h.getTask(f);a(g,h.getTaskAssignments(g.id))}}function a(f,g){g.sort(function(p,v){return p.start_date&&v.start_date&&p.start_date.valueOf()!=v.start_date.valueOf()?p.start_date-v.start_date:0}),s==u.assignmentsArray?f[h.config.resource_property]=g:s==u.resourceValueArray&&(f[h.config.resource_property]=g.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),f[_]=g}function r(f){var g=t(f);return g.forEach(function(p){p.id=p.id||h.uid()}),g}function l(f,g){var p=function(v,y){var m={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(s==u.singleValue){var b=v[0],k=b?b.resource_id:null,C=!1;y.forEach(function(P){P.resource_id!=k?m.inStoreNotInTask.push(P):P.resource_id==k&&(m.inBoth.push({store:P,task:b}),C=!0)}),!C&&b&&m.inTaskNotInStore.push(b)}else if(s==u.valueArray){var w={},T={},E={};v.forEach(function(P){w[P.resource_id]=P}),y.forEach(function(P){T[P.resource_id]=P}),v.concat(y).forEach(function(P){if(!E[P.resource_id]){E[P.resource_id]=!0;var j=w[P.resource_id],N=T[P.resource_id];j&&N?m.inBoth.push({store:N,task:j}):j&&!N?m.inTaskNotInStore.push(j):!j&&N&&m.inStoreNotInTask.push(N)}})}else s!=u.assignmentsArray&&s!=u.resourceValueArray||(w={},T={},E={},v.forEach(function(P){w[P.id||P.$id]=P}),y.forEach(function(P){T[P.id]=P}),v.concat(y).forEach(function(P){var j=P.id||P.$id;if(!E[j]){E[j]=!0;var N=w[j],L=T[j];N&&L?m.inBoth.push({store:L,task:N}):N&&!L?m.inTaskNotInStore.push(N):!N&&L&&m.inStoreNotInTask.push(L)}}));return m}(t(f),g);p.inStoreNotInTask.forEach(function(v){o.removeItem(v.id)}),p.inTaskNotInStore.forEach(function(v){o.addItem(v)}),p.inBoth.forEach(function(v){if(function(m,b){var k={id:!0};for(var C in m)if(!k[C]&&String(m[C])!==String(b[C]))return!0;return!1}(v.task,v.store))(function(m,b){var k={id:!0};for(var C in m)k[C]||(b[C]=m[C])})(v.task,v.store),o.updateItem(v.store.id);else if(v.task.start_date&&v.task.end_date&&v.task.mode!==c.fixedDates){var y=e(v.store,f);v.store.start_date.valueOf()==y.start_date.valueOf()&&v.store.end_date.valueOf()==y.end_date.valueOf()||(v.store.start_date=y.start_date,v.store.end_date=y.end_date,v.store.duration=y.duration,o.updateItem(v.store.id))}}),n(f.id)}function d(f){var g=f[_]||o.find(function(p){return p.task_id==f.id});l(f,g)}h.$data.assignmentsStore=o,h.attachEvent("onGanttReady",function(){if(h.config.process_resource_assignments){h.attachEvent("onParse",function(){h.silent(function(){o.clearAll();var k=[];h.eachTask(function(C){if(C.type!==h.config.types.project){var w=r(C);a(C,w),w.forEach(function(T){k.push(T)})}}),o.parse(k)})});var f=!1,g=!1,p={},v=!1;h.attachEvent("onBeforeBatchUpdate",function(){f=!0}),h.attachEvent("onAfterBatchUpdate",function(){if(g){var k={};for(var C in p)k[C]=h.getTaskAssignments(p[C].id);for(var C in p)l(p[C],k[C])}g=!1,f=!1,p={}}),h.attachEvent("onTaskCreated",function(k){var C=r(k);return o.parse(C),a(k,C),!0}),h.attachEvent("onAfterTaskUpdate",function(k,C){f?(g=!0,p[k]=C):d(C)}),h.attachEvent("onAfterTaskAdd",function(k,C){f?(g=!0,p[k]=C):d(C)}),h.attachEvent("onRowDragEnd",function(k){d(h.getTask(k))}),h.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(k,C){var w=[k];h.eachTask(function(T){w.push(T.id)},k),function(T){var E={};T.forEach(function(P){E[P]=!0}),o.find(function(P){return E[P.task_id]}).forEach(function(P){o.removeItem(P.id)})}(w)}),h.$data.tasksStore.attachEvent("onClearAll",function(){return y=null,m=null,b=null,o.clearAll(),!0}),h.attachEvent("onTaskIdChange",function(k,C){o.find(function(w){return w.task_id==k}).forEach(function(w){w.task_id=C,o.updateItem(w.id)}),n(C)}),h.attachEvent("onBeforeUndo",function(k){return v=!0,!0}),h.attachEvent("onAfterUndo",function(k){v=!0});var y=null,m=null,b=null;o.attachEvent("onStoreUpdated",function(){return!(!f||v)||(y=null,m=null,b=null,!0)}),h.getResourceAssignments=function(k,C){var w=h.defined(C)&&C!==null;return y===null&&(y={},m={},o.eachItem(function(T){y[T.resource_id]||(y[T.resource_id]=[]),y[T.resource_id].push(T);var E=T.resource_id+"-"+T.task_id;m[E]||(m[E]=[]),m[E].push(T)})),w?(m[k+"-"+C]||[]).slice():(y[k]||[]).slice()},h.getTaskAssignments=function(k){if(b===null){var C=[];b={},o.eachItem(function(w){b[w.task_id]||(b[w.task_id]=[]),b[w.task_id].push(w),w.task_id==k&&C.push(w)})}return(b[k]||[]).slice()},h.getTaskResources=function(k){var C=h.getDatastore("resource"),w={};h.getTaskAssignments(k).forEach(function(j){w[j.resource_id]||(w[j.resource_id]=j.resource_id)});var T=[];for(var E in w){var P=C.getItem(w[E]);P&&T.push(P)}return T},h.updateTaskAssignments=n}},{once:!0})}},function(S,x,h){var _=h(2);function u(s){var c={},i=!1;s.$data.tasksStore.attachEvent("onStoreUpdated",function(){c={},i=!1}),s.attachEvent("onBeforeGanttRender",function(){c={}});var o=String(Math.random());function e(r){return r===null?o+String(r):String(r)}function t(r,l,d){return Array.isArray(r)?r.map(function(f){return e(f)}).join("_")+"_".concat(l,"_").concat(d):e(r)+"_".concat(l,"_").concat(d)}function n(r,l,d){var f,g=t(l,r,JSON.stringify(d)),p={};return _.forEach(l,function(v){p[e(v)]=!0}),c[g]?f=c[g]:(f=c[g]=[],s.eachTask(function(v){if(d){if(!d[s.getTaskType(v)])return}else if(v.type==s.config.types.project)return;var y;r in v&&(y=_.isArray(v[r])?v[r]:[v[r]],_.forEach(y,function(m){var b=m&&m.resource_id?m.resource_id:m;if(p[e(b)])f.push(v);else if(!i){var k=t(m,r);c[k]||(c[k]=[]),c[k].push(v)}}))}),i=!0),f}function a(r,l,d){var f=s.config.resource_property,g=[];if(s.getDatastore("task").exists(l)){var p=s.getTask(l);g=p[f]||[]}Array.isArray(g)||(g=[g]);for(var v=0;v<g.length;v++)g[v].resource_id==r&&d.push({task_id:p.id,resource_id:g[v].resource_id,value:g[v].value})}return{getTaskBy:function(r,l,d){return typeof r=="function"?function(f){var g=[];return s.eachTask(function(p){f(p)&&g.push(p)}),g}(r):_.isArray(l)?n(r,l,d):n(r,[l],d)},getResourceAssignments:function(r,l){var d=[],f=s.config.resource_property;return l!==void 0?a(r,l,d):s.getTaskBy(f,r).forEach(function(g){a(r,g.id,d)}),d}}}S.exports=function(s){var c=u(s);s.ext.resources=function(e){var t={renderEditableLabel:function(n,a,r,l,d){var f=e.config.readonly?"":"contenteditable";if(n<r.end_date&&a>r.start_date){for(var g=0;g<d.length;g++){var p=d[g];return"<div "+f+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+r.id+"' data-task='"+r.$task_id+"' data-start-date='"+e.templates.format_date(n)+"' data-end-date='"+e.templates.format_date(a)+"'>"+p.value+"</div>"}return"<div "+f+" data-assignment-cell data-empty  data-row-id='"+r.id+"' data-resource-id='"+r.$resource_id+"' data-task='"+r.$task_id+"' data-start-date='"+e.templates.format_date(n)+"''  data-end-date='"+e.templates.format_date(a)+"'>-</div>"}return""},renderSummaryLabel:function(n,a,r,l,d){var f=d.reduce(function(g,p){return g+Number(p.value)},0);return f%1&&(f=Math.round(10*f)/10),f?"<div>"+f+"</div>":""},editableResourceCellTemplate:function(n,a,r,l,d){return r.$role==="task"?t.renderEditableLabel(n,a,r,l,d):t.renderSummaryLabel(n,a,r,l,d)},editableResourceCellClass:function(n,a,r,l,d){var f=[];f.push("resource_marker"),r.$role==="task"?f.push("task_cell"):f.push("resource_cell");var g=d.reduce(function(v,y){return v+Number(y.value)},0),p=Number(r.capacity);return isNaN(p)&&(p=8),g<=p?f.push("workday_ok"):f.push("workday_over"),f.join(" ")},getSummaryResourceAssignments:function(n){var a,r=e.getDatastore(e.config.resource_store),l=r.getItem(n);return l.$role==="task"?a=e.getResourceAssignments(l.$resource_id,l.$task_id):(a=e.getResourceAssignments(n),r.eachItem&&r.eachItem(function(d){d.$role!=="task"&&(a=a.concat(e.getResourceAssignments(d.id)))},n)),a},initEditableDiagram:function(){e.config.resource_render_empty_cells=!0,function(){var n=null;function a(){return n&&cancelAnimationFrame(n),n=requestAnimationFrame(function(){Array.prototype.slice.call(e.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(r){r.contentEditable=!0})}),!0}e.attachEvent("onGanttReady",function(){e.getDatastore(e.config.resource_assignment_store).attachEvent("onStoreUpdated",a),e.getDatastore(e.config.resource_store).attachEvent("onStoreUpdated",a)},{once:!0}),e.attachEvent("onGanttLayoutReady",function(){e.$layout.getCellsByType("viewCell").forEach(function(r){r.$config&&r.$config.view==="resourceTimeline"&&r.$content&&r.$content.attachEvent("onScroll",a)})})}(),e.attachEvent("onGanttReady",function(){var n=!1;e.event(e.$container,"keypress",function(a){var r=a.target.closest(".resourceTimeline_cell [data-assignment-cell]");r&&(a.keyCode!==13&&a.keyCode!==27||r.blur())}),e.event(e.$container,"focusout",function(a){if(!n){n=!0,setTimeout(function(){n=!1},300);var r=a.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(r){var l=(r.innerText||"").trim();l=="-"&&(l="0");var d=Number(l),f=r.getAttribute("data-row-id"),g=r.getAttribute("data-assignment-id"),p=r.getAttribute("data-task"),v=r.getAttribute("data-resource-id"),y=e.templates.parse_date(r.getAttribute("data-start-date")),m=e.templates.parse_date(r.getAttribute("data-end-date")),b=e.getDatastore(e.config.resource_assignment_store);if(isNaN(d))e.getDatastore(e.config.resource_store).refresh(f);else{var k=e.getTask(p);if(e.plugins().undo&&e.ext.undo.saveState(p,"task"),g){if(d===(w=b.getItem(g)).value)return;if(w.start_date.valueOf()===y.valueOf()&&w.end_date.valueOf()===m.valueOf())w.value=d,d?b.updateItem(w.id):b.removeItem(w.id);else{if(w.end_date.valueOf()>m.valueOf()){var C=e.copy(w);C.id=e.uid(),C.start_date=m,C.duration=e.calculateDuration({start_date:C.start_date,end_date:C.end_date,task:k}),C.delay=e.calculateDuration({start_date:k.start_date,end_date:C.start_date,task:k}),C.mode=w.mode||"default",C.duration!==0&&b.addItem(C)}w.start_date.valueOf()<y.valueOf()?(w.end_date=y,w.duration=e.calculateDuration({start_date:w.start_date,end_date:w.end_date,task:k}),w.mode="fixedDuration",w.duration===0?b.removeItem(w.id):b.updateItem(w.id)):b.removeItem(w.id),d&&b.addItem({task_id:w.task_id,resource_id:w.resource_id,value:d,start_date:y,end_date:m,duration:e.calculateDuration({start_date:y,end_date:m,task:k}),delay:e.calculateDuration({start_date:k.start_date,end_date:y,task:k}),mode:"fixedDuration"})}e.updateTaskAssignments(k.id),e.updateTask(k.id)}else if(d){var w={task_id:p,resource_id:v,value:d,start_date:y,end_date:m,duration:e.calculateDuration({start_date:y,end_date:m,task:k}),delay:e.calculateDuration({start_date:k.start_date,end_date:y,task:k}),mode:"fixedDuration"};b.addItem(w),e.updateTaskAssignments(k.id),e.updateTask(k.id)}}}}})},{once:!0})}};return t}(s),s.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(e){return e.parent=e.parent||s.config.root_id,e[s.config.resource_property]=e.parent,e.open=!0,e}},lightbox_resources:function(e){var t=[],n=s.getDatastore(s.config.resource_store);return e.forEach(function(a){if(!n.hasChild(a.id)){var r=s.copy(a);r.key=a.id,r.label=a.text,t.push(r)}}),t}},s.attachEvent("onBeforeGanttReady",function(){if(!s.getDatastore(s.config.resource_store)){var e=s.config.resources?s.config.resources.resource_store:void 0,t=e?e.fetchTasks:void 0;s.config.resources&&s.config.resources.editable_resource_diagram&&(t=!0);var n=function(r){return r.parent=r.parent||s.config.root_id,r[s.config.resource_property]=r.parent,r.open=!0,r};e&&e.initItem&&(n=e.initItem);var a=e&&e.type?e.type:"treeDatastore";s.$resourcesStore=s.createDatastore({name:s.config.resource_store,type:a,fetchTasks:t!==void 0&&t,initItem:n}),s.$data.resourcesStore=s.$resourcesStore,s.$resourcesStore.attachEvent("onParse",function(){var r=function(d){var f=[];return d.forEach(function(g){if(!s.$resourcesStore.hasChild(g.id)){var p=s.copy(g);p.key=g.id,p.label=g.text,f.push(p)}}),f};s.config.resources&&s.config.resources.lightbox_resources&&(r=s.config.resources.lightbox_resources);var l=r(s.$resourcesStore.getItems());s.updateCollection("resourceOptions",l)})}}),s.getTaskBy=c.getTaskBy,s.getResourceAssignments=c.getResourceAssignments,s.config.resource_property="owner_id",s.config.resource_store="resource",s.config.resource_render_empty_cells=!1,s.templates.histogram_cell_class=function(e,t,n,a,r){},s.templates.histogram_cell_label=function(e,t,n,a,r){return a.length+"/3"},s.templates.histogram_cell_allocated=function(e,t,n,a,r){return a.length/3},s.templates.histogram_cell_capacity=function(e,t,n,a,r){return 0};var i=function(e,t,n,a,r){return a.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},o=function(e,t,n,a,r){return 8*a.length};s.templates.resource_cell_value=o,s.templates.resource_cell_class=i,s.attachEvent("onBeforeGanttReady",function(){s.config.resources&&s.config.resources.editable_resource_diagram&&(s.config.resource_render_empty_cells=!0,s.templates.resource_cell_value===o&&(s.templates.resource_cell_value=s.ext.resources.editableResourceCellTemplate),s.templates.resource_cell_class===i&&(s.templates.resource_cell_class=s.ext.resources.editableResourceCellClass),s.ext.resources.initEditableDiagram(s))})}},function(S,x){S.exports=function(h){var _=function(s){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!s.getState().group_mode},_getWBSCode:function(c){return c?(this._isRecalcNeeded()&&this._calcWBS(),c.$virtual?"":this._isGroupSort()?c.$wbs||"":(c.$wbs||(this.reset(),this._calcWBS()),c.$wbs)):""},_setWBSCode:function(c,i){c.$wbs=i},getWBSCode:function(c){return this._getWBSCode(c)},getByWBSCode:function(c){for(var i=c.split("."),o=s.config.root_id,e=0;e<i.length;e++){var t=s.getChildren(o),n=1*i[e]-1;if(!s.isTaskExists(t[n]))return null;o=t[n]}return s.isTaskExists(o)?s.getTask(o):null},_calcWBS:function(){if(this._isRecalcNeeded()){var c=!0;s.eachTask(function(i){if(c)return c=!1,void this._setWBSCode(i,"1");var o=s.getPrevSibling(i.id);if(o!==null){var e=s.getTask(o).$wbs;e&&((e=e.split("."))[e.length-1]++,this._setWBSCode(i,e.join(".")))}else{var t=s.getParent(i.id);this._setWBSCode(i,s.getTask(t).$wbs+".1")}},s.config.root_id,this),this._needRecalc=!1}}}}(h);function u(){return _.reset(),!0}h.getWBSCode=function(s){return _.getWBSCode(s)},h.getTaskByWBSCode=function(s){return _.getByWBSCode(s)},h.attachEvent("onAfterTaskMove",u),h.attachEvent("onBeforeParse",u),h.attachEvent("onAfterTaskDelete",u),h.attachEvent("onAfterTaskAdd",u),h.attachEvent("onAfterSort",u)}},function(S,x,h){var _=h(17);function u(s){var c={},i=!1;function o(a,r){r=typeof r=="function"?r:function(){},c[a]||(c[a]=this[a],this[a]=r)}function e(a){c[a]&&(this[a]=c[a],c[a]=null)}function t(){for(var a in c)e.call(this,a)}function n(a){try{a()}catch(r){_.console.error(r)}}return s.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:i}},!1),function(a,r){if(i)n(a);else{var l,d=this._dp&&this._dp.updateMode!="off";d&&(l=this._dp.updateMode,this._dp.setUpdateMode("off"));var f={},g={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(v){f[v.id]=v}};for(var p in(function(v){for(var y in v)o.call(this,y,v[y])}).call(this,g),i=!0,this.callEvent("onBeforeBatchUpdate",[]),n(a),this.callEvent("onAfterBatchUpdate",[]),t.call(this),f)this.resetProjectDates(f[p]);i=!1,r||this.render(),d&&(this._dp.setUpdateMode(l),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}S.exports=function(s){s.batchUpdate=u(s)}},function(S,x,h){S.exports=function(_){_.ext||(_.ext={});for(var u=[h(235),h(234),h(233),h(232),h(231),h(230),h(229),h(225).default],s=0;s<u.length;s++)u[s]&&u[s](_)}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(0),u=function(){function s(){var c=this;this.clear=function(){c._storage={}},this.storeItem=function(i){c._storage[i.id]=_.copy(i)},this.getStoredItem=function(i){return c._storage[i]||null},this._storage={}}return s.create=function(){return new s},s}();x.default=u},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(_,u){_.getUserData=function(s,c,i){return this.userdata||(this.userdata={}),this.userdata[i]=this.userdata[i]||{},this.userdata[i][s]&&this.userdata[i][s][c]?this.userdata[i][s][c]:""},_.setUserData=function(s,c,i,o){this.userdata||(this.userdata={}),this.userdata[o]=this.userdata[o]||{},this.userdata[o][s]=this.userdata[o][s]||{},this.userdata[o][s][c]=i},_._change_id=function(s,c){switch(this._dp._ganttMode){case"task":this.changeTaskId(s,c);break;case"link":this.changeLinkId(s,c);break;case"assignment":this.$data.assignmentsStore.changeId(s,c);break;case"resource":this.$data.resourcesStore.changeId(s,c);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+c)}},_._row_style=function(s,c){this._dp._ganttMode==="task"&&_.isTaskExists(s)&&(_.getTask(s).$dataprocessor_class=c,_.refreshTask(s))},_._delete_task=function(s,c){},_._sendTaskOrder=function(s,c){c.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(s).target=c.$drop_target,this._dp.setUpdated(s,!0,"order"),delete this.getTask(s).$drop_target)},_.setDp=function(){this._dp=u},_.setDp()}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(2),u=function(){function s(c,i){this.$gantt=c,this.$dp=i,this._dataProcessorHandlers=[]}return s.prototype.attach=function(){var c=this,i=this.$dp,o=this.$gantt,e=h(48),t={},n=function(l){return c.clientSideDelete(l,i,o)};this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskAdd",function(l,d){o.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskUpdate",function(l,d){o.isTaskExists(l)&&(i.setGanttMode("tasks"),i.setUpdated(l,!0),o._sendTaskOrder&&o._sendTaskOrder(l,d))})),this._dataProcessorHandlers.push(o.attachEvent("onBeforeTaskDelete",function(l,d){return o.config.cascade_delete&&(t[l]={tasks:e.getSubtreeTasks(o,l),links:e.getSubtreeLinks(o,l)}),!i.deleteAfterConfirmation||(i.setGanttMode("tasks"),i.setUpdated(l,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskDelete",function(l,d){i.setGanttMode("tasks");var f=!n(l),g=o.config.cascade_delete&&t[l];if(f||g){if(g){var p=i.updateMode;i.setUpdateMode("off");var v=t[l];for(var y in v.tasks)n(y)||(i.storeItem(v.tasks[y]),i.setUpdated(y,!0,"deleted"));for(var y in i.setGanttMode("links"),v.links)n(y)||(i.storeItem(v.links[y]),i.setUpdated(y,!0,"deleted"));t[l]=null,p!=="off"&&i.sendAllData(),i.setGanttMode("tasks"),i.setUpdateMode(p)}f&&(i.storeItem(d),i.deleteAfterConfirmation||i.setUpdated(l,!0,"deleted")),i.updateMode==="off"||i._tSend||i.sendAllData()}})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkUpdate",function(l,d){o.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkAdd",function(l,d){o.isLinkExists(l)&&(i.setGanttMode("links"),i.setUpdated(l,!0,"inserted"))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkDelete",function(l,d){i.setGanttMode("links"),!n(l)&&(i.storeItem(d),i.setUpdated(l,!0,"deleted"))})),this._dataProcessorHandlers.push(o.attachEvent("onRowDragEnd",function(l,d){o._sendTaskOrder(l,o.getTask(l))}));var a=null,r=null;this._dataProcessorHandlers.push(o.attachEvent("onTaskIdChange",function(l,d){if(i._waitMode){var f=o.getChildren(d);if(f.length){a=a||{};for(var g=0;g<f.length;g++){var p=this.getTask(f[g]);a[p.id]=p}}var v=function(m){var b=[];return m.$source&&(b=b.concat(m.$source)),m.$target&&(b=b.concat(m.$target)),b}(this.getTask(d));if(v.length)for(r=r||{},g=0;g<v.length;g++){var y=this.getLink(v[g]);r[y.id]=y}}})),i.attachEvent("onAfterUpdateFinish",function(){(a||r)&&(o.batchUpdate(function(){for(var l in a)o.updateTask(a[l].id);for(var l in r)o.updateLink(r[l].id);a=null,r=null}),a?o._dp.setGanttMode("tasks"):o._dp.setGanttMode("links"))}),i.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;var l=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){var d=this._ganttMode;l=l.substring(0,l.indexOf("?")>-1?l.indexOf("?"):l.length),this.serverProcessor=l+(l.slice(-1)==="/"?"":"/")+d}else{var f=this._ganttMode+"s";this.serverProcessor=l+o.ajax.urlSeparator(l)+"gantt_mode="+f}return!0}),i.attachEvent("insertCallback",function(l,d,f,g){var p=l.data||o.xml._xmlNodeToJSON(l.firstChild),v={add:o.addTask,isExist:o.isTaskExists};g==="links"&&(v.add=o.addLink,v.isExist=o.isLinkExists),v.isExist.call(o,d)||(p.id=d,v.add.call(o,p))}),i.attachEvent("updateCallback",function(l,d){var f=l.data||o.xml._xmlNodeToJSON(l.firstChild);if(o.isTaskExists(d)){var g=o.getTask(d);for(var p in f){var v=f[p];switch(p){case"id":continue;case"start_date":case"end_date":v=o.defined(o.templates.xml_date)?o.templates.xml_date(v):o.templates.parse_date(v);break;case"duration":g.end_date=o.calculateEndDate({start_date:g.start_date,duration:v,task:g})}g[p]=v}o.updateTask(d),o.refreshData()}}),i.attachEvent("deleteCallback",function(l,d,f,g){var p={delete:o.deleteTask,isExist:o.isTaskExists};g==="links"?(p.delete=o.deleteLink,p.isExist=o.isLinkExists):g==="assignment"&&(p.delete=function(v){o.$data.assignmentsStore.remove(v)},p.isExist=function(v){return o.$data.assignmentsStore.exists(v)}),p.isExist.call(o,d)&&p.delete.call(o,d)}),this.handleResourceAssignmentCRUD(i,o)},s.prototype.clientSideDelete=function(c,i,o){var e=i.updatedRows.slice(),t=!1;o.getUserData(c,"!nativeeditor_status",i._ganttMode)==="true_deleted"&&(t=!0,i.setUpdated(c,!1));for(var n=0;n<e.length&&!i._in_progress[c];n++)e[n]===c&&(o.getUserData(c,"!nativeeditor_status",i._ganttMode)==="inserted"&&(t=!0),i.setUpdated(c,!1));return t},s.prototype.handleResourceAssignmentCRUD=function(c,i){var o=this;if(i.config.resources&&i.config.resources.dataprocessor_assignments===!0){var e=i.getDatastore(i.config.resource_assignment_store),t={},n={};i.attachEvent("onBeforeTaskAdd",function(r,l){return t[r]=!0,!0}),i.attachEvent("onTaskIdChange",function(r,l){delete t[r]}),e.attachEvent("onAfterAdd",function(r,l){t[l.task_id]?function(d){n[d.id]=d,t[d.task_id]=!0}(l):a(l)}),e.attachEvent("onAfterUpdate",function(r,l){e.exists(r)&&(n[r]?a(l):(c.setGanttMode("assignment"),c.setUpdated(r,!0)))}),e.attachEvent("onAfterDelete",function(r,l){c.setGanttMode("assignment"),!o.clientSideDelete(r,c,i)&&(c.storeItem(l),c.setUpdated(r,!0,"deleted"))})}function a(r){var l=r.id;e.exists(l)&&(c.setGanttMode("assignment"),c.setUpdated(l,!0,"inserted")),delete n[l]}},s.prototype.handleResourceCRUD=function(c,i){var o=this;if(i.config.resources&&i.config.resources.dataprocessor_resources===!0){var e=i.getDatastore(i.config.resource_store);e.attachEvent("onAfterAdd",function(t,n){(function(a){var r=a.id;e.exists(r)&&(c.setGanttMode("resource"),c.setUpdated(r,!0,"inserted"))})(n)}),e.attachEvent("onAfterUpdate",function(t,n){e.exists(t)&&(c.setGanttMode("resource"),c.setUpdated(t,!0))}),e.attachEvent("onAfterDelete",function(t,n){c.setGanttMode("resource"),!o.clientSideDelete(t,c,i)&&(c.storeItem(n),c.setUpdated(t,!0,"deleted"))})}},s.prototype.detach=function(){var c=this;_.forEach(this._dataProcessorHandlers,function(i){c.$gantt.detachEvent(i)}),this._dataProcessorHandlers=[]},s}();x.default=u},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(5),u=h(2),s=h(0),c=h(239),i=h(238),o=h(237);x.createDataProcessor=function(t){var n,a;t instanceof Function?n=t:t.hasOwnProperty("router")?n=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(n=t),a=n?"CUSTOM":t.mode||"REST-JSON";var r=new e(t.url);return r.init(this),r.setTransactionMode({mode:a,router:n},t.batchUpdate),t.deleteAfterConfirmation&&(r.deleteAfterConfirmation=t.deleteAfterConfirmation),r};var e=function(){function t(n){this.serverProcessor=n,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=o.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),_(this)}return t.prototype.setTransactionMode=function(n,a){typeof n=="object"?(this._tMode=n.mode||this._tMode,s.defined(n.headers)&&(this._headers=n.headers),s.defined(n.payload)&&(this._payload=n.payload),this._tSend=!!a):(this._tMode=n,this._tSend=a),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=n.router)},t.prototype.escape=function(n){return this._utf?encodeURIComponent(n):escape(n)},t.prototype.enableUTFencoding=function(n){this._utf=!!n},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(n,a){this.autoUpdate=n==="cell",this.updateMode=n,this.dnd=a},t.prototype.ignore=function(n,a){this._silent_mode=!0,n.call(a||window),this._silent_mode=!1},t.prototype.setUpdated=function(n,a,r){if(!this._silent_mode){var l=this.findRow(n);r=r||"updated";var d=this.$gantt.getUserData(n,this.action_param,this._ganttMode);d&&r==="updated"&&(r=d),a?(this.set_invalid(n,!1),this.updatedRows[l]=n,this.$gantt.setUserData(n,this.action_param,r,this._ganttMode),this._in_progress[n]&&(this._in_progress[n]="wait")):this.is_invalid(n)||(this.updatedRows.splice(l,1),this.$gantt.setUserData(n,this.action_param,"",this._ganttMode)),this.markRow(n,a,r),a&&this.autoUpdate&&this.sendData(n)}},t.prototype.markRow=function(n,a,r){var l="",d=this.is_invalid(n);if(d&&(l=this.styles[d],a=!0),this.callEvent("onRowMark",[n,a,r,d])&&(l=this.styles[a?r:"clear"]+" "+l,this.$gantt[this._methods[0]](n,l),d&&d.details)){l+=this.styles[d+"_cell"];for(var f=0;f<d.details.length;f++)d.details[f]&&this.$gantt[this._methods[1]](n,f,l)}},t.prototype.getActionByState=function(n){return n==="inserted"?"create":n==="updated"?"update":n==="deleted"?"delete":"update"},t.prototype.getState=function(n){return this.$gantt.getUserData(n,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(n){return this._invalid[n]},t.prototype.set_invalid=function(n,a,r){r&&(a={value:a,details:r,toString:function(){return this.value.toString()}}),this._invalid[n]=a},t.prototype.checkBeforeUpdate=function(n){return!0},t.prototype.sendData=function(n){var a=this;if(this.$gantt.editStop&&this.$gantt.editStop(),n===void 0||this._tSend){var r=[];if(this.modes&&["task","link","assignment"].forEach(function(d){a.modes[d]&&a.modes[d].updatedRows.length&&r.push(d)}),r.length){for(var l=0;l<r.length;l++)this.setGanttMode(r[l]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[n]&&(this.messages=[],!(!this.checkBeforeUpdate(n)&&this.callEvent("onValidationError",[n,this.messages]))&&void this._beforeSendData(this._getRowData(n),n))},t.prototype.serialize=function(n,a){if(this._serializeAsJson)return this._serializeAsJSON(n);if(typeof n=="string")return n;if(a!==void 0)return this.serialize_one(n,"");var r=[],l=[];for(var d in n)n.hasOwnProperty(d)&&(r.push(this.serialize_one(n[d],d+this._postDelim)),l.push(d));return r.push("ids="+this.escape(l.join(","))),this.$gantt.security_key&&r.push("dhx_security="+this.$gantt.security_key),r.join("&")},t.prototype.serialize_one=function(n,a){if(typeof n=="string")return n;var r=[],l="";for(var d in n)if(n.hasOwnProperty(d)){if((d==="id"||d==this.action_param)&&this._tMode==="REST")continue;l=typeof n[d]=="string"||typeof n[d]=="number"?n[d]:JSON.stringify(n[d]),r.push(this.escape((a||"")+d)+"="+this.escape(l))}return r.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var n=!0;if(this._forEachUpdatedRow(function(a){n=n&&this.checkBeforeUpdate(a)}),!n&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(a){if(!this._in_progress[a]){if(this.is_invalid(a))return;this._beforeSendData(this._getRowData(a),a)}})}},t.prototype.findRow=function(n){var a=0;for(a=0;a<this.updatedRows.length&&n!=this.updatedRows[a];a++);return a},t.prototype.defineAction=function(n,a){this._uActions||(this._uActions={}),this._uActions[n]=a},t.prototype.afterUpdateCallback=function(n,a,r,l,d){var f=this;if(this.$gantt){this.setGanttMode(d);var g=n,p=r!=="error"&&r!=="invalid";if(p||this.set_invalid(n,r),this._uActions&&this._uActions[r]&&!this._uActions[r](l))return delete this._in_progress[g];this._in_progress[g]!=="wait"&&this.setUpdated(n,!1);var v=n;switch(r){case"inserted":case"insert":a!=n&&(this.setUpdated(n,!1),this.$gantt[this._methods[2]](n,a),n=a);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(n)){this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode);var y=this.$gantt.getTask(n);this.$gantt.silent(function(){f.$gantt.deleteTask(n)}),this.$gantt.callEvent("onAfterTaskDelete",[n,y]),this.$gantt.render(),delete this._in_progress[g]}return this.callEvent("onAfterUpdate",[n,r,a,l])}return this.$gantt.setUserData(n,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](n),delete this._in_progress[g],this.callEvent("onAfterUpdate",[n,r,a,l])}this._in_progress[g]!=="wait"?(p&&this.$gantt.setUserData(n,this.action_param,"",this._ganttMode),delete this._in_progress[g]):(delete this._in_progress[g],this.setUpdated(a,!0,this.$gantt.getUserData(n,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[v,r,a,l])}},t.prototype.afterUpdate=function(n,a,r){var l,d=this;l=arguments.length===3?arguments[1]:arguments[4];var f=this.getGanttMode(),g=l.filePath||l.url;f=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?g.indexOf("gantt_mode=links")!==-1?"link":g.indexOf("gantt_mode=assignments")!==-1?"assignment":"task":g.indexOf("/link")>=0?"link":g.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(f);var p,v=this.$gantt.ajax;try{p=JSON.parse(a.xmlDoc.responseText)}catch{a.xmlDoc.responseText.length||(p={})}var y=function(P){var j=p.action||d.getState(P)||"updated",N=p.sid||P[0],L=p.tid||P[0];n.afterUpdateCallback(N,L,j,p,f)};if(p)return Array.isArray(r)&&r.length>1?r.forEach(function(P){return y(P)}):y(r),n.finalizeUpdate(),void this.setGanttMode(f);var m=v.xmltop("data",a.xmlDoc);if(!m)return this.cleanUpdate(r);var b=v.xpath("//data/action",m);if(!b.length)return this.cleanUpdate(r);for(var k=0;k<b.length;k++){var C=b[k],w=C.getAttribute("type"),T=C.getAttribute("sid"),E=C.getAttribute("tid");n.afterUpdateCallback(T,E,w,C,f)}n.finalizeUpdate()},t.prototype.cleanUpdate=function(n){if(n)for(var a=0;a<n.length;a++)delete this._in_progress[n[a]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(n){if(!this._initialized){this.$gantt=n,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],i.default(this.$gantt,this);var a=new c.default(this.$gantt,this);a.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,a.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(n){this.attachEvent("onAfterUpdate",n)},t.prototype.setOnBeforeUpdateHandler=function(n){this.attachEvent("onBeforeDataSending",n)},t.prototype.setAutoUpdate=function(n,a){var r=this;n=n||2e3,this._user=a||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){r.loadUpdate()},n)},t.prototype.afterAutoUpdate=function(n,a,r,l){return a!=="collision"||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(n,a){var r=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,r.get(n,a)},t.prototype.loadUpdate=function(){var n=this,a=this.$gantt.ajax,r=this.$gantt.getUserData(0,"version",this._ganttMode),l=this.serverProcessor+a.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+r].join("&");l=l.replace("editing=true&",""),this.getUpdates(l,function(d){var f=a.xpath("//userdata",d);n.$gantt.setUserData(0,"version",n._getXmlNodeValue(f[0]),n._ganttMode);var g=a.xpath("//update",d);if(g.length){n._silent_mode=!0;for(var p=0;p<g.length;p++){var v=g[p].getAttribute("status"),y=g[p].getAttribute("id"),m=g[p].getAttribute("parent");switch(v){case"inserted":n.callEvent("insertCallback",[g[p],y,m]);break;case"updated":n.callEvent("updateCallback",[g[p],y,m]);break;case"deleted":n.callEvent("deleteCallback",[g[p],y,m])}}n._silent_mode=!1}n._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(n){n==="tasks"?n="task":n==="links"&&(n="link");var a=this.modes||{},r=this.getGanttMode();r&&(a[r]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var l=a[n];l||(l=a[n]={_in_progress:{},_invalid:{},_storage:o.default.create(),updatedRows:[]}),this._in_progress=l._in_progress,this._invalid=l._invalid,this._storage=l._storage,this.updatedRows=l.updatedRows,this.modes=a,this._ganttMode=n},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(n){this._storage.storeItem(n)},t.prototype.url=function(n){this.serverProcessor=this._serverProcessor=n},t.prototype._beforeSendData=function(n,a){if(!this.callEvent("onBeforeUpdate",[a,this.getState(a),n]))return!1;this._sendData(n,a)},t.prototype._serializeAsJSON=function(n){if(typeof n=="string")return n;var a=s.copy(n);return this._tMode==="REST-JSON"&&(delete a.id,delete a[this.action_param]),JSON.stringify(a)},t.prototype._applyPayload=function(n){var a=this.$gantt.ajax;if(this._payload)for(var r in this._payload)n=n+a.urlSeparator(n)+this.escape(r)+"="+this.escape(this._payload[r]);return n},t.prototype._cleanupArgumentsBeforeSend=function(n){var a;if(n[this.action_param]===void 0)for(var r in a={},n)a[r]=this._cleanupArgumentsBeforeSend(n[r]);else a=this._cleanupItemBeforeSend(n);return a},t.prototype._cleanupItemBeforeSend=function(n){var a=null;return n&&(n[this.action_param]==="deleted"?((a={}).id=n.id,a[this.action_param]=n[this.action_param]):a=n),a},t.prototype._sendData=function(n,a){var r=this;if(n){if(!this.callEvent("onBeforeDataSending",a?[a,this.getState(a),n]:[null,null,n]))return!1;a&&(this._in_progress[a]=new Date().valueOf());var l=this.$gantt.ajax;if(this._tMode!=="CUSTOM"){var d;d={callback:function(N){var L=[];if(a)L.push(a);else if(n)for(var B in n)L.push(B);return r.afterUpdate(r,N,L)},headers:this._headers};var f,g="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?l.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,g].join("&"):""),v=this._applyPayload(p);switch(this._tMode){case"GET":f=this._cleanupArgumentsBeforeSend(n),d.url=v+l.urlSeparator(v)+this.serialize(f,a),d.method="GET";break;case"POST":f=this._cleanupArgumentsBeforeSend(n),d.url=v,d.method="POST",d.data=this.serialize(f,a);break;case"JSON":f={};var y=this._cleanupItemBeforeSend(n);for(var m in y)m!==this.action_param&&m!=="id"&&m!=="gr_id"&&(f[m]=y[m]);d.url=v,d.method="POST",d.data=JSON.stringify({id:a,action:n[this.action_param],data:f});break;case"REST":case"REST-JSON":switch(v=p.replace(/(&|\?)editing=true/,""),f="",this.getState(a)){case"inserted":d.method="POST",d.data=this.serialize(n,a);break;case"deleted":d.method="DELETE",v=v+(v.slice(-1)==="/"?"":"/")+a;break;default:d.method="PUT",d.data=this.serialize(n,a),v=v+(v.slice(-1)==="/"?"":"/")+a}d.url=this._applyPayload(v)}return this._waitMode++,l.query(d)}var b=this.getState(a),k=this.getActionByState(b),C=this.getGanttMode(),w=function(N){var L=b||"updated",B=a,I=a;N&&(L=N.action||b,B=N.sid||B,I=N.id||N.tid||I),r.afterUpdateCallback(B,I,L,N,C)},T=void 0;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){var E={entity:C,action:k,data:n,id:a};T=this._router(E)}else T=this._router(C,k,n,a);else if(this._router[C]instanceof Function)T=this._router[C](k,n,a);else{var P="Incorrect configuration of gantt.createDataProcessor",j=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[C])throw new Error(P+": router for the **"+C+"** entity is not defined. "+j);switch(b){case"inserted":if(!this._router[C].create)throw new Error(P+": **create** action for the **"+C+"** entity is not defined. "+j);T=this._router[C].create(n);break;case"deleted":if(!this._router[C].delete)throw new Error(P+": **delete** action for the **"+C+"** entity is not defined. "+j);T=this._router[C].delete(a);break;default:if(!this._router[C].update)throw new Error(P+': **update**" action for the **'+C+"** entity is not defined. "+j);T=this._router[C].update(n,a)}}if(T){if(!T.then&&T.id===void 0&&T.tid===void 0&&T.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");T.then?T.then(w).catch(function(N){N&&N.action?w(N):w({action:"error",value:N})}):w(T)}else w(null)}},t.prototype._forEachUpdatedRow=function(n){for(var a=this.updatedRows.slice(),r=0;r<a.length;r++){var l=a[r];this.$gantt.getUserData(l,this.action_param,this._ganttMode)&&n.call(this,l)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(n){return n.firstChild?n.firstChild.nodeValue:""},t.prototype._getAllData=function(){var n={},a=!1;return this._forEachUpdatedRow(function(r){if(!this._in_progress[r]&&!this.is_invalid(r)){var l=this._getRowData(r);this.callEvent("onBeforeUpdate",[r,this.getState(r),l])&&(n[r]=l,a=!0,this._in_progress[r]=new Date().valueOf())}}),a?n:null},t.prototype._prepareDate=function(n){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(n):this.$gantt.templates.format_date(n)},t.prototype._prepareArray=function(n,a){var r=this;return a.push(n),n.map(function(l){return u.isDate(l)?r._prepareDate(l):Array.isArray(l)&&!u.arrayIncludes(a,l)?r._prepareArray(l,a):l&&typeof l=="object"&&!u.arrayIncludes(a,l)?r._prepareObject(l,a):l})},t.prototype._prepareObject=function(n,a){var r={};for(var l in a.push(n),n)if(l.substr(0,1)!=="$"){var d=n[l];u.isDate(d)?r[l]=this._prepareDate(d):d===null?r[l]="":Array.isArray(d)&&!u.arrayIncludes(a,d)?r[l]=this._prepareArray(d,a):d&&typeof d=="object"&&!u.arrayIncludes(a,d)?r[l]=this._prepareObject(d,a):r[l]=d}return r},t.prototype._prepareDataItem=function(n){var a=this._prepareObject(n,[]);return a[this.action_param]=this.$gantt.getUserData(n.id,this.action_param,this._ganttMode),a},t.prototype.getStoredItem=function(n){return this._storage.getStoredItem(n)},t.prototype._getRowData=function(n){var a,r=this.$gantt;return this.getGanttMode()==="task"?r.isTaskExists(n)&&(a=this.$gantt.getTask(n)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(n)&&(a=this.$gantt.$data.assignmentsStore.getItem(n)):r.isLinkExists(n)&&(a=this.$gantt.getLink(n)),a||(a=this.getStoredItem(n)),a||(a={id:n}),this._prepareDataItem(a)},t}();x.DataProcessor=e},function(S,x,h){var _=h(240);S.exports={DEPRECATED_api:function(u){return new _.DataProcessor(u)},createDataProcessor:_.createDataProcessor,getDataProcessorModes:_.getAvailableModes}},function(S,x,h){var _=h(15);S.exports={bindDataStore:function(u,s){var c=s.getDatastore(u),i=function(n,a){var r=a.getLayers(),l=c.getItem(n);if(l&&c.isVisible(n))for(var d=0;d<r.length;d++)r[d].render_item(l)},o=function(n){for(var a=n.getLayers(),r=0;r<a.length;r++)a[r].clear();for(var l=null,d={},f=0;f<a.length;f++){var g=a[f],p=void 0;if(g.get_visible_range){var v=g.get_visible_range(c);if(v.start!==void 0&&v.end!==void 0){var y=v.start+" - "+v.end;d[y]?p=d[y]:(p=c.getIndexRange(v.start,v.end),d[y]=p)}else{if(v.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=v.ids.map(function(m){return c.getItem(m)})}}else l||(l=c.getVisibleItems()),p=l;g.prepare_data&&g.prepare_data(p),a[f].render_items(p)}},e=function(n){if(n.update_items){var a;if(n.get_visible_range){var r=n.get_visible_range(c);if(r.start!==void 0&&r.end!==void 0)a=c.getIndexRange(r.start,r.end);else{if(r.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");a=r.ids.map(function(l){return c.getItem(l)})}}else a=c.getVisibleItems();n.prepare_data&&n.prepare_data(a,n),n.update_items(a)}};function t(n){return!!n.$services.getService("state").getState("batchUpdate").batch_update}c.attachEvent("onStoreUpdated",function(n,a,r){if(_(s))return!0;var l=s.$services.getService("layers").getDataRender(u);l&&(l.onUpdateRequest=function(d){e(d)})}),c.attachEvent("onStoreUpdated",function(n,a,r){t(s)||(n&&r!="move"&&r!="delete"?(c.callEvent("onBeforeRefreshItem",[a.id]),c.callEvent("onAfterRefreshItem",[a.id])):(c.callEvent("onBeforeRefreshAll",[]),c.callEvent("onAfterRefreshAll",[])))}),c.attachEvent("onAfterRefreshAll",function(){if(_(s))return!0;var n=s.$services.getService("layers").getDataRender(u);n&&!t(s)&&o(n)}),c.attachEvent("onAfterRefreshItem",function(n){if(_(s))return!0;var a=s.$services.getService("layers").getDataRender(u);a&&i(n,a)}),c.attachEvent("onItemOpen",function(){if(_(s))return!0;s.render()}),c.attachEvent("onItemClose",function(){if(_(s))return!0;s.render()}),c.attachEvent("onIdChange",function(n,a){if(_(s))return!0;if(c.callEvent("onBeforeIdChange",[n,a]),!t(s)&&!c.isSilent()){var r=s.$services.getService("layers").getDataRender(u);r?(function(l,d,f,g){for(var p=0;p<l.length;p++)l[p].change_id(d,f)}(r.getLayers(),n,a,c.getItem(a)),i(a,r)):s.render()}})}}},function(S,x){S.exports=function(h){var _=null,u=h._removeItemInner;function s(c){_=null,this.callEvent("onAfterUnselect",[c])}return h._removeItemInner=function(c){return _==c&&s.call(this,c),_&&this.eachItem&&this.eachItem(function(i){i.id==_&&s.call(this,i.id)},c),u.apply(this,arguments)},h.attachEvent("onIdChange",function(c,i){h.getSelectedId()==c&&h.silent(function(){h.unselect(c),h.select(i)})}),{select:function(c){if(c){if(_==c)return _;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[c]))return!1;this.unselect(),_=c,this._skip_refresh||(this.refresh(c),this.callEvent("onAfterSelect",[c]))}return _},getSelectedId:function(){return _},isSelected:function(c){return c==_},unselect:function(c){(c=c||_)&&(_=null,this._skip_refresh||(this.refresh(c),s.call(this,c)))}}}},function(S,x,h){var _=h(0);S.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(u){return this.$data.linksStore.getItem(u)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(u){return this.$data.linksStore.exists(u)},addLink:function(u){var s=this.$data.linksStore.addItem(u);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(s),s},updateLink:function(u,s){_.defined(s)||(s=this.getLink(u)),this.$data.linksStore.updateItem(u,s)},deleteLink:function(u){return this.$data.linksStore.removeItem(u)},changeLinkId:function(u,s){return this.$data.linksStore.changeId(u,s)}}}},function(S,x,h){var _=h(0),u=h(2).replaceValidZeroId;S.exports=function(){return{getTask:function(s){s=u(s,this.config.root_id),this.assert(s,"Invalid argument for gantt.getTask");var c=this.$data.tasksStore.getItem(s);return this.assert(c,"Task not found id="+s),c},getTaskByTime:function(s,c){var i=this.$data.tasksStore.getItems(),o=[];if(s||c){s=+s||-1/0,c=+c||1/0;for(var e=0;e<i.length;e++){var t=i[e];+t.start_date<c&&+t.end_date>s&&o.push(t)}}else o=i;return o},isTaskExists:function(s){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(s)},updateTask:function(s,c){_.defined(c)||(c=this.getTask(s)),this.$data.tasksStore.updateItem(s,c),this.isTaskExists(s)&&this.refreshTask(s)},addTask:function(s,c,i){return _.defined(s.id)||(s.id=_.uid()),this.isTaskExists(s.id)&&this.getTask(s.id).$index!=s.$index?(s.start_date&&typeof s.start_date=="string"&&(s.start_date=this.date.parseDate(s.start_date,"parse_date")),s.end_date&&typeof s.end_date=="string"&&(s.end_date=this.date.parseDate(s.end_date,"parse_date")),this.$data.tasksStore.updateItem(s.id,s)):(_.defined(c)||(c=this.getParent(s)||0),this.isTaskExists(c)||(c=this.config.root_id),this.setParent(s,c),this.$data.tasksStore.addItem(s,i,c))},deleteTask:function(s){return s=u(s,this.config.root_id),this.$data.tasksStore.removeItem(s)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(s){return this.$data.tasksStore.getBranchIndex(s)},getGlobalTaskIndex:function(s){return s=u(s,this.config.root_id),this.assert(s,"Invalid argument"),this.$data.tasksStore.getIndexById(s)},eachTask:function(s,c,i){return this.$data.tasksStore.eachItem(_.bind(s,i||this),c)},eachParent:function(s,c,i){return this.$data.tasksStore.eachParent(_.bind(s,i||this),c)},changeTaskId:function(s,c){this.$data.tasksStore.changeId(s,c);var i=this.$data.tasksStore.getItem(c),o=[];i.$source&&(o=o.concat(i.$source)),i.$target&&(o=o.concat(i.$target));for(var e=0;e<o.length;e++){var t=this.getLink(o[e]);t.source==s&&(t.source=c),t.target==s&&(t.target=c)}},calculateTaskLevel:function(s){return this.$data.tasksStore.calculateItemLevel(s)},getNext:function(s){return this.$data.tasksStore.getNext(s)},getPrev:function(s){return this.$data.tasksStore.getPrev(s)},getParent:function(s){return this.$data.tasksStore.getParent(s)},setParent:function(s,c,i){return this.$data.tasksStore.setParent(s,c,i)},getSiblings:function(s){return this.$data.tasksStore.getSiblings(s).slice()},getNextSibling:function(s){return this.$data.tasksStore.getNextSibling(s)},getPrevSibling:function(s){return this.$data.tasksStore.getPrevSibling(s)},getTaskByIndex:function(s){var c=this.$data.tasksStore.getIdByIndex(s);return this.isTaskExists(c)?this.getTask(c):null},getChildren:function(s){return this.hasChild(s)?this.$data.tasksStore.getChildren(s).slice():[]},hasChild:function(s){return this.$data.tasksStore.hasChild(s)},open:function(s){this.$data.tasksStore.open(s)},close:function(s){this.$data.tasksStore.close(s)},moveTask:function(s,c,i){return i=u(i,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(s,c,i,o){var e=!o;this.$data.tasksStore.sort(s,c,i),this.callEvent("onAfterSort",[s,c,i]),e&&this.render()}}}},function(S,x,h){var _=h(0),u=h(245),s=h(244),c=h(54),i=h(52),o=h(243),e=h(242),t=h(15),n=h(2).replaceValidZeroId;function a(){for(var l=this.$services.getService("datastores"),d=[],f=0;f<l.length;f++){var g=this.getDatastore(l[f]);g.$destroyed||d.push(g)}return d}c.default&&(c=c.default);var r=function(){return{createDatastore:function(l){var d=(l.type||"").toLowerCase()=="treedatastore"?i:c;if(l){var f=this;l.openInitially=function(){return f.config.open_tree_initially},l.copyOnParse=function(){return f.config.deepcopy_on_parse}}var g=new d(l);if(this.mixin(g,o(g)),l.name){var p="datastore:"+l.name;g.attachEvent("onDestroy",(function(){this.$services.dropService(p);for(var y=this.$services.getService("datastores"),m=0;m<y.length;m++)if(y[m]===l.name){y.splice(m,1);break}}).bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return g});var v=this.$services.getService("datastores");v?v.indexOf(l.name)<0&&v.push(l.name):(v=[],this.$services.setService("datastores",function(){return v}),v.push(l.name)),e.bindDataStore(l.name,this)}return g},getDatastore:function(l){return this.$services.getService("datastore:"+l)},_getDatastores:a,refreshData:function(){var l;t(this)||(l=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var d=a.call(this),f=0;f<d.length;f++)d[f].refresh();this.config.preserve_scroll&&!t(this)&&(l.x||l.y)&&this.scrollTo(l.x,l.y),this.callEvent("onDataRender",[])},isChildOf:function(l,d){return this.$data.tasksStore.isChildOf(l,d)},refreshTask:function(l,d){var f=this.getTask(l),g=this;function p(){if(d===void 0||d){for(var y=0;y<f.$source.length;y++)g.refreshLink(f.$source[y]);for(y=0;y<f.$target.length;y++)g.refreshLink(f.$target[y])}}if(f&&this.isTaskVisible(l))this.$data.tasksStore.refresh(l,!!this.getState("tasksDnd").drag_id||d===!1),p();else if(this.isTaskExists(l)&&this.isTaskExists(this.getParent(l))&&!this._bulk_dnd){this.refreshTask(this.getParent(l));var v=!1;this.eachParent(function(y){(v||this.isSplitTask(y))&&(v=!0)},l),v&&p()}},refreshLink:function(l){this.$data.linksStore.refresh(l,!!this.getState("tasksDnd").drag_id)},silent:function(l){var d=this;d.$data.tasksStore.silent(function(){d.$data.linksStore.silent(function(){l()})})},clearAll:function(){for(var l=a.call(this),d=0;d<l.length;d++)l[d].silent(function(){l[d].clearAll()});for(d=0;d<l.length;d++)l[d].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(l){var d=this.$data.tasksStore;if(!this.config.select_task)return!1;if(l=n(l,this.config.root_id)){var f=this.getSelectedId();d.select(l),f&&d.pull[f].$split_subtask&&f!=l&&this.refreshTask(f),d.pull[l].$split_subtask&&f!=l&&this.refreshTask(l)}return d.getSelectedId()},unselectTask:function(l){var d=this.$data.tasksStore;d.unselect(l),l&&d.pull[l].$split_subtask&&this.refreshTask(l)},isSelectedTask:function(l){return this.$data.tasksStore.isSelected(l)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};S.exports={create:function(){var l=_.mixin({},r());return _.mixin(l,u()),_.mixin(l,s()),l}}},function(S,x,h){var _=h(0),u=h(246),s=h(51),c=h(16);S.exports=function(i){var o=u.create();_.mixin(i,o);var e=i.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return i.config.root_id},initItem:_.bind(function(f){this.defined(f.id)||(f.id=this.uid()),f.start_date&&(f.start_date=i.date.parseDate(f.start_date,"parse_date")),f.end_date&&(f.end_date=i.date.parseDate(f.end_date,"parse_date"));var g=null;(f.duration||f.duration===0)&&(f.duration=g=1*f.duration),g&&(f.start_date&&!f.end_date?f.end_date=this.calculateEndDate(f):!f.start_date&&f.end_date&&(f.start_date=this.calculateEndDate({start_date:f.end_date,duration:-f.duration,task:f}))),f.progress=Number(f.progress)||0,this._isAllowedUnscheduledTask(f)&&this._set_default_task_timing(f),this._init_task_timing(f),f.start_date&&f.end_date&&this.correctTaskWorkTime(f),f.$source=[],f.$target=[];var p=this.$data.tasksStore.getItem(f.id);return p&&!_.defined(f.open)&&(f.$open=p.$open),f.parent===void 0&&(f.parent=this.config.root_id),f},i),getConfig:function(){return i.config}}),t=i.createDatastore({name:"link",initItem:_.bind(function(f){return this.defined(f.id)||(f.id=this.uid()),f},i)});function n(f){var g=i.isTaskVisible(f);if(!g&&i.isTaskExists(f)){var p=i.getParent(f);i.isTaskExists(p)&&i.isTaskVisible(p)&&(p=i.getTask(p),i.isSplitTask(p)&&(g=!0))}return g}function a(f){if(i.isTaskExists(f.source)){var g=i.getTask(f.source);g.$source=g.$source||[],g.$source.push(f.id)}if(i.isTaskExists(f.target)){var p=i.getTask(f.target);p.$target=p.$target||[],p.$target.push(f.id)}}function r(f){if(i.isTaskExists(f.source)){for(var g=i.getTask(f.source),p=0;p<g.$source.length;p++)if(g.$source[p]==f.id){g.$source.splice(p,1);break}}if(i.isTaskExists(f.target)){var v=i.getTask(f.target);for(p=0;p<v.$target.length;p++)if(v.$target[p]==f.id){v.$target.splice(p,1);break}}}function l(){for(var f=null,g=i.$data.tasksStore.getItems(),p=0,v=g.length;p<v;p++)(f=g[p]).$source=[],f.$target=[];var y=i.$data.linksStore.getItems();for(p=0,v=y.length;p<v;p++)a(y[p])}function d(f){var g=f.source,p=f.target;for(var v in f.events)(function(y,m){g.attachEvent(y,function(){return p.callEvent(m,Array.prototype.slice.call(arguments))},m)})(v,f.events[v])}i.attachEvent("onDestroy",function(){e.destructor(),t.destructor()}),i.attachEvent("onLinkValidation",function(f){if(i.isLinkExists(f.id)||f.id==="predecessor_generated")return!0;for(var g=i.getTask(f.source).$source,p=0;p<g.length;p++){var v=i.getLink(g[p]),y=f.source==v.source,m=f.target==v.target,b=f.type==v.type;if(y&&m&&b)return!1}return!0}),e.attachEvent("onBeforeRefreshAll",function(){if(!e._skipTaskRecalculation)for(var f=e.getVisibleItems(),g=0;g<f.length;g++){var p=f[g];p.$index=g,p.$local_index=i.getTaskIndex(p.id),i.resetProjectDates(p)}}),e.attachEvent("onFilterItem",function(f,g){if(i.config.show_tasks_outside_timescale)return!0;var p=null,v=null;if(i.config.start_date&&i.config.end_date){if(i._isAllowedUnscheduledTask(g))return!0;if(p=i.config.start_date.valueOf(),v=i.config.end_date.valueOf(),+g.start_date>v||+g.end_date<+p)return!1}return!0}),e.attachEvent("onIdChange",function(f,g){i._update_flags(f,g);var p=i.getTask(g);e.isSilent()||(p.$split_subtask||p.rollup)&&i.eachParent(function(v){i.refreshTask(v.id)},g)}),e.attachEvent("onAfterUpdate",function(f){if(i._update_parents(f),i.getState("batchUpdate").batch_update)return!0;var g=e.getItem(f);g.$source||(g.$source=[]);for(var p=0;p<g.$source.length;p++)t.refresh(g.$source[p]);for(g.$target||(g.$target=[]),p=0;p<g.$target.length;p++)t.refresh(g.$target[p])}),e.attachEvent("onBeforeItemMove",function(f,g,p){return!c(f,i,e)||(console.log("The placeholder task cannot be moved to another position."),!1)}),e.attachEvent("onAfterItemMove",function(f,g,p){var v=i.getTask(f);this.getNextSibling(f)!==null?v.$drop_target=this.getNextSibling(f):this.getPrevSibling(f)!==null?v.$drop_target="next:"+this.getPrevSibling(f):v.$drop_target="next:null"}),e.attachEvent("onStoreUpdated",function(f,g,p){if(p=="delete"&&i._update_flags(f,null),!i.$services.getService("state").getState("batchUpdate").batch_update){if(i.config.fit_tasks&&p!=="paint"){var v=i.getState();s(i);var y=i.getState();if(+v.min_date!=+y.min_date||+v.max_date!=+y.max_date)return i.render(),i.callEvent("onScaleAdjusted",[]),!0}p=="add"||p=="move"||p=="delete"?i.$layout&&(this.$config.name!="task"||p!="add"&&p!="delete"||this._skipTaskRecalculation!="lightbox"&&(this._skipTaskRecalculation=!0),i.$layout.resize()):f||t.refresh()}}),t.attachEvent("onAfterAdd",function(f,g){a(g)}),t.attachEvent("onAfterUpdate",function(f,g){l()}),t.attachEvent("onAfterDelete",function(f,g){r(g)}),t.attachEvent("onBeforeIdChange",function(f,g){r(i.mixin({id:f},i.$data.linksStore.getItem(g))),a(i.$data.linksStore.getItem(g))}),t.attachEvent("onFilterItem",function(f,g){if(!i.config.show_links)return!1;var p=n(g.source),v=n(g.target);return!(!p||!v||i._isAllowedUnscheduledTask(i.getTask(g.source))||i._isAllowedUnscheduledTask(i.getTask(g.target)))&&i.callEvent("onBeforeLinkDisplay",[f,g])}),function(){var f=h(48),g={};i.attachEvent("onBeforeTaskDelete",function(p,v){return g[p]=f.getSubtreeLinks(i,p),!0}),i.attachEvent("onAfterTaskDelete",function(p,v){g[p]&&i.$data.linksStore.silent(function(){for(var y in g[p])i.isLinkExists(y)&&i.$data.linksStore.removeItem(y),r(g[p][y]);g[p]=null})})}(),i.attachEvent("onAfterLinkDelete",function(f,g){i.refreshTask(g.source),i.refreshTask(g.target)}),i.attachEvent("onParse",l),d({source:t,target:i,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:e,target:i,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),i.$data={tasksStore:e,linksStore:t}}},function(S,x,h){(function(_,u,s){var c,i,o;function e(t){"@babel/helpers - typeof";return(e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(t){e(x)=="object"&&S!==void 0?S.exports=t():(i=[],(o=typeof(c=t)=="function"?c.apply(x,i):c)===void 0||(S.exports=o))})(function(){return function t(n,a,r){function l(g,p){if(!a[g]){if(!n[g]){var v=typeof _dereq_=="function"&&_dereq_;if(!p&&v)return v(g,!0);if(d)return d(g,!0);var y=new Error("Cannot find module '"+g+"'");throw y.code="MODULE_NOT_FOUND",y}var m=a[g]={exports:{}};n[g][0].call(m.exports,function(b){var k=n[g][1][b];return l(k||b)},m,m.exports,t,n,a,r)}return a[g].exports}for(var d=typeof _dereq_=="function"&&_dereq_,f=0;f<r.length;f++)l(r[f]);return l}({1:[function(t,n,a){n.exports=function(r){var l=r._SomePromiseArray;function d(f){var g=new l(f),p=g.promise();return g.setHowMany(1),g.setUnwrap(),g.init(),p}r.any=function(f){return d(f)},r.prototype.any=function(){return d(this)}}},{}],2:[function(t,n,a){var r;try{throw new Error}catch(k){r=k}var l=t("./schedule"),d=t("./queue"),f=t("./util");function g(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new d(16),this._normalQueue=new d(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var k=this;this.drainQueues=function(){k._drainQueues()},this._schedule=l}function p(k,C,w){this._lateQueue.push(k,C,w),this._queueTick()}function v(k,C,w){this._normalQueue.push(k,C,w),this._queueTick()}function y(k){this._normalQueue._pushOne(k),this._queueTick()}function m(k){for(;k.length()>0;)b(k)}function b(k){var C=k.shift();if(typeof C!="function")C._settlePromises();else{var w=k.shift(),T=k.shift();C.call(w,T)}}g.prototype.setScheduler=function(k){var C=this._schedule;return this._schedule=k,this._customScheduler=!0,C},g.prototype.hasCustomScheduler=function(){return this._customScheduler},g.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},g.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},g.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},g.prototype.fatalError=function(k,C){C?(_.stderr.write("Fatal "+(k instanceof Error?k.stack:k)+`
`),_.exit(2)):this.throwLater(k)},g.prototype.throwLater=function(k,C){if(arguments.length===1&&(C=k,k=function(){throw C}),typeof setTimeout<"u")setTimeout(function(){k(C)},0);else try{this._schedule(function(){k(C)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},f.hasDevTools?(g.prototype.invokeLater=function(k,C,w){this._trampolineEnabled?p.call(this,k,C,w):this._schedule(function(){setTimeout(function(){k.call(C,w)},100)})},g.prototype.invoke=function(k,C,w){this._trampolineEnabled?v.call(this,k,C,w):this._schedule(function(){k.call(C,w)})},g.prototype.settlePromises=function(k){this._trampolineEnabled?y.call(this,k):this._schedule(function(){k._settlePromises()})}):(g.prototype.invokeLater=p,g.prototype.invoke=v,g.prototype.settlePromises=y),g.prototype._drainQueues=function(){m(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,m(this._lateQueue)},g.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},g.prototype._reset=function(){this._isTickUsed=!1},n.exports=g,n.exports.firstLineError=r},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,n,a){n.exports=function(r,l,d,f){var g=!1,p=function(b,k){this._reject(k)},v=function(b,k){k.promiseRejectionQueued=!0,k.bindingPromise._then(p,p,null,this,b)},y=function(b,k){!(50397184&this._bitField)&&this._resolveCallback(k.target)},m=function(b,k){k.promiseRejectionQueued||this._reject(b)};r.prototype.bind=function(b){g||(g=!0,r.prototype._propagateFrom=f.propagateFromFunction(),r.prototype._boundValue=f.boundValueFunction());var k=d(b),C=new r(l);C._propagateFrom(this,1);var w=this._target();if(C._setBoundTo(k),k instanceof r){var T={promiseRejectionQueued:!1,promise:C,target:w,bindingPromise:k};w._then(l,v,void 0,C,T),k._then(y,m,void 0,C,T),C._setOnCancel(k)}else C._resolveCallback(w);return C},r.prototype._setBoundTo=function(b){b!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=b):this._bitField=-2097153&this._bitField},r.prototype._isBound=function(){return(2097152&this._bitField)==2097152},r.bind=function(b,k){return r.resolve(k).bind(b)}}},{}],4:[function(t,n,a){var r;typeof Promise<"u"&&(r=Promise);var l=t("./promise")();l.noConflict=function(){try{Promise===l&&(Promise=r)}catch{}return l},n.exports=l},{"./promise":22}],5:[function(t,n,a){var r=Object.create;if(r){var l=r(null),d=r(null);l[" size"]=d[" size"]=0}n.exports=function(f){var g=t("./util"),p=g.canEvaluate;g.isIdentifier;function v(b){return function(k,C){var w;if(k!=null&&(w=k[C]),typeof w!="function"){var T="Object "+g.classString(k)+" has no method '"+g.toString(C)+"'";throw new f.TypeError(T)}return w}(b,this.pop()).apply(b,this)}function y(b){return b[this]}function m(b){var k=+this;return k<0&&(k=Math.max(0,k+b.length)),b[k]}f.prototype.call=function(b){var k=[].slice.call(arguments,1);return k.push(b),this._then(v,void 0,void 0,k,void 0)},f.prototype.get=function(b){var k;if(typeof b=="number")k=m;else if(p){var C=(void 0)(b);k=C!==null?C:y}else k=y;return this._then(k,void 0,void 0,b,void 0)}}},{"./util":36}],6:[function(t,n,a){n.exports=function(r,l,d,f){var g=t("./util"),p=g.tryCatch,v=g.errorObj,y=r._async;r.prototype.break=r.prototype.cancel=function(){if(!f.cancellation())return this._warn("cancellation is disabled");for(var m=this,b=m;m._isCancellable();){if(!m._cancelBy(b)){b._isFollowing()?b._followee().cancel():b._cancelBranched();break}var k=m._cancellationParent;if(k==null||!k._isCancellable()){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}m._isFollowing()&&m._followee().cancel(),m._setWillBeCancelled(),b=m,m=k}},r.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},r.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},r.prototype._cancelBy=function(m){return m===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},r.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},r.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),y.invoke(this._cancelPromises,this,void 0))},r.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},r.prototype._unsetOnCancel=function(){this._onCancelField=void 0},r.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},r.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},r.prototype._doInvokeOnCancel=function(m,b){if(g.isArray(m))for(var k=0;k<m.length;++k)this._doInvokeOnCancel(m[k],b);else if(m!==void 0)if(typeof m=="function"){if(!b){var C=p(m).call(this._boundValue());C===v&&(this._attachExtraTrace(C.e),y.throwLater(C.e))}}else m._resultCancelled(this)},r.prototype._invokeOnCancel=function(){var m=this._onCancel();this._unsetOnCancel(),y.invoke(this._doInvokeOnCancel,this,m)},r.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},r.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,n,a){n.exports=function(r){var l=t("./util"),d=t("./es5").keys,f=l.tryCatch,g=l.errorObj;return function(p,v,y){return function(m){var b=y._boundValue();t:for(var k=0;k<p.length;++k){var C=p[k];if(C===Error||C!=null&&C.prototype instanceof Error){if(m instanceof C)return f(v).call(b,m)}else if(typeof C=="function"){var w=f(C).call(b,m);if(w===g)return w;if(w)return f(v).call(b,m)}else if(l.isObject(m)){for(var T=d(C),E=0;E<T.length;++E){var P=T[E];if(C[P]!=m[P])continue t}return f(v).call(b,m)}}return r}}}},{"./es5":13,"./util":36}],8:[function(t,n,a){n.exports=function(r){var l=!1,d=[];function f(){this._trace=new f.CapturedTrace(g())}function g(){var p=d.length-1;if(p>=0)return d[p]}return r.prototype._promiseCreated=function(){},r.prototype._pushContext=function(){},r.prototype._popContext=function(){return null},r._peekContext=r.prototype._peekContext=function(){},f.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,d.push(this._trace))},f.prototype._popContext=function(){if(this._trace!==void 0){var p=d.pop(),v=p._promiseCreated;return p._promiseCreated=null,v}return null},f.CapturedTrace=null,f.create=function(){if(l)return new f},f.deactivateLongStackTraces=function(){},f.activateLongStackTraces=function(){var p=r.prototype._pushContext,v=r.prototype._popContext,y=r._peekContext,m=r.prototype._peekContext,b=r.prototype._promiseCreated;f.deactivateLongStackTraces=function(){r.prototype._pushContext=p,r.prototype._popContext=v,r._peekContext=y,r.prototype._peekContext=m,r.prototype._promiseCreated=b,l=!1},l=!0,r.prototype._pushContext=f.prototype._pushContext,r.prototype._popContext=f.prototype._popContext,r._peekContext=r.prototype._peekContext=g,r.prototype._promiseCreated=function(){var k=this._peekContext();k&&k._promiseCreated==null&&(k._promiseCreated=this)}},f}},{}],9:[function(t,n,a){n.exports=function(r,l){var d,f,g,p=r._getDomain,v=r._async,y=t("./errors").Warning,m=t("./util"),b=t("./es5"),k=m.canAttachTrace,C=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,w=/\((?:timers\.js):\d+:\d+\)/,T=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,E=null,P=null,j=!1,N=m.env("BLUEBIRD_DEBUG")!=0,L=!(m.env("BLUEBIRD_WARNINGS")==0||!N&&!m.env("BLUEBIRD_WARNINGS")),B=!(m.env("BLUEBIRD_LONG_STACK_TRACES")==0||!N&&!m.env("BLUEBIRD_LONG_STACK_TRACES")),I=m.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(L||!!m.env("BLUEBIRD_W_FORGOTTEN_RETURN"));r.prototype.suppressUnhandledRejections=function(){var Z=this._target();Z._bitField=-1048577&Z._bitField|524288},r.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var Z=this;setTimeout(function(){Z._notifyUnhandledRejection()},1)}},r.prototype._notifyUnhandledRejectionIsHandled=function(){pt("rejectionHandled",d,void 0,this)},r.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},r.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},r.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var Z=this._settledValue();this._setUnhandledRejectionIsNotified(),pt("unhandledRejection",f,Z,this)}},r.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},r.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},r.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},r.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},r.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},r.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},r.prototype._warn=function(Z,et,ot){return rt(Z,et,ot||this)},r.onPossiblyUnhandledRejection=function(Z){var et=p();f=typeof Z=="function"?et===null?Z:m.domainBind(et,Z):void 0},r.onUnhandledRejectionHandled=function(Z){var et=p();d=typeof Z=="function"?et===null?Z:m.domainBind(et,Z):void 0};var V=function(){};r.longStackTraces=function(){if(v.haveItemsQueued()&&!at.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!at.longStackTraces&&bt()){var Z=r.prototype._captureStackTrace,et=r.prototype._attachExtraTrace,ot=r.prototype._dereferenceTrace;at.longStackTraces=!0,V=function(){if(v.haveItemsQueued()&&!at.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);r.prototype._captureStackTrace=Z,r.prototype._attachExtraTrace=et,r.prototype._dereferenceTrace=ot,l.deactivateLongStackTraces(),v.enableTrampoline(),at.longStackTraces=!1},r.prototype._captureStackTrace=X,r.prototype._attachExtraTrace=nt,r.prototype._dereferenceTrace=J,l.activateLongStackTraces(),v.disableTrampolineIfNecessary()}},r.hasLongStackTraces=function(){return at.longStackTraces&&bt()};var Y=function(){try{if(typeof CustomEvent=="function"){var Z=new CustomEvent("CustomEvent");return m.global.dispatchEvent(Z),function(et,ot){var st={detail:ot,cancelable:!0};b.defineProperty(st,"promise",{value:ot.promise}),b.defineProperty(st,"reason",{value:ot.reason});var dt=new CustomEvent(et.toLowerCase(),st);return!m.global.dispatchEvent(dt)}}return typeof Event=="function"?(Z=new Event("CustomEvent"),m.global.dispatchEvent(Z),function(et,ot){var st=new Event(et.toLowerCase(),{cancelable:!0});return st.detail=ot,b.defineProperty(st,"promise",{value:ot.promise}),b.defineProperty(st,"reason",{value:ot.reason}),!m.global.dispatchEvent(st)}):((Z=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),m.global.dispatchEvent(Z),function(et,ot){var st=document.createEvent("CustomEvent");return st.initCustomEvent(et.toLowerCase(),!1,!0,ot),!m.global.dispatchEvent(st)})}catch{}return function(){return!1}}(),H=m.isNode?function(){return _.emit.apply(_,arguments)}:m.global?function(Z){var et="on"+Z.toLowerCase(),ot=m.global[et];return!!ot&&(ot.apply(m.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function F(Z,et){return{promise:et}}var G={promiseCreated:F,promiseFulfilled:F,promiseRejected:F,promiseResolved:F,promiseCancelled:F,promiseChained:function(Z,et,ot){return{promise:et,child:ot}},warning:function(Z,et){return{warning:et}},unhandledRejection:function(Z,et,ot){return{reason:et,promise:ot}},rejectionHandled:F},R=function(Z){var et=!1;try{et=H.apply(null,arguments)}catch(st){v.throwLater(st),et=!0}var ot=!1;try{ot=Y(Z,G[Z].apply(null,arguments))}catch(st){v.throwLater(st),ot=!0}return ot||et};function K(){return!1}function Q(Z,et,ot){var st=this;try{Z(et,ot,function(dt){if(typeof dt!="function")throw new TypeError("onCancel must be a function, got: "+m.toString(dt));st._attachCancellationCallback(dt)})}catch(dt){return dt}}function W(Z){if(!this._isCancellable())return this;var et=this._onCancel();et!==void 0?m.isArray(et)?et.push(Z):this._setOnCancel([et,Z]):this._setOnCancel(Z)}function O(){return this._onCancelField}function $(Z){this._onCancelField=Z}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function M(Z,et){if(1&et){this._cancellationParent=Z;var ot=Z._branchesRemainingToCancel;ot===void 0&&(ot=0),Z._branchesRemainingToCancel=ot+1}2&et&&Z._isBound()&&this._setBoundTo(Z._boundTo)}r.config=function(Z){if("longStackTraces"in(Z=Object(Z))&&(Z.longStackTraces?r.longStackTraces():!Z.longStackTraces&&r.hasLongStackTraces()&&V()),"warnings"in Z){var et=Z.warnings;at.warnings=!!et,I=at.warnings,m.isObject(et)&&"wForgottenReturn"in et&&(I=!!et.wForgottenReturn)}if("cancellation"in Z&&Z.cancellation&&!at.cancellation){if(v.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");r.prototype._clearCancellationData=D,r.prototype._propagateFrom=M,r.prototype._onCancel=O,r.prototype._setOnCancel=$,r.prototype._attachCancellationCallback=W,r.prototype._execute=Q,U=M,at.cancellation=!0}return"monitoring"in Z&&(Z.monitoring&&!at.monitoring?(at.monitoring=!0,r.prototype._fireEvent=R):!Z.monitoring&&at.monitoring&&(at.monitoring=!1,r.prototype._fireEvent=K)),r},r.prototype._fireEvent=K,r.prototype._execute=function(Z,et,ot){try{Z(et,ot)}catch(st){return st}},r.prototype._onCancel=function(){},r.prototype._setOnCancel=function(Z){},r.prototype._attachCancellationCallback=function(Z){},r.prototype._captureStackTrace=function(){},r.prototype._attachExtraTrace=function(){},r.prototype._dereferenceTrace=function(){},r.prototype._clearCancellationData=function(){},r.prototype._propagateFrom=function(Z,et){};var U=function(Z,et){2&et&&Z._isBound()&&this._setBoundTo(Z._boundTo)};function q(){var Z=this._boundTo;return Z!==void 0&&Z instanceof r?Z.isFulfilled()?Z.value():void 0:Z}function X(){this._trace=new tt(this._peekContext())}function nt(Z,et){if(k(Z)){var ot=this._trace;if(ot!==void 0&&et&&(ot=ot._parent),ot!==void 0)ot.attachExtraTrace(Z);else if(!Z.__stackCleaned__){var st=lt(Z);m.notEnumerableProp(Z,"stack",st.message+`
`+st.stack.join(`
`)),m.notEnumerableProp(Z,"__stackCleaned__",!0)}}}function J(){this._trace=void 0}function rt(Z,et,ot){if(at.warnings){var st,dt=new y(Z);if(et)ot._attachExtraTrace(dt);else if(at.longStackTraces&&(st=r._peekContext()))st.attachExtraTrace(dt);else{var ft=lt(dt);dt.stack=ft.message+`
`+ft.stack.join(`
`)}R("warning",dt)||ht(dt,"",!0)}}function ct(Z){for(var et=[],ot=0;ot<Z.length;++ot){var st=Z[ot],dt=st==="    (No stack trace)"||E.test(st),ft=dt&&St(st);dt&&!ft&&(j&&st.charAt(0)!==" "&&(st="    "+st),et.push(st))}return et}function lt(Z){var et=Z.stack,ot=Z.toString();return et=typeof et=="string"&&et.length>0?function(st){for(var dt=st.stack.replace(/\s+$/g,"").split(`
`),ft=0;ft<dt.length;++ft){var ut=dt[ft];if(ut==="    (No stack trace)"||E.test(ut))break}return ft>0&&st.name!="SyntaxError"&&(dt=dt.slice(ft)),dt}(Z):["    (No stack trace)"],{message:ot,stack:Z.name=="SyntaxError"?et:ct(et)}}function ht(Z,et,ot){if(typeof console<"u"){var st;if(m.isObject(Z)){var dt=Z.stack;st=et+P(dt,Z)}else st=et+String(Z);typeof g=="function"?g(st,ot):typeof console.log!="function"&&e(console.log)!=="object"||console.log(st)}}function pt(Z,et,ot,st){var dt=!1;try{typeof et=="function"&&(dt=!0,Z==="rejectionHandled"?et(st):et(ot,st))}catch(ft){v.throwLater(ft)}Z==="unhandledRejection"?R(Z,ot,st)||dt||ht(ot,"Unhandled rejection "):R(Z,st)}function kt(Z){var et;if(typeof Z=="function")et="[function "+(Z.name||"anonymous")+"]";else{if(et=Z&&typeof Z.toString=="function"?Z.toString():m.toString(Z),/\[object [a-zA-Z0-9$_]+\]/.test(et))try{et=JSON.stringify(Z)}catch{}et.length===0&&(et="(empty array)")}return"(<"+function(ot){return ot.length<41?ot:ot.substr(0,38)+"..."}(et)+">, no stack trace)"}function bt(){return typeof it=="function"}var St=function(){return!1},Mt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function At(Z){var et=Z.match(Mt);if(et)return{fileName:et[1],line:parseInt(et[2],10)}}function tt(Z){this._parent=Z,this._promisesCreated=0;var et=this._length=1+(Z===void 0?0:Z._length);it(this,tt),et>32&&this.uncycle()}m.inherits(tt,Error),l.CapturedTrace=tt,tt.prototype.uncycle=function(){var Z=this._length;if(!(Z<2)){for(var et=[],ot={},st=0,dt=this;dt!==void 0;++st)et.push(dt),dt=dt._parent;for(st=(Z=this._length=st)-1;st>=0;--st){var ft=et[st].stack;ot[ft]===void 0&&(ot[ft]=st)}for(st=0;st<Z;++st){var ut=ot[et[st].stack];if(ut!==void 0&&ut!==st){ut>0&&(et[ut-1]._parent=void 0,et[ut-1]._length=1),et[st]._parent=void 0,et[st]._length=1;var vt=st>0?et[st-1]:this;ut<Z-1?(vt._parent=et[ut+1],vt._parent.uncycle(),vt._length=vt._parent._length+1):(vt._parent=void 0,vt._length=1);for(var wt=vt._length+1,yt=st-2;yt>=0;--yt)et[yt]._length=wt,wt++;return}}}},tt.prototype.attachExtraTrace=function(Z){if(!Z.__stackCleaned__){this.uncycle();for(var et=lt(Z),ot=et.message,st=[et.stack],dt=this;dt!==void 0;)st.push(ct(dt.stack.split(`
`))),dt=dt._parent;(function(ft){for(var ut=ft[0],vt=1;vt<ft.length;++vt){for(var wt=ft[vt],yt=ut.length-1,It=ut[yt],$t=-1,jt=wt.length-1;jt>=0;--jt)if(wt[jt]===It){$t=jt;break}for(jt=$t;jt>=0;--jt){var Vt=wt[jt];if(ut[yt]!==Vt)break;ut.pop(),yt--}ut=wt}})(st),function(ft){for(var ut=0;ut<ft.length;++ut)(ft[ut].length===0||ut+1<ft.length&&ft[ut][0]===ft[ut+1][0])&&(ft.splice(ut,1),ut--)}(st),m.notEnumerableProp(Z,"stack",function(ft,ut){for(var vt=0;vt<ut.length-1;++vt)ut[vt].push("From previous event:"),ut[vt]=ut[vt].join(`
`);return vt<ut.length&&(ut[vt]=ut[vt].join(`
`)),ft+`
`+ut.join(`
`)}(ot,st)),m.notEnumerableProp(Z,"__stackCleaned__",!0)}};var it=function(){var Z=/^\s*at\s*/,et=function(ft,ut){return typeof ft=="string"?ft:ut.name!==void 0&&ut.message!==void 0?ut.toString():kt(ut)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,E=Z,P=et;var ot=Error.captureStackTrace;return St=function(ft){return C.test(ft)},function(ft,ut){Error.stackTraceLimit+=6,ot(ft,ut),Error.stackTraceLimit-=6}}var st,dt=new Error;if(typeof dt.stack=="string"&&dt.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return E=/@/,P=et,j=!0,function(ft){ft.stack=new Error().stack};try{throw new Error}catch(ft){st="stack"in ft}return"stack"in dt||!st||typeof Error.stackTraceLimit!="number"?(P=function(ft,ut){return typeof ft=="string"?ft:e(ut)!=="object"&&typeof ut!="function"||ut.name===void 0||ut.message===void 0?kt(ut):ut.toString()},null):(E=Z,P=et,function(ft){Error.stackTraceLimit+=6;try{throw new Error}catch(ut){ft.stack=ut.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(g=function(Z){console.warn(Z)},m.isNode&&_.stderr.isTTY?g=function(Z,et){var ot=et?"\x1B[33m":"\x1B[31m";console.warn(ot+Z+`\x1B[0m
`)}:m.isNode||typeof new Error().stack!="string"||(g=function(Z,et){console.warn("%c"+Z,et?"color: darkorange":"color: red")}));var at={warnings:L,longStackTraces:!1,cancellation:!1,monitoring:!1};return B&&r.longStackTraces(),{longStackTraces:function(){return at.longStackTraces},warnings:function(){return at.warnings},cancellation:function(){return at.cancellation},monitoring:function(){return at.monitoring},propagateFromFunction:function(){return U},boundValueFunction:function(){return q},checkForgottenReturns:function(Z,et,ot,st,dt){if(Z===void 0&&et!==null&&I){if(dt!==void 0&&dt._returnedNonUndefined()||!(65535&st._bitField))return;ot&&(ot+=" ");var ft="",ut="";if(et._trace){for(var vt=et._trace.stack.split(`
`),wt=ct(vt),yt=wt.length-1;yt>=0;--yt){var It=wt[yt];if(!w.test(It)){var $t=It.match(T);$t&&(ft="at "+$t[1]+":"+$t[2]+":"+$t[3]+" ");break}}if(wt.length>0){var jt=wt[0];for(yt=0;yt<vt.length;++yt)if(vt[yt]===jt){yt>0&&(ut=`
`+vt[yt-1]);break}}}var Vt="a promise was created in a "+ot+"handler "+ft+"but was not returned from it, see http://goo.gl/rRqMUw"+ut;st._warn(Vt,!0,et)}},setBounds:function(Z,et){if(bt()){for(var ot,st,dt=Z.stack.split(`
`),ft=et.stack.split(`
`),ut=-1,vt=-1,wt=0;wt<dt.length;++wt)if(yt=At(dt[wt])){ot=yt.fileName,ut=yt.line;break}for(wt=0;wt<ft.length;++wt){var yt;if(yt=At(ft[wt])){st=yt.fileName,vt=yt.line;break}}ut<0||vt<0||!ot||!st||ot!==st||ut>=vt||(St=function(It){if(C.test(It))return!0;var $t=At(It);return!!($t&&$t.fileName===ot&&ut<=$t.line&&$t.line<=vt)})}},warn:rt,deprecated:function(Z,et){var ot=Z+" is deprecated and will be removed in a future version.";return et&&(ot+=" Use "+et+" instead."),rt(ot)},CapturedTrace:tt,fireDomEvent:Y,fireGlobalEvent:H}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,n,a){n.exports=function(r){function l(){return this.value}function d(){throw this.reason}r.prototype.return=r.prototype.thenReturn=function(f){return f instanceof r&&f.suppressUnhandledRejections(),this._then(l,void 0,void 0,{value:f},void 0)},r.prototype.throw=r.prototype.thenThrow=function(f){return this._then(d,void 0,void 0,{reason:f},void 0)},r.prototype.catchThrow=function(f){if(arguments.length<=1)return this._then(void 0,d,void 0,{reason:f},void 0);var g=arguments[1];return this.caught(f,function(){throw g})},r.prototype.catchReturn=function(f){if(arguments.length<=1)return f instanceof r&&f.suppressUnhandledRejections(),this._then(void 0,l,void 0,{value:f},void 0);var g=arguments[1];return g instanceof r&&g.suppressUnhandledRejections(),this.caught(f,function(){return g})}}},{}],11:[function(t,n,a){n.exports=function(r,l){var d=r.reduce,f=r.all;function g(){return f(this)}r.prototype.each=function(p){return d(this,p,l,0)._then(g,void 0,void 0,this,void 0)},r.prototype.mapSeries=function(p){return d(this,p,l,l)},r.each=function(p,v){return d(p,v,l,0)._then(g,void 0,void 0,p,void 0)},r.mapSeries=function(p,v){return d(p,v,l,l)}}},{}],12:[function(t,n,a){var r,l,d=t("./es5"),f=d.freeze,g=t("./util"),p=g.inherits,v=g.notEnumerableProp;function y(N,L){function B(I){if(!(this instanceof B))return new B(I);v(this,"message",typeof I=="string"?I:L),v(this,"name",N),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return p(B,Error),B}var m=y("Warning","warning"),b=y("CancellationError","cancellation error"),k=y("TimeoutError","timeout error"),C=y("AggregateError","aggregate error");try{r=TypeError,l=RangeError}catch{r=y("TypeError","type error"),l=y("RangeError","range error")}for(var w="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),T=0;T<w.length;++T)typeof Array.prototype[w[T]]=="function"&&(C.prototype[w[T]]=Array.prototype[w[T]]);d.defineProperty(C.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),C.prototype.isOperational=!0;var E=0;function P(N){if(!(this instanceof P))return new P(N);v(this,"name","OperationalError"),v(this,"message",N),this.cause=N,this.isOperational=!0,N instanceof Error?(v(this,"message",N.message),v(this,"stack",N.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}C.prototype.toString=function(){var N=Array(4*E+1).join(" "),L=`
`+N+`AggregateError of:
`;E++,N=Array(4*E+1).join(" ");for(var B=0;B<this.length;++B){for(var I=this[B]===this?"[Circular AggregateError]":this[B]+"",V=I.split(`
`),Y=0;Y<V.length;++Y)V[Y]=N+V[Y];L+=(I=V.join(`
`))+`
`}return E--,L},p(P,Error);var j=Error.__BluebirdErrorTypes__;j||(j=f({CancellationError:b,TimeoutError:k,OperationalError:P,RejectionError:P,AggregateError:C}),d.defineProperty(Error,"__BluebirdErrorTypes__",{value:j,writable:!1,enumerable:!1,configurable:!1})),n.exports={Error,TypeError:r,RangeError:l,CancellationError:j.CancellationError,OperationalError:j.OperationalError,TimeoutError:j.TimeoutError,AggregateError:j.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(t,n,a){var r=function(){return this===void 0}();if(r)n.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(p,v){var y=Object.getOwnPropertyDescriptor(p,v);return!(y&&!y.writable&&!y.set)}};else{var l={}.hasOwnProperty,d={}.toString,f={}.constructor.prototype,g=function(p){var v=[];for(var y in p)l.call(p,y)&&v.push(y);return v};n.exports={isArray:function(p){try{return d.call(p)==="[object Array]"}catch{return!1}},keys:g,names:g,defineProperty:function(p,v,y){return p[v]=y.value,p},getDescriptor:function(p,v){return{value:p[v]}},freeze:function(p){return p},getPrototypeOf:function(p){try{return Object(p).constructor.prototype}catch{return f}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,n,a){n.exports=function(r,l){var d=r.map;r.prototype.filter=function(f,g){return d(this,f,g,l)},r.filter=function(f,g,p){return d(f,g,p,l)}}},{}],15:[function(t,n,a){n.exports=function(r,l,d){var f=t("./util"),g=r.CancellationError,p=f.errorObj,v=t("./catch_filter")(d);function y(T,E,P){this.promise=T,this.type=E,this.handler=P,this.called=!1,this.cancelPromise=null}function m(T){this.finallyHandler=T}function b(T,E){return T.cancelPromise!=null&&(arguments.length>1?T.cancelPromise._reject(E):T.cancelPromise._cancel(),T.cancelPromise=null,!0)}function k(){return w.call(this,this.promise._target()._settledValue())}function C(T){if(!b(this,T))return p.e=T,p}function w(T){var E=this.promise,P=this.handler;if(!this.called){this.called=!0;var j=this.isFinallyHandler()?P.call(E._boundValue()):P.call(E._boundValue(),T);if(j===d)return j;if(j!==void 0){E._setReturnedNonUndefined();var N=l(j,E);if(N instanceof r){if(this.cancelPromise!=null){if(N._isCancelled()){var L=new g("late cancellation observer");return E._attachExtraTrace(L),p.e=L,p}N.isPending()&&N._attachCancellationCallback(new m(this))}return N._then(k,C,void 0,this,void 0)}}}return E.isRejected()?(b(this),p.e=T,p):(b(this),T)}return y.prototype.isFinallyHandler=function(){return this.type===0},m.prototype._resultCancelled=function(){b(this.finallyHandler)},r.prototype._passThrough=function(T,E,P,j){return typeof T!="function"?this.then():this._then(P,j,void 0,new y(this,E,T),void 0)},r.prototype.lastly=r.prototype.finally=function(T){return this._passThrough(T,0,w,w)},r.prototype.tap=function(T){return this._passThrough(T,1,w)},r.prototype.tapCatch=function(T){var E=arguments.length;if(E===1)return this._passThrough(T,1,void 0,w);var P,j=new Array(E-1),N=0;for(P=0;P<E-1;++P){var L=arguments[P];if(!f.isObject(L))return r.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+f.classString(L)));j[N++]=L}j.length=N;var B=arguments[P];return this._passThrough(v(j,B,this),1,void 0,w)},y}},{"./catch_filter":7,"./util":36}],16:[function(t,n,a){n.exports=function(r,l,d,f,g,p){var v=t("./errors").TypeError,y=t("./util"),m=y.errorObj,b=y.tryCatch,k=[];function C(w,T,E,P){if(p.cancellation()){var j=new r(d),N=this._finallyPromise=new r(d);this._promise=j.lastly(function(){return N}),j._captureStackTrace(),j._setOnCancel(this)}else(this._promise=new r(d))._captureStackTrace();this._stack=P,this._generatorFunction=w,this._receiver=T,this._generator=void 0,this._yieldHandlers=typeof E=="function"?[E].concat(k):k,this._yieldedPromise=null,this._cancellationPhase=!1}y.inherits(C,g),C.prototype._isResolved=function(){return this._promise===null},C.prototype._cleanup=function(){this._promise=this._generator=null,p.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},C.prototype._promiseCancelled=function(){if(!this._isResolved()){var w;if(this._generator.return!==void 0)this._promise._pushContext(),w=b(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var T=new r.CancellationError("generator .return() sentinel");r.coroutine.returnSentinel=T,this._promise._attachExtraTrace(T),this._promise._pushContext(),w=b(this._generator.throw).call(this._generator,T),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(w)}},C.prototype._promiseFulfilled=function(w){this._yieldedPromise=null,this._promise._pushContext();var T=b(this._generator.next).call(this._generator,w);this._promise._popContext(),this._continue(T)},C.prototype._promiseRejected=function(w){this._yieldedPromise=null,this._promise._attachExtraTrace(w),this._promise._pushContext();var T=b(this._generator.throw).call(this._generator,w);this._promise._popContext(),this._continue(T)},C.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof r){var w=this._yieldedPromise;this._yieldedPromise=null,w.cancel()}},C.prototype.promise=function(){return this._promise},C.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},C.prototype._continue=function(w){var T=this._promise;if(w===m)return this._cleanup(),this._cancellationPhase?T.cancel():T._rejectCallback(w.e,!1);var E=w.value;if(w.done===!0)return this._cleanup(),this._cancellationPhase?T.cancel():T._resolveCallback(E);var P=f(E,this._promise);if(P instanceof r||(P=function(N,L,B){for(var I=0;I<L.length;++I){B._pushContext();var V=b(L[I])(N);if(B._popContext(),V===m){B._pushContext();var Y=r.reject(m.e);return B._popContext(),Y}var H=f(V,B);if(H instanceof r)return H}return null}(P,this._yieldHandlers,this._promise))!==null){var j=(P=P._target())._bitField;50397184&j?33554432&j?r._async.invoke(this._promiseFulfilled,this,P._value()):16777216&j?r._async.invoke(this._promiseRejected,this,P._reason()):this._promiseCancelled():(this._yieldedPromise=P,P._proxy(this,null))}else this._promiseRejected(new v(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(E))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},r.coroutine=function(w,T){if(typeof w!="function")throw new v(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var E=Object(T).yieldHandler,P=C,j=new Error().stack;return function(){var N=w.apply(this,arguments),L=new P(void 0,void 0,E,j),B=L.promise();return L._generator=N,L._promiseFulfilled(void 0),B}},r.coroutine.addYieldHandler=function(w){if(typeof w!="function")throw new v("expecting a function but got "+y.classString(w));k.push(w)},r.spawn=function(w){if(p.deprecated("Promise.spawn()","Promise.coroutine()"),typeof w!="function")return l(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var T=new C(w,this),E=T.promise();return T._run(r.spawn),E}}},{"./errors":12,"./util":36}],17:[function(t,n,a){n.exports=function(r,l,d,f,g,p){var v=t("./util");v.canEvaluate,v.tryCatch,v.errorObj,r.join=function(){var y,m=arguments.length-1;m>0&&typeof arguments[m]=="function"&&(y=arguments[m]);var b=[].slice.call(arguments);y&&b.pop();var k=new l(b).promise();return y!==void 0?k.spread(y):k}}},{"./util":36}],18:[function(t,n,a){n.exports=function(r,l,d,f,g,p){var v=r._getDomain,y=t("./util"),m=y.tryCatch,b=y.errorObj,k=r._async;function C(T,E,P,j){this.constructor$(T),this._promise._captureStackTrace();var N=v();this._callback=N===null?E:y.domainBind(N,E),this._preservedValues=j===g?new Array(this.length()):null,this._limit=P,this._inFlight=0,this._queue=[],k.invoke(this._asyncInit,this,void 0)}function w(T,E,P,j){if(typeof E!="function")return d("expecting a function but got "+y.classString(E));var N=0;if(P!==void 0){if(e(P)!=="object"||P===null)return r.reject(new TypeError("options argument must be an object but it is "+y.classString(P)));if(typeof P.concurrency!="number")return r.reject(new TypeError("'concurrency' must be a number but it is "+y.classString(P.concurrency)));N=P.concurrency}return new C(T,E,N=typeof N=="number"&&isFinite(N)&&N>=1?N:0,j).promise()}y.inherits(C,l),C.prototype._asyncInit=function(){this._init$(void 0,-2)},C.prototype._init=function(){},C.prototype._promiseFulfilled=function(T,E){var P=this._values,j=this.length(),N=this._preservedValues,L=this._limit;if(E<0){if(P[E=-1*E-1]=T,L>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(L>=1&&this._inFlight>=L)return P[E]=T,this._queue.push(E),!1;N!==null&&(N[E]=T);var B=this._promise,I=this._callback,V=B._boundValue();B._pushContext();var Y=m(I).call(V,T,E,j),H=B._popContext();if(p.checkForgottenReturns(Y,H,N!==null?"Promise.filter":"Promise.map",B),Y===b)return this._reject(Y.e),!0;var F=f(Y,this._promise);if(F instanceof r){var G=(F=F._target())._bitField;if(!(50397184&G))return L>=1&&this._inFlight++,P[E]=F,F._proxy(this,-1*(E+1)),!1;if(!(33554432&G))return 16777216&G?(this._reject(F._reason()),!0):(this._cancel(),!0);Y=F._value()}P[E]=Y}return++this._totalResolved>=j&&(N!==null?this._filter(P,N):this._resolve(P),!0)},C.prototype._drainQueue=function(){for(var T=this._queue,E=this._limit,P=this._values;T.length>0&&this._inFlight<E;){if(this._isResolved())return;var j=T.pop();this._promiseFulfilled(P[j],j)}},C.prototype._filter=function(T,E){for(var P=E.length,j=new Array(P),N=0,L=0;L<P;++L)T[L]&&(j[N++]=E[L]);j.length=N,this._resolve(j)},C.prototype.preservedValues=function(){return this._preservedValues},r.prototype.map=function(T,E){return w(this,T,E,null)},r.map=function(T,E,P,j){return w(T,E,P,j)}}},{"./util":36}],19:[function(t,n,a){n.exports=function(r,l,d,f,g){var p=t("./util"),v=p.tryCatch;r.method=function(y){if(typeof y!="function")throw new r.TypeError("expecting a function but got "+p.classString(y));return function(){var m=new r(l);m._captureStackTrace(),m._pushContext();var b=v(y).apply(this,arguments),k=m._popContext();return g.checkForgottenReturns(b,k,"Promise.method",m),m._resolveFromSyncValue(b),m}},r.attempt=r.try=function(y){if(typeof y!="function")return f("expecting a function but got "+p.classString(y));var m,b=new r(l);if(b._captureStackTrace(),b._pushContext(),arguments.length>1){g.deprecated("calling Promise.try with more than 1 argument");var k=arguments[1],C=arguments[2];m=p.isArray(k)?v(y).apply(C,k):v(y).call(C,k)}else m=v(y)();var w=b._popContext();return g.checkForgottenReturns(m,w,"Promise.try",b),b._resolveFromSyncValue(m),b},r.prototype._resolveFromSyncValue=function(y){y===p.errorObj?this._rejectCallback(y.e,!1):this._resolveCallback(y,!0)}}},{"./util":36}],20:[function(t,n,a){var r=t("./util"),l=r.maybeWrapAsError,d=t("./errors").OperationalError,f=t("./es5"),g=/^(?:name|message|stack|cause)$/;function p(v){var y;if(function(C){return C instanceof Error&&f.getPrototypeOf(C)===Error.prototype}(v)){(y=new d(v)).name=v.name,y.message=v.message,y.stack=v.stack;for(var m=f.keys(v),b=0;b<m.length;++b){var k=m[b];g.test(k)||(y[k]=v[k])}return y}return r.markAsOriginatingFromRejection(v),v}n.exports=function(v,y){return function(m,b){if(v!==null){if(m){var k=p(l(m));v._attachExtraTrace(k),v._reject(k)}else if(y){var C=[].slice.call(arguments,1);v._fulfill(C)}else v._fulfill(b);v=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,n,a){n.exports=function(r){var l=t("./util"),d=r._async,f=l.tryCatch,g=l.errorObj;function p(m,b){if(!l.isArray(m))return v.call(this,m,b);var k=f(b).apply(this._boundValue(),[null].concat(m));k===g&&d.throwLater(k.e)}function v(m,b){var k=this._boundValue(),C=m===void 0?f(b).call(k,null):f(b).call(k,null,m);C===g&&d.throwLater(C.e)}function y(m,b){if(!m){var k=new Error(m+"");k.cause=m,m=k}var C=f(b).call(this._boundValue(),m);C===g&&d.throwLater(C.e)}r.prototype.asCallback=r.prototype.nodeify=function(m,b){if(typeof m=="function"){var k=v;b!==void 0&&Object(b).spread&&(k=p),this._then(k,y,void 0,this,m)}return this}}},{"./util":36}],22:[function(t,n,a){n.exports=function(){var r=function(){return new C(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},l=function(){return new R.PromiseInspection(this._target())},d=function(O){return R.reject(new C(O))};function f(){}var g,p={},v=t("./util");g=v.isNode?function(){var O=_.domain;return O===void 0&&(O=null),O}:function(){return null},v.notEnumerableProp(R,"_getDomain",g);var y=t("./es5"),m=t("./async"),b=new m;y.defineProperty(R,"_async",{value:b});var k=t("./errors"),C=R.TypeError=k.TypeError;R.RangeError=k.RangeError;var w=R.CancellationError=k.CancellationError;R.TimeoutError=k.TimeoutError,R.OperationalError=k.OperationalError,R.RejectionError=k.OperationalError,R.AggregateError=k.AggregateError;var T=function(){},E={},P={},j=t("./thenables")(R,T),N=t("./promise_array")(R,T,j,d,f),L=t("./context")(R),B=L.create,I=t("./debuggability")(R,L),V=(I.CapturedTrace,t("./finally")(R,j,P)),Y=t("./catch_filter")(P),H=t("./nodeback"),F=v.errorObj,G=v.tryCatch;function R(O){O!==T&&function($,D){if($==null||$.constructor!==R)throw new C(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof D!="function")throw new C("expecting a function but got "+v.classString(D))}(this,O),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(O),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function K(O){this.promise._resolveCallback(O)}function Q(O){this.promise._rejectCallback(O,!1)}function W(O){var $=new R(T);$._fulfillmentHandler0=O,$._rejectionHandler0=O,$._promise0=O,$._receiver0=O}return R.prototype.toString=function(){return"[object Promise]"},R.prototype.caught=R.prototype.catch=function(O){var $=arguments.length;if($>1){var D,M=new Array($-1),U=0;for(D=0;D<$-1;++D){var q=arguments[D];if(!v.isObject(q))return d("Catch statement predicate: expecting an object but got "+v.classString(q));M[U++]=q}return M.length=U,O=arguments[D],this.then(void 0,Y(M,O,this))}return this.then(void 0,O)},R.prototype.reflect=function(){return this._then(l,l,void 0,this,void 0)},R.prototype.then=function(O,$){if(I.warnings()&&arguments.length>0&&typeof O!="function"&&typeof $!="function"){var D=".then() only accepts functions but was passed: "+v.classString(O);arguments.length>1&&(D+=", "+v.classString($)),this._warn(D)}return this._then(O,$,void 0,void 0,void 0)},R.prototype.done=function(O,$){this._then(O,$,void 0,void 0,void 0)._setIsFinal()},R.prototype.spread=function(O){return typeof O!="function"?d("expecting a function but got "+v.classString(O)):this.all()._then(O,void 0,void 0,E,void 0)},R.prototype.toJSON=function(){var O={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(O.fulfillmentValue=this.value(),O.isFulfilled=!0):this.isRejected()&&(O.rejectionReason=this.reason(),O.isRejected=!0),O},R.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new N(this).promise()},R.prototype.error=function(O){return this.caught(v.originatesFromRejection,O)},R.getNewLibraryCopy=n.exports,R.is=function(O){return O instanceof R},R.fromNode=R.fromCallback=function(O){var $=new R(T);$._captureStackTrace();var D=arguments.length>1&&!!Object(arguments[1]).multiArgs,M=G(O)(H($,D));return M===F&&$._rejectCallback(M.e,!0),$._isFateSealed()||$._setAsyncGuaranteed(),$},R.all=function(O){return new N(O).promise()},R.cast=function(O){var $=j(O);return $ instanceof R||(($=new R(T))._captureStackTrace(),$._setFulfilled(),$._rejectionHandler0=O),$},R.resolve=R.fulfilled=R.cast,R.reject=R.rejected=function(O){var $=new R(T);return $._captureStackTrace(),$._rejectCallback(O,!0),$},R.setScheduler=function(O){if(typeof O!="function")throw new C("expecting a function but got "+v.classString(O));return b.setScheduler(O)},R.prototype._then=function(O,$,D,M,U){var q=U!==void 0,X=q?U:new R(T),nt=this._target(),J=nt._bitField;q||(X._propagateFrom(this,3),X._captureStackTrace(),M===void 0&&2097152&this._bitField&&(M=50397184&J?this._boundValue():nt===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,X));var rt=g();if(50397184&J){var ct,lt,ht=nt._settlePromiseCtx;33554432&J?(lt=nt._rejectionHandler0,ct=O):16777216&J?(lt=nt._fulfillmentHandler0,ct=$,nt._unsetRejectionIsUnhandled()):(ht=nt._settlePromiseLateCancellationObserver,lt=new w("late cancellation observer"),nt._attachExtraTrace(lt),ct=$),b.invoke(ht,nt,{handler:rt===null?ct:typeof ct=="function"&&v.domainBind(rt,ct),promise:X,receiver:M,value:lt})}else nt._addCallbacks(O,$,X,M,rt);return X},R.prototype._length=function(){return 65535&this._bitField},R.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},R.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},R.prototype._setLength=function(O){this._bitField=-65536&this._bitField|65535&O},R.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},R.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},R.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},R.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},R.prototype._isFinal=function(){return(4194304&this._bitField)>0},R.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},R.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},R.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},R.prototype._setAsyncGuaranteed=function(){b.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},R.prototype._receiverAt=function(O){var $=O===0?this._receiver0:this[4*O-4+3];if($!==p)return $===void 0&&this._isBound()?this._boundValue():$},R.prototype._promiseAt=function(O){return this[4*O-4+2]},R.prototype._fulfillmentHandlerAt=function(O){return this[4*O-4+0]},R.prototype._rejectionHandlerAt=function(O){return this[4*O-4+1]},R.prototype._boundValue=function(){},R.prototype._migrateCallback0=function(O){O._bitField;var $=O._fulfillmentHandler0,D=O._rejectionHandler0,M=O._promise0,U=O._receiverAt(0);U===void 0&&(U=p),this._addCallbacks($,D,M,U,null)},R.prototype._migrateCallbackAt=function(O,$){var D=O._fulfillmentHandlerAt($),M=O._rejectionHandlerAt($),U=O._promiseAt($),q=O._receiverAt($);q===void 0&&(q=p),this._addCallbacks(D,M,U,q,null)},R.prototype._addCallbacks=function(O,$,D,M,U){var q=this._length();if(q>=65531&&(q=0,this._setLength(0)),q===0)this._promise0=D,this._receiver0=M,typeof O=="function"&&(this._fulfillmentHandler0=U===null?O:v.domainBind(U,O)),typeof $=="function"&&(this._rejectionHandler0=U===null?$:v.domainBind(U,$));else{var X=4*q-4;this[X+2]=D,this[X+3]=M,typeof O=="function"&&(this[X+0]=U===null?O:v.domainBind(U,O)),typeof $=="function"&&(this[X+1]=U===null?$:v.domainBind(U,$))}return this._setLength(q+1),q},R.prototype._proxy=function(O,$){this._addCallbacks(void 0,void 0,$,O,null)},R.prototype._resolveCallback=function(O,$){if(!(117506048&this._bitField)){if(O===this)return this._rejectCallback(r(),!1);var D=j(O,this);if(!(D instanceof R))return this._fulfill(O);$&&this._propagateFrom(D,2);var M=D._target();if(M!==this){var U=M._bitField;if(50397184&U)if(33554432&U)this._fulfill(M._value());else if(16777216&U)this._reject(M._reason());else{var nt=new w("late cancellation observer");M._attachExtraTrace(nt),this._reject(nt)}else{var q=this._length();q>0&&M._migrateCallback0(this);for(var X=1;X<q;++X)M._migrateCallbackAt(this,X);this._setFollowing(),this._setLength(0),this._setFollowee(M)}}else this._reject(r())}},R.prototype._rejectCallback=function(O,$,D){var M=v.ensureErrorObject(O),U=M===O;if(!U&&!D&&I.warnings()){var q="a promise was rejected with a non-error: "+v.classString(O);this._warn(q,!0)}this._attachExtraTrace(M,!!$&&U),this._reject(O)},R.prototype._resolveFromExecutor=function(O){if(O!==T){var $=this;this._captureStackTrace(),this._pushContext();var D=!0,M=this._execute(O,function(U){$._resolveCallback(U)},function(U){$._rejectCallback(U,D)});D=!1,this._popContext(),M!==void 0&&$._rejectCallback(M,!0)}},R.prototype._settlePromiseFromHandler=function(O,$,D,M){var U=M._bitField;if(!(65536&U)){var q;M._pushContext(),$===E?D&&typeof D.length=="number"?q=G(O).apply(this._boundValue(),D):(q=F).e=new C("cannot .spread() a non-array: "+v.classString(D)):q=G(O).call($,D);var X=M._popContext();!(65536&(U=M._bitField))&&(q===P?M._reject(D):q===F?M._rejectCallback(q.e,!1):(I.checkForgottenReturns(q,X,"",M,this),M._resolveCallback(q)))}},R.prototype._target=function(){for(var O=this;O._isFollowing();)O=O._followee();return O},R.prototype._followee=function(){return this._rejectionHandler0},R.prototype._setFollowee=function(O){this._rejectionHandler0=O},R.prototype._settlePromise=function(O,$,D,M){var U=O instanceof R,q=this._bitField,X=(134217728&q)!=0;65536&q?(U&&O._invokeInternalOnCancel(),D instanceof V&&D.isFinallyHandler()?(D.cancelPromise=O,G($).call(D,M)===F&&O._reject(F.e)):$===l?O._fulfill(l.call(D)):D instanceof f?D._promiseCancelled(O):U||O instanceof N?O._cancel():D.cancel()):typeof $=="function"?U?(X&&O._setAsyncGuaranteed(),this._settlePromiseFromHandler($,D,M,O)):$.call(D,M,O):D instanceof f?D._isResolved()||(33554432&q?D._promiseFulfilled(M,O):D._promiseRejected(M,O)):U&&(X&&O._setAsyncGuaranteed(),33554432&q?O._fulfill(M):O._reject(M))},R.prototype._settlePromiseLateCancellationObserver=function(O){var $=O.handler,D=O.promise,M=O.receiver,U=O.value;typeof $=="function"?D instanceof R?this._settlePromiseFromHandler($,M,U,D):$.call(M,U,D):D instanceof R&&D._reject(U)},R.prototype._settlePromiseCtx=function(O){this._settlePromise(O.promise,O.handler,O.receiver,O.value)},R.prototype._settlePromise0=function(O,$,D){var M=this._promise0,U=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(M,O,U,$)},R.prototype._clearCallbackDataAtIndex=function(O){var $=4*O-4;this[$+2]=this[$+3]=this[$+0]=this[$+1]=void 0},R.prototype._fulfill=function(O){var $=this._bitField;if(!((117506048&$)>>>16)){if(O===this){var D=r();return this._attachExtraTrace(D),this._reject(D)}this._setFulfilled(),this._rejectionHandler0=O,(65535&$)>0&&(134217728&$?this._settlePromises():b.settlePromises(this),this._dereferenceTrace())}},R.prototype._reject=function(O){var $=this._bitField;if(!((117506048&$)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=O,this._isFinal())return b.fatalError(O,v.isNode);(65535&$)>0?b.settlePromises(this):this._ensurePossibleRejectionHandled()}},R.prototype._fulfillPromises=function(O,$){for(var D=1;D<O;D++){var M=this._fulfillmentHandlerAt(D),U=this._promiseAt(D),q=this._receiverAt(D);this._clearCallbackDataAtIndex(D),this._settlePromise(U,M,q,$)}},R.prototype._rejectPromises=function(O,$){for(var D=1;D<O;D++){var M=this._rejectionHandlerAt(D),U=this._promiseAt(D),q=this._receiverAt(D);this._clearCallbackDataAtIndex(D),this._settlePromise(U,M,q,$)}},R.prototype._settlePromises=function(){var O=this._bitField,$=65535&O;if($>0){if(16842752&O){var D=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,D,O),this._rejectPromises($,D)}else{var M=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,M,O),this._fulfillPromises($,M)}this._setLength(0)}this._clearCancellationData()},R.prototype._settledValue=function(){var O=this._bitField;return 33554432&O?this._rejectionHandler0:16777216&O?this._fulfillmentHandler0:void 0},R.defer=R.pending=function(){return I.deprecated("Promise.defer","new Promise"),{promise:new R(T),resolve:K,reject:Q}},v.notEnumerableProp(R,"_makeSelfResolutionError",r),t("./method")(R,T,j,d,I),t("./bind")(R,T,j,I),t("./cancel")(R,N,d,I),t("./direct_resolve")(R),t("./synchronous_inspection")(R),t("./join")(R,N,j,T,b,g),R.Promise=R,R.version="3.5.4",t("./map.js")(R,N,d,j,T,I),t("./call_get.js")(R),t("./using.js")(R,d,j,B,T,I),t("./timers.js")(R,T,I),t("./generators.js")(R,d,T,j,f,I),t("./nodeify.js")(R),t("./promisify.js")(R,T),t("./props.js")(R,N,j,d),t("./race.js")(R,T,j,d),t("./reduce.js")(R,N,d,j,T,I),t("./settle.js")(R,N,I),t("./some.js")(R,N,d),t("./filter.js")(R,T),t("./each.js")(R,T),t("./any.js")(R),v.toFastProperties(R),v.toFastProperties(R.prototype),W({a:1}),W({b:2}),W({c:3}),W(1),W(function(){}),W(void 0),W(!1),W(new R(T)),I.setBounds(m.firstLineError,v.lastLineError),R}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,n,a){n.exports=function(r,l,d,f,g){var p=t("./util");p.isArray;function v(y){var m=this._promise=new r(l);y instanceof r&&m._propagateFrom(y,3),m._setOnCancel(this),this._values=y,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return p.inherits(v,g),v.prototype.length=function(){return this._length},v.prototype.promise=function(){return this._promise},v.prototype._init=function y(m,b){var k=d(this._values,this._promise);if(k instanceof r){var C=(k=k._target())._bitField;if(this._values=k,(50397184&C)==0)return this._promise._setAsyncGuaranteed(),k._then(y,this._reject,void 0,this,b);if(!(33554432&C))return 16777216&C?this._reject(k._reason()):this._cancel();k=k._value()}if((k=p.asArray(k))!==null)k.length!==0?this._iterate(k):b===-5?this._resolveEmptyArray():this._resolve(function(T){switch(T){case-2:return[];case-3:return{};case-6:return new Map}}(b));else{var w=f("expecting an array or an iterable object but got "+p.classString(k)).reason();this._promise._rejectCallback(w,!1)}},v.prototype._iterate=function(y){var m=this.getActualLength(y.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var b=this._promise,k=!1,C=null,w=0;w<m;++w){var T=d(y[w],b);C=T instanceof r?(T=T._target())._bitField:null,k?C!==null&&T.suppressUnhandledRejections():C!==null?50397184&C?k=33554432&C?this._promiseFulfilled(T._value(),w):16777216&C?this._promiseRejected(T._reason(),w):this._promiseCancelled(w):(T._proxy(this,w),this._values[w]=T):k=this._promiseFulfilled(T,w)}k||b._setAsyncGuaranteed()},v.prototype._isResolved=function(){return this._values===null},v.prototype._resolve=function(y){this._values=null,this._promise._fulfill(y)},v.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},v.prototype._reject=function(y){this._values=null,this._promise._rejectCallback(y,!1)},v.prototype._promiseFulfilled=function(y,m){return this._values[m]=y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},v.prototype._promiseCancelled=function(){return this._cancel(),!0},v.prototype._promiseRejected=function(y){return this._totalResolved++,this._reject(y),!0},v.prototype._resultCancelled=function(){if(!this._isResolved()){var y=this._values;if(this._cancel(),y instanceof r)y.cancel();else for(var m=0;m<y.length;++m)y[m]instanceof r&&y[m].cancel()}},v.prototype.shouldCopyValues=function(){return!0},v.prototype.getActualLength=function(y){return y},v}},{"./util":36}],24:[function(t,n,a){n.exports=function(r,l){var d={},f=t("./util"),g=t("./nodeback"),p=f.withAppended,v=f.maybeWrapAsError,y=f.canEvaluate,m=t("./errors").TypeError,b={__isPromisified__:!0},k=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),C=function(B){return f.isIdentifier(B)&&B.charAt(0)!=="_"&&B!=="constructor"};function w(B){return!k.test(B)}function T(B){try{return B.__isPromisified__===!0}catch{return!1}}function E(B,I,V){var Y=f.getDataPropertyOrDefault(B,I+V,b);return!!Y&&T(Y)}function P(B,I,V,Y){for(var H=f.inheritedDataKeys(B),F=[],G=0;G<H.length;++G){var R=H[G],K=B[R],Q=Y===C||C(R);typeof K!="function"||T(K)||E(B,R,I)||!Y(R,K,B,Q)||F.push(R,K)}return function(W,O,$){for(var D=0;D<W.length;D+=2){var M=W[D];if($.test(M)){for(var U=M.replace($,""),q=0;q<W.length;q+=2)if(W[q]===U)throw new m(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",O))}}}(F,I,V),F}var j=function(B){return B.replace(/([$])/,"\\$")},N=y?void 0:function(B,I,V,Y,H,F){var G=function(){return this}(),R=B;function K(){var Q=I;I===d&&(Q=this);var W=new r(l);W._captureStackTrace();var O=typeof R=="string"&&this!==G?this[R]:B,$=g(W,F);try{O.apply(Q,p(arguments,$))}catch(D){W._rejectCallback(v(D),!0,!0)}return W._isFateSealed()||W._setAsyncGuaranteed(),W}return typeof R=="string"&&(B=Y),f.notEnumerableProp(K,"__isPromisified__",!0),K};function L(B,I,V,Y,H){for(var F=new RegExp(j(I)+"$"),G=P(B,I,F,V),R=0,K=G.length;R<K;R+=2){var Q=G[R],W=G[R+1],O=Q+I;if(Y===N)B[O]=N(Q,d,Q,W,I,H);else{var $=Y(W,function(){return N(Q,d,Q,W,I,H)});f.notEnumerableProp($,"__isPromisified__",!0),B[O]=$}}return f.toFastProperties(B),B}r.promisify=function(B,I){if(typeof B!="function")throw new m("expecting a function but got "+f.classString(B));if(T(B))return B;var V=function(Y,H,F){return N(Y,H,void 0,Y,null,F)}(B,(I=Object(I)).context===void 0?d:I.context,!!I.multiArgs);return f.copyDescriptors(B,V,w),V},r.promisifyAll=function(B,I){if(typeof B!="function"&&e(B)!=="object")throw new m(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var V=!!(I=Object(I)).multiArgs,Y=I.suffix;typeof Y!="string"&&(Y="Async");var H=I.filter;typeof H!="function"&&(H=C);var F=I.promisifier;if(typeof F!="function"&&(F=N),!f.isIdentifier(Y))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var G=f.inheritedDataKeys(B),R=0;R<G.length;++R){var K=B[G[R]];G[R]!=="constructor"&&f.isClass(K)&&(L(K.prototype,Y,H,F,V),L(K,Y,H,F,V))}return L(B,Y,H,F,V)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,n,a){n.exports=function(r,l,d,f){var g,p=t("./util"),v=p.isObject,y=t("./es5");typeof Map=="function"&&(g=Map);var m=function(){var C=0,w=0;function T(E,P){this[C]=E,this[C+w]=P,C++}return function(E){w=E.size,C=0;var P=new Array(2*E.size);return E.forEach(T,P),P}}();function b(C){var w,T=!1;if(g!==void 0&&C instanceof g)w=m(C),T=!0;else{var E=y.keys(C),P=E.length;w=new Array(2*P);for(var j=0;j<P;++j){var N=E[j];w[j]=C[N],w[j+P]=N}}this.constructor$(w),this._isMap=T,this._init$(void 0,T?-6:-3)}function k(C){var w,T=d(C);return v(T)?(w=T instanceof r?T._then(r.props,void 0,void 0,void 0,void 0):new b(T).promise(),T instanceof r&&w._propagateFrom(T,2),w):f(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}p.inherits(b,l),b.prototype._init=function(){},b.prototype._promiseFulfilled=function(C,w){if(this._values[w]=C,++this._totalResolved>=this._length){var T;if(this._isMap)T=function(N){for(var L=new g,B=N.length/2|0,I=0;I<B;++I){var V=N[B+I],Y=N[I];L.set(V,Y)}return L}(this._values);else{T={};for(var E=this.length(),P=0,j=this.length();P<j;++P)T[this._values[P+E]]=this._values[P]}return this._resolve(T),!0}return!1},b.prototype.shouldCopyValues=function(){return!1},b.prototype.getActualLength=function(C){return C>>1},r.prototype.props=function(){return k(this)},r.props=function(C){return k(C)}}},{"./es5":13,"./util":36}],26:[function(t,n,a){function r(l){this._capacity=l,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(l){return this._capacity<l},r.prototype._pushOne=function(l){var d=this.length();this._checkCapacity(d+1),this[this._front+d&this._capacity-1]=l,this._length=d+1},r.prototype.push=function(l,d,f){var g=this.length()+3;if(this._willBeOverCapacity(g))return this._pushOne(l),this._pushOne(d),void this._pushOne(f);var p=this._front+g-3;this._checkCapacity(g);var v=this._capacity-1;this[p+0&v]=l,this[p+1&v]=d,this[p+2&v]=f,this._length=g},r.prototype.shift=function(){var l=this._front,d=this[l];return this[l]=void 0,this._front=l+1&this._capacity-1,this._length--,d},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(l){this._capacity<l&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(l){var d=this._capacity;this._capacity=l,function(f,g,p,v,y){for(var m=0;m<y;++m)p[m+v]=f[m+g],f[m+g]=void 0}(this,0,this,d,this._front+this._length&d-1)},n.exports=r},{}],27:[function(t,n,a){n.exports=function(r,l,d,f){var g=t("./util"),p=function(y){return y.then(function(m){return v(m,y)})};function v(y,m){var b=d(y);if(b instanceof r)return p(b);if((y=g.asArray(y))===null)return f("expecting an array or an iterable object but got "+g.classString(y));var k=new r(l);m!==void 0&&k._propagateFrom(m,3);for(var C=k._fulfill,w=k._reject,T=0,E=y.length;T<E;++T){var P=y[T];(P!==void 0||T in y)&&r.cast(P)._then(C,w,void 0,k,null)}return k}r.race=function(y){return v(y,void 0)},r.prototype.race=function(){return v(this,void 0)}}},{"./util":36}],28:[function(t,n,a){n.exports=function(r,l,d,f,g,p){var v=r._getDomain,y=t("./util"),m=y.tryCatch;function b(E,P,j,N){this.constructor$(E);var L=v();this._fn=L===null?P:y.domainBind(L,P),j!==void 0&&(j=r.resolve(j))._attachCancellationCallback(this),this._initialValue=j,this._currentCancellable=null,this._eachValues=N===g?Array(this._length):N===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function k(E,P){this.isFulfilled()?P._resolve(E):P._reject(E)}function C(E,P,j,N){return typeof P!="function"?d("expecting a function but got "+y.classString(P)):new b(E,P,j,N).promise()}function w(E){this.accum=E,this.array._gotAccum(E);var P=f(this.value,this.array._promise);return P instanceof r?(this.array._currentCancellable=P,P._then(T,void 0,void 0,this,void 0)):T.call(this,P)}function T(E){var P,j=this.array,N=j._promise,L=m(j._fn);N._pushContext(),(P=j._eachValues!==void 0?L.call(N._boundValue(),E,this.index,this.length):L.call(N._boundValue(),this.accum,E,this.index,this.length))instanceof r&&(j._currentCancellable=P);var B=N._popContext();return p.checkForgottenReturns(P,B,j._eachValues!==void 0?"Promise.each":"Promise.reduce",N),P}y.inherits(b,l),b.prototype._gotAccum=function(E){this._eachValues!==void 0&&this._eachValues!==null&&E!==g&&this._eachValues.push(E)},b.prototype._eachComplete=function(E){return this._eachValues!==null&&this._eachValues.push(E),this._eachValues},b.prototype._init=function(){},b.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},b.prototype.shouldCopyValues=function(){return!1},b.prototype._resolve=function(E){this._promise._resolveCallback(E),this._values=null},b.prototype._resultCancelled=function(E){if(E===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof r&&this._currentCancellable.cancel(),this._initialValue instanceof r&&this._initialValue.cancel())},b.prototype._iterate=function(E){var P,j;this._values=E;var N=E.length;if(this._initialValue!==void 0?(P=this._initialValue,j=0):(P=r.resolve(E[0]),j=1),this._currentCancellable=P,!P.isRejected())for(;j<N;++j){var L={accum:null,value:E[j],index:j,length:N,array:this};P=P._then(w,void 0,void 0,L,void 0)}this._eachValues!==void 0&&(P=P._then(this._eachComplete,void 0,void 0,this,void 0)),P._then(k,k,void 0,P,this)},r.prototype.reduce=function(E,P){return C(this,E,P,null)},r.reduce=function(E,P,j,N){return C(E,P,j,N)}}},{"./util":36}],29:[function(t,n,a){var r,l=t("./util"),d=l.getNativePromise();if(l.isNode&&typeof MutationObserver>"u"){var f=u.setImmediate,g=_.nextTick;r=l.isRecentNode?function(v){f.call(u,v)}:function(v){g.call(_,v)}}else if(typeof d=="function"&&typeof d.resolve=="function"){var p=d.resolve();r=function(v){p.then(v)}}else r=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?s!==void 0?function(v){s(v)}:typeof setTimeout<"u"?function(v){setTimeout(v,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var v=document.createElement("div"),y={attributes:!0},m=!1,b=document.createElement("div");return new MutationObserver(function(){v.classList.toggle("foo"),m=!1}).observe(b,y),function(k){var C=new MutationObserver(function(){C.disconnect(),k()});C.observe(v,y),m||(m=!0,b.classList.toggle("foo"))}}();n.exports=r},{"./util":36}],30:[function(t,n,a){n.exports=function(r,l,d){var f=r.PromiseInspection;function g(p){this.constructor$(p)}t("./util").inherits(g,l),g.prototype._promiseResolved=function(p,v){return this._values[p]=v,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},g.prototype._promiseFulfilled=function(p,v){var y=new f;return y._bitField=33554432,y._settledValueField=p,this._promiseResolved(v,y)},g.prototype._promiseRejected=function(p,v){var y=new f;return y._bitField=16777216,y._settledValueField=p,this._promiseResolved(v,y)},r.settle=function(p){return d.deprecated(".settle()",".reflect()"),new g(p).promise()},r.prototype.settle=function(){return r.settle(this)}}},{"./util":36}],31:[function(t,n,a){n.exports=function(r,l,d){var f=t("./util"),g=t("./errors").RangeError,p=t("./errors").AggregateError,v=f.isArray,y={};function m(k){this.constructor$(k),this._howMany=0,this._unwrap=!1,this._initialized=!1}function b(k,C){if((0|C)!==C||C<0)return d(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var w=new m(k),T=w.promise();return w.setHowMany(C),w.init(),T}f.inherits(m,l),m.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var k=v(this._values);!this._isResolved()&&k&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},m.prototype.init=function(){this._initialized=!0,this._init()},m.prototype.setUnwrap=function(){this._unwrap=!0},m.prototype.howMany=function(){return this._howMany},m.prototype.setHowMany=function(k){this._howMany=k},m.prototype._promiseFulfilled=function(k){return this._addFulfilled(k),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},m.prototype._promiseRejected=function(k){return this._addRejected(k),this._checkOutcome()},m.prototype._promiseCancelled=function(){return this._values instanceof r||this._values==null?this._cancel():(this._addRejected(y),this._checkOutcome())},m.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var k=new p,C=this.length();C<this._values.length;++C)this._values[C]!==y&&k.push(this._values[C]);return k.length>0?this._reject(k):this._cancel(),!0}return!1},m.prototype._fulfilled=function(){return this._totalResolved},m.prototype._rejected=function(){return this._values.length-this.length()},m.prototype._addRejected=function(k){this._values.push(k)},m.prototype._addFulfilled=function(k){this._values[this._totalResolved++]=k},m.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},m.prototype._getRangeError=function(k){var C="Input array must contain at least "+this._howMany+" items but contains only "+k+" items";return new g(C)},m.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},r.some=function(k,C){return b(k,C)},r.prototype.some=function(k){return b(this,k)},r._SomePromiseArray=m}},{"./errors":12,"./util":36}],32:[function(t,n,a){n.exports=function(r){function l(m){m!==void 0?(m=m._target(),this._bitField=m._bitField,this._settledValueField=m._isFateSealed()?m._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}l.prototype._settledValue=function(){return this._settledValueField};var d=l.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},f=l.prototype.error=l.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},g=l.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},p=l.prototype.isRejected=function(){return(16777216&this._bitField)!=0},v=l.prototype.isPending=function(){return(50397184&this._bitField)==0},y=l.prototype.isResolved=function(){return(50331648&this._bitField)!=0};l.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},r.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},r.prototype._isCancelled=function(){return this._target().__isCancelled()},r.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},r.prototype.isPending=function(){return v.call(this._target())},r.prototype.isRejected=function(){return p.call(this._target())},r.prototype.isFulfilled=function(){return g.call(this._target())},r.prototype.isResolved=function(){return y.call(this._target())},r.prototype.value=function(){return d.call(this._target())},r.prototype.reason=function(){var m=this._target();return m._unsetRejectionIsUnhandled(),f.call(m)},r.prototype._value=function(){return this._settledValue()},r.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},r.PromiseInspection=l}},{}],33:[function(t,n,a){n.exports=function(r,l){var d=t("./util"),f=d.errorObj,g=d.isObject,p={}.hasOwnProperty;return function(v,y){if(g(v)){if(v instanceof r)return v;var m=function(k){try{return function(C){return C.then}(k)}catch(C){return f.e=C,f}}(v);if(m===f){y&&y._pushContext();var b=r.reject(m.e);return y&&y._popContext(),b}if(typeof m=="function")return function(k){try{return p.call(k,"_promise0")}catch{return!1}}(v)?(b=new r(l),v._then(b._fulfill,b._reject,void 0,b,null),b):function(k,C,w){var T=new r(l),E=T;w&&w._pushContext(),T._captureStackTrace(),w&&w._popContext();var P=!0,j=d.tryCatch(C).call(k,function(N){T&&(T._resolveCallback(N),T=null)},function(N){T&&(T._rejectCallback(N,P,!0),T=null)});return P=!1,T&&j===f&&(T._rejectCallback(j.e,!0,!0),T=null),E}(v,m,y)}return v}}},{"./util":36}],34:[function(t,n,a){n.exports=function(r,l,d){var f=t("./util"),g=r.TimeoutError;function p(k){this.handle=k}p.prototype._resultCancelled=function(){clearTimeout(this.handle)};var v=function(k){return y(+this).thenReturn(k)},y=r.delay=function(k,C){var w,T;return C!==void 0?(w=r.resolve(C)._then(v,null,null,k,void 0),d.cancellation()&&C instanceof r&&w._setOnCancel(C)):(w=new r(l),T=setTimeout(function(){w._fulfill()},+k),d.cancellation()&&w._setOnCancel(new p(T)),w._captureStackTrace()),w._setAsyncGuaranteed(),w};r.prototype.delay=function(k){return y(k,this)};function m(k){return clearTimeout(this.handle),k}function b(k){throw clearTimeout(this.handle),k}r.prototype.timeout=function(k,C){var w,T;k=+k;var E=new p(setTimeout(function(){w.isPending()&&function(P,j,N){var L;L=typeof j!="string"?j instanceof Error?j:new g("operation timed out"):new g(j),f.markAsOriginatingFromRejection(L),P._attachExtraTrace(L),P._reject(L),N!=null&&N.cancel()}(w,C,T)},k));return d.cancellation()?(T=this.then(),(w=T._then(m,b,void 0,E,void 0))._setOnCancel(E)):w=this._then(m,b,void 0,E,void 0),w}}},{"./util":36}],35:[function(t,n,a){n.exports=function(r,l,d,f,g,p){var v=t("./util"),y=t("./errors").TypeError,m=t("./util").inherits,b=v.errorObj,k=v.tryCatch,C={};function w(L){setTimeout(function(){throw L},0)}function T(L,B){var I=0,V=L.length,Y=new r(g);return function H(){if(I>=V)return Y._fulfill();var F=function(G){var R=d(G);return R!==G&&typeof G._isDisposable=="function"&&typeof G._getDisposer=="function"&&G._isDisposable()&&R._setDisposable(G._getDisposer()),R}(L[I++]);if(F instanceof r&&F._isDisposable()){try{F=d(F._getDisposer().tryDispose(B),L.promise)}catch(G){return w(G)}if(F instanceof r)return F._then(H,w,null,null,null)}H()}(),Y}function E(L,B,I){this._data=L,this._promise=B,this._context=I}function P(L,B,I){this.constructor$(L,B,I)}function j(L){return E.isDisposer(L)?(this.resources[this.index]._setDisposable(L),L.promise()):L}function N(L){this.length=L,this.promise=null,this[L-1]=null}E.prototype.data=function(){return this._data},E.prototype.promise=function(){return this._promise},E.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():C},E.prototype.tryDispose=function(L){var B=this.resource(),I=this._context;I!==void 0&&I._pushContext();var V=B!==C?this.doDispose(B,L):null;return I!==void 0&&I._popContext(),this._promise._unsetDisposable(),this._data=null,V},E.isDisposer=function(L){return L!=null&&typeof L.resource=="function"&&typeof L.tryDispose=="function"},m(P,E),P.prototype.doDispose=function(L,B){return this.data().call(L,L,B)},N.prototype._resultCancelled=function(){for(var L=this.length,B=0;B<L;++B){var I=this[B];I instanceof r&&I.cancel()}},r.using=function(){var L=arguments.length;if(L<2)return l("you must pass at least 2 arguments to Promise.using");var B,I=arguments[L-1];if(typeof I!="function")return l("expecting a function but got "+v.classString(I));var V=!0;L===2&&Array.isArray(arguments[0])?(L=(B=arguments[0]).length,V=!1):(B=arguments,L--);for(var Y=new N(L),H=0;H<L;++H){var F=B[H];if(E.isDisposer(F)){var G=F;(F=F.promise())._setDisposable(G)}else{var R=d(F);R instanceof r&&(F=R._then(j,null,null,{resources:Y,index:H},void 0))}Y[H]=F}var K=new Array(Y.length);for(H=0;H<K.length;++H)K[H]=r.resolve(Y[H]).reflect();var Q=r.all(K).then(function(O){for(var $=0;$<O.length;++$){var D=O[$];if(D.isRejected())return b.e=D.error(),b;if(!D.isFulfilled())return void Q.cancel();O[$]=D.value()}W._pushContext(),I=k(I);var M=V?I.apply(void 0,O):I(O),U=W._popContext();return p.checkForgottenReturns(M,U,"Promise.using",W),M}),W=Q.lastly(function(){var O=new r.PromiseInspection(Q);return T(Y,O)});return Y.promise=W,W._setOnCancel(Y),W},r.prototype._setDisposable=function(L){this._bitField=131072|this._bitField,this._disposer=L},r.prototype._isDisposable=function(){return(131072&this._bitField)>0},r.prototype._getDisposer=function(){return this._disposer},r.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},r.prototype.disposer=function(L){if(typeof L=="function")return new P(L,this,f());throw new y}}},{"./errors":12,"./util":36}],36:[function(t,n,a){var r=t("./es5"),l=typeof navigator>"u",d={e:{}},f,g=typeof self<"u"?self:typeof window<"u"?window:u!==void 0?u:this!==void 0?this:null;function p(){try{var J=f;return f=null,J.apply(this,arguments)}catch(rt){return d.e=rt,d}}function v(J){return f=J,p}var y=function(J,rt){var ct={}.hasOwnProperty;function lt(){for(var ht in this.constructor=J,this.constructor$=rt,rt.prototype)ct.call(rt.prototype,ht)&&ht.charAt(ht.length-1)!=="$"&&(this[ht+"$"]=rt.prototype[ht])}return lt.prototype=rt.prototype,J.prototype=new lt,J.prototype};function m(J){return J==null||J===!0||J===!1||typeof J=="string"||typeof J=="number"}function b(J){return typeof J=="function"||e(J)==="object"&&J!==null}function k(J){return m(J)?new Error(Y(J)):J}function C(J,rt){var ct,lt=J.length,ht=new Array(lt+1);for(ct=0;ct<lt;++ct)ht[ct]=J[ct];return ht[ct]=rt,ht}function w(J,rt,ct){if(!r.isES5)return{}.hasOwnProperty.call(J,rt)?J[rt]:void 0;var lt=Object.getOwnPropertyDescriptor(J,rt);return lt!=null?lt.get==null&&lt.set==null?lt.value:ct:void 0}function T(J,rt,ct){if(m(J))return J;var lt={value:ct,configurable:!0,enumerable:!1,writable:!0};return r.defineProperty(J,rt,lt),J}function E(J){throw J}var P=function(){var J=[Array.prototype,Object.prototype,Function.prototype],rt=function(ht){for(var pt=0;pt<J.length;++pt)if(J[pt]===ht)return!0;return!1};if(r.isES5){var ct=Object.getOwnPropertyNames;return function(ht){for(var pt=[],kt=Object.create(null);ht!=null&&!rt(ht);){var bt;try{bt=ct(ht)}catch{return pt}for(var St=0;St<bt.length;++St){var Mt=bt[St];if(!kt[Mt]){kt[Mt]=!0;var At=Object.getOwnPropertyDescriptor(ht,Mt);At!=null&&At.get==null&&At.set==null&&pt.push(Mt)}}ht=r.getPrototypeOf(ht)}return pt}}var lt={}.hasOwnProperty;return function(ht){if(rt(ht))return[];var pt=[];t:for(var kt in ht)if(lt.call(ht,kt))pt.push(kt);else{for(var bt=0;bt<J.length;++bt)if(lt.call(J[bt],kt))continue t;pt.push(kt)}return pt}}(),j=/this\s*\.\s*\S+\s*=/;function N(J){try{if(typeof J=="function"){var rt=r.names(J.prototype),ct=r.isES5&&rt.length>1,lt=rt.length>0&&!(rt.length===1&&rt[0]==="constructor"),ht=j.test(J+"")&&r.names(J).length>0;if(ct||lt||ht)return!0}return!1}catch{return!1}}function L(J){function rt(){}rt.prototype=J;var ct=new rt;function lt(){return e(ct.foo)}return lt(),lt(),J}var B=/^[a-z$_][a-z$_0-9]*$/i;function I(J){return B.test(J)}function V(J,rt,ct){for(var lt=new Array(J),ht=0;ht<J;++ht)lt[ht]=rt+ht+ct;return lt}function Y(J){try{return J+""}catch{return"[no string representation]"}}function H(J){return J instanceof Error||J!==null&&e(J)==="object"&&typeof J.message=="string"&&typeof J.name=="string"}function F(J){try{T(J,"isOperational",!0)}catch{}}function G(J){return J!=null&&(J instanceof Error.__BluebirdErrorTypes__.OperationalError||J.isOperational===!0)}function R(J){return H(J)&&r.propertyIsWritable(J,"stack")}var K="stack"in new Error?function(J){return R(J)?J:new Error(Y(J))}:function(J){if(R(J))return J;try{throw new Error(Y(J))}catch(rt){return rt}};function Q(J){return{}.toString.call(J)}function W(J,rt,ct){for(var lt=r.names(J),ht=0;ht<lt.length;++ht){var pt=lt[ht];if(ct(pt))try{r.defineProperty(rt,pt,r.getDescriptor(J,pt))}catch{}}}var O=function(J){return r.isArray(J)?J:null};if(typeof Symbol<"u"&&Symbol.iterator){var $=typeof Array.from=="function"?function(J){return Array.from(J)}:function(J){for(var rt,ct=[],lt=J[Symbol.iterator]();!(rt=lt.next()).done;)ct.push(rt.value);return ct};O=function(J){return r.isArray(J)?J:J!=null&&typeof J[Symbol.iterator]=="function"?$(J):null}}var D=_!==void 0&&Q(_).toLowerCase()==="[object process]",M=_!==void 0&&_.env!==void 0;function U(J){return M?_.env[J]:void 0}function q(){if(typeof Promise=="function")try{var J=new Promise(function(){});if({}.toString.call(J)==="[object Promise]")return Promise}catch{}}function X(J,rt){return J.bind(rt)}var nt={isClass:N,isIdentifier:I,inheritedDataKeys:P,getDataPropertyOrDefault:w,thrower:E,isArray:r.isArray,asArray:O,notEnumerableProp:T,isPrimitive:m,isObject:b,isError:H,canEvaluate:l,errorObj:d,tryCatch:v,inherits:y,withAppended:C,maybeWrapAsError:k,toFastProperties:L,filledRange:V,toString:Y,canAttachTrace:R,ensureErrorObject:K,originatesFromRejection:G,markAsOriginatingFromRejection:F,classString:Q,copyDescriptors:W,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:D,hasEnvVariables:M,env:U,global:g,getNativePromise:q,domainBind:X};nt.isRecentNode=nt.isNode&&function(){var J;return _.versions&&_.versions.node?J=_.versions.node.split(".").map(Number):_.version&&(J=_.version.split(".").map(Number)),J[0]===0&&J[1]>10||J[0]>0}(),nt.isNode&&nt.toFastProperties(_);try{throw new Error}catch(J){nt.lastLineError=J}n.exports=nt},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,h(10),h(4),h(62).setImmediate)},function(S,x,h){S.exports=h(248)},function(S,x,h){var _=h(0);S.exports=function(){var u={};return{getState:function(s){if(u[s])return u[s].method();var c={};for(var i in u)u[i].internal||_.mixin(c,u[i].method(),!0);return c},registerProvider:function(s,c,i){u[s]={method:c,internal:i}},unregisterProvider:function(s){delete u[s]}}}},function(S,x){S.exports=function(h){var _={};function u(s,c,i){i=i||s;var o=h.config,e=h.templates;h.config[s]&&_[i]!=o[s]&&(c&&e[i]||(e[i]=h.date.date_to_str(o[s]),_[i]=o[s]))}return{initTemplates:function(){var s=h.locale.labels;s.gantt_save_btn=s.icon_save,s.gantt_cancel_btn=s.icon_cancel,s.gantt_delete_btn=s.icon_delete;var c=h.date,i=c.date_to_str,o=h.config,e=i(o.xml_date||o.date_format,o.server_utc),t=c.str_to_date(o.xml_date||o.date_format,o.server_utc);u("date_scale",!0,void 0,h.config,h.templates),u("date_grid",!0,"grid_date_format",h.config,h.templates),u("task_date",!0,void 0,h.config,h.templates),h.mixin(h.templates,{xml_format:void 0,format_date:e,xml_date:void 0,parse_date:t,progress_text:function(n,a,r){return""},grid_header_class:function(n,a){return""},task_text:function(n,a,r){return r.text},task_class:function(n,a,r){return""},task_end_date:function(n){return h.templates.task_date(n)},grid_row_class:function(n,a,r){return""},task_row_class:function(n,a,r){return""},timeline_cell_class:function(n,a){return""},timeline_cell_content:function(n,a){return""},scale_cell_class:function(n){return""},scale_row_class:function(n){return""},grid_indent:function(n){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(n){return"<div class='gantt_tree_icon gantt_folder_"+(n.$open?"open":"closed")+"'></div>"},grid_file:function(n){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(n){return"<div class='gantt_tree_icon gantt_"+(n.$open?"close":"open")+"'></div>"},grid_blank:function(n){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(n,a,r){return a&&h.isUnscheduledTask(a)&&h.config.show_unscheduled?h.templates.task_unscheduled_time(a):h.templates.grid_date_format(n,r)},task_time:function(n,a,r){return h.isUnscheduledTask(r)&&h.config.show_unscheduled?h.templates.task_unscheduled_time(r):h.templates.task_date(n)+" - "+h.templates.task_end_date(a)},task_unscheduled_time:function(n){return""},time_picker:i(o.time_picker),link_class:function(n){return""},link_description:function(n){var a=h.getTask(n.source),r=h.getTask(n.target);return"<b>"+a.text+"</b> &ndash;  <b>"+r.text+"</b>"},drag_link:function(n,a,r,l){n=h.getTask(n);var d=h.locale.labels,f="<b>"+n.text+"</b> "+(a?d.link_start:d.link_end)+"<br/>";return r&&(f+="<b> "+(r=h.getTask(r)).text+"</b> "+(l?d.link_start:d.link_end)+"<br/>"),f},drag_link_class:function(n,a,r,l){var d="";return n&&r&&(d=" "+(h.isLinkAllowed(n,r,a,l)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+d},tooltip_date_format:c.date_to_str("%Y-%m-%d"),tooltip_text:function(n,a,r){return"<b>Task:</b> "+r.text+"<br/><b>Start date:</b> "+h.templates.tooltip_date_format(n)+"<br/><b>End date:</b> "+h.templates.tooltip_date_format(a)}})},initTemplate:u}}},function(S,x,h){var _=h(5),u=h(0),s=h(55),c=h(17),i=h(1);S.exports=function(o){function e(n){return{target:n.target||n.srcElement,pageX:n.pageX,pageY:n.pageY,clientX:n.clientX,clientY:n.clientY,metaKey:n.metaKey,shiftKey:n.shiftKey,ctrlKey:n.ctrlKey,altKey:n.altKey}}function t(n,a){this._obj=n,this._settings=a||{},_(this);var r=this.getInputMethods();this._drag_start_timer=null,o.attachEvent("onGanttScroll",u.bind(function(f,g){this.clearDragTimer()},this));for(var l={passive:!1},d=0;d<r.length;d++)u.bind(function(f){o.event(n,f.down,u.bind(function(p){f.accessor(p)&&(a.preventDefault&&a.selector&&i.closest(p.target,a.selector)&&p.preventDefault(),o.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=e(p),o.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(u.bind(function(){o.getState().lightbox||this.dragStart(n,p,f)},this),o.config.touch_drag)):this.dragStart(n,p,f)))},this),l);var g=document.body;o.event(g,f.up,u.bind(function(p){f.accessor(p)&&this.clearDragTimer()},this),l)},this)(r[d])}return t.prototype={traceDragEvents:function(n,a){var r=u.bind(function(v){return this.dragMove(n,v,a.accessor)},this);u.bind(function(v){return this.dragScroll(n,v)},this);var l=u.bind(function(v){if(!this.config.started||!u.defined(this.config.updates_per_second)||s(this,this.config.updates_per_second)){var y=r(v);if(y)try{v&&v.preventDefault&&v.cancelable&&v.preventDefault()}catch{}return y}},this),d=i.getRootNode(o.$root),f=this.config.mousemoveContainer||i.getRootNode(o.$root),g={passive:!1},p=u.bind(function(v){return o.eventRemove(f,a.move,l),o.eventRemove(d,a.up,p,g),this.dragEnd(n)},this);o.event(f,a.move,l,g),o.event(d,a.up,p,g)},checkPositionChange:function(n){var a=n.x-this.config.pos.x,r=n.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(a),2)+Math.pow(Math.abs(r),2))>this.config.sensitivity},initDnDMarker:function(){var n=this.config.marker=document.createElement("div");n.className="gantt_drag_marker",n.innerHTML="",document.body.appendChild(n)},backupEventTarget:function(n,a){if(o.config.touch){var r=a(n),l=r.target||r.srcElement,d=l.cloneNode(!0);this.config.original_target=e(r),this.config.original_target.target=d,this.config.backup_element=l,l.parentNode.appendChild(d),l.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(l)}},getInputMethods:function(){var n=[];if(n.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(r){return r}}),o.config.touch){var a=!0;try{document.createEvent("TouchEvent")}catch{a=!1}a?n.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(r){return r.touches&&r.touches.length>1?null:r.touches[0]?{target:document.elementFromPoint(r.touches[0].clientX,r.touches[0].clientY),pageX:r.touches[0].pageX,pageY:r.touches[0].pageY,clientX:r.touches[0].clientX,clientY:r.touches[0].clientY}:r}}):c.navigator.pointerEnabled?n.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(r){return r.pointerType=="mouse"?null:r}}):c.navigator.msPointerEnabled&&n.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(r){return r.pointerType==r.MSPOINTER_TYPE_MOUSE?null:r}})}return n},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(n,a,r){this.config&&this.config.started||(this.config={obj:n,marker:null,started:!1,pos:this.getPosition(a),sensitivity:4},this._settings&&u.mixin(this.config,this._settings,!0),this.traceDragEvents(n,r),o._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",o.config.touch&&this.dragMove(n,a,r.accessor))},dragMove:function(n,a,r){var l=r(a);if(!l)return!1;if(!this.config.marker&&!this.config.started){var d=this.getPosition(l);if(o.config.touch||this.checkPositionChange(d)){if(this.config.started=!0,this.config.ignore=!1,this.callEvent("onBeforeDragStart",[n,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(a,r),this.initDnDMarker(),o._touch_feedback(),this.callEvent("onAfterDragStart",[n,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:a.targetTouches&&!l.target?void 0:(l.pos=this.getPosition(l),this.config.marker.style.left=l.pos.x+"px",this.config.marker.style.top=l.pos.y+"px",this.callEvent("onDragMove",[n,l]),!0)},dragEnd:function(n){var a=this.config.backup_element;a&&a.parentNode&&a.parentNode.removeChild(a),o._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(n){var a=0,r=0;return n.pageX||n.pageY?(a=n.pageX,r=n.pageY):(n.clientX||n.clientY)&&(a=n.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,r=n.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:a,y:r}}},t}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _={date_to_str:function(u,s,c){return function(i){return u.replace(/%[a-zA-Z]/g,function(o){switch(o){case"%d":return s?c.date.to_fixed(i.getUTCDate()):c.date.to_fixed(i.getDate());case"%m":return s?c.date.to_fixed(i.getUTCMonth()+1):c.date.to_fixed(i.getMonth()+1);case"%j":return s?i.getUTCDate():i.getDate();case"%n":return s?i.getUTCMonth()+1:i.getMonth()+1;case"%y":return s?c.date.to_fixed(i.getUTCFullYear()%100):c.date.to_fixed(i.getFullYear()%100);case"%Y":return s?i.getUTCFullYear():i.getFullYear();case"%D":return s?c.locale.date.day_short[i.getUTCDay()]:c.locale.date.day_short[i.getDay()];case"%l":return s?c.locale.date.day_full[i.getUTCDay()]:c.locale.date.day_full[i.getDay()];case"%M":return s?c.locale.date.month_short[i.getUTCMonth()]:c.locale.date.month_short[i.getMonth()];case"%F":return s?c.locale.date.month_full[i.getUTCMonth()]:c.locale.date.month_full[i.getMonth()];case"%h":return s?c.date.to_fixed((i.getUTCHours()+11)%12+1):c.date.to_fixed((i.getHours()+11)%12+1);case"%g":return s?(i.getUTCHours()+11)%12+1:(i.getHours()+11)%12+1;case"%G":return s?i.getUTCHours():i.getHours();case"%H":return s?c.date.to_fixed(i.getUTCHours()):c.date.to_fixed(i.getHours());case"%i":return s?c.date.to_fixed(i.getUTCMinutes()):c.date.to_fixed(i.getMinutes());case"%a":return s?i.getUTCHours()>11?"pm":"am":i.getHours()>11?"pm":"am";case"%A":return s?i.getUTCHours()>11?"PM":"AM":i.getHours()>11?"PM":"AM";case"%s":return s?c.date.to_fixed(i.getUTCSeconds()):c.date.to_fixed(i.getSeconds());case"%W":return s?c.date.to_fixed(c.date.getUTCISOWeek(i)):c.date.to_fixed(c.date.getISOWeek(i));default:return o}})}},str_to_date:function(u,s,c){return function(i){for(var o=[0,0,1,0,0,0],e=i.match(/[a-zA-Z]+|[0-9]+/g),t=u.match(/%[a-zA-Z]/g),n=0;n<t.length;n++)switch(t[n]){case"%j":case"%d":o[2]=e[n]||1;break;case"%n":case"%m":o[1]=(e[n]||1)-1;break;case"%y":o[0]=1*e[n]+(e[n]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":o[3]=e[n]||0;break;case"%i":o[4]=e[n]||0;break;case"%Y":o[0]=e[n]||0;break;case"%a":case"%A":o[3]=o[3]%12+((e[n]||"").toLowerCase()==="am"?0:12);break;case"%s":o[5]=e[n]||0;break;case"%M":o[1]=c.locale.date.month_short_hash[e[n]]||0;break;case"%F":o[1]=c.locale.date.month_full_hash[e[n]]||0}return s?new Date(Date.UTC(o[0],o[1],o[2],o[3],o[4],o[5])):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}}};x.default=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _={date_to_str:function(u,s,c){u=u.replace(/%[a-zA-Z]/g,function(o){switch(o){case"%d":return'"+to_fixed(date.get'+(s?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(s?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(s?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(s?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(s?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(s?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(s?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(s?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(s?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(s?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(s?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(s?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(s?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(s?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(s?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(s?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return o}});var i=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+u+'";');return function(o){return i(o,c.date.to_fixed,c.locale,c.date.getISOWeek,c.date.getWeek)}},str_to_date:function(u,s,c){for(var i="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",o=u.match(/%[a-zA-Z]/g),e=0;e<o.length;e++)switch(o[e]){case"%j":case"%d":i+="set[2]=temp["+e+"]||1;";break;case"%n":case"%m":i+="set[1]=(temp["+e+"]||1)-1;";break;case"%y":i+="set[0]=temp["+e+"]*1+(temp["+e+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":i+="set[3]=temp["+e+"]||0;";break;case"%i":i+="set[4]=temp["+e+"]||0;";break;case"%Y":i+="set[0]=temp["+e+"]||0;";break;case"%a":case"%A":i+="set[3]=set[3]%12+((temp["+e+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":i+="set[5]=temp["+e+"]||0;";break;case"%M":i+="set[1]=locale.date.month_short_hash[temp["+e+"]]||0;";break;case"%F":i+="set[1]=locale.date.month_full_hash[temp["+e+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";s&&(t=" Date.UTC("+t+")");var n=new Function("date","locale","var set=[0,0,1,0,0,0]; "+i+" return new Date("+t+");");return function(a){return n(a,c.locale)}}};x.default=_},function(S,x,h){var _=h(254).default,u=h(253).default;S.exports=function(s){var c=null;function i(){var o=!1;return s.config.csp==="auto"?(c===null&&function(){try{new Function("canUseCsp = false;")}catch{c=!0}}(),o=c):o=s.config.csp,o}return{init:function(){for(var o=s.locale,e=o.date.month_short,t=o.date.month_short_hash={},n=0;n<e.length;n++)t[e[n]]=n;for(e=o.date.month_full,t=o.date.month_full_hash={},n=0;n<e.length;n++)t[e[n]]=n},date_part:function(o){var e=new Date(o);return o.setHours(0),this.hour_start(o),o.getHours()&&(o.getDate()<e.getDate()||o.getMonth()<e.getMonth()||o.getFullYear()<e.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var e=o.getDay();return s.config.start_on_monday&&(e===0?e=6:e--),this.date_part(this.add(o,-1*e,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},quarter_start:function(o){this.month_start(o);var e,t=o.getMonth();return e=t>=9?9:t>=6?6:t>=3?3:0,o.setMonth(e),o},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},hour_start:function(o){return o.getMinutes()&&o.setMinutes(0),this.minute_start(o),o},minute_start:function(o){return o.getSeconds()&&o.setSeconds(0),o.getMilliseconds()&&o.setMilliseconds(0),o},_add_days:function(o,e,t){o.setDate(o.getDate()+e);var n=e>=0,a=!t.getHours()&&o.getHours(),r=o.getDate()<=t.getDate()||o.getMonth()<t.getMonth()||o.getFullYear()<t.getFullYear();return n&&a&&r&&o.setTime(o.getTime()+36e5*(24-o.getHours())),e>1&&a&&o.setHours(0),o},add:function(o,e,t){var n=new Date(o.valueOf());switch(t){case"day":n=this._add_days(n,e,o);break;case"week":n=this._add_days(n,7*e,o);break;case"month":n.setMonth(n.getMonth()+e);break;case"year":n.setYear(n.getFullYear()+e);break;case"hour":n.setTime(n.getTime()+60*e*60*1e3);break;case"minute":n.setTime(n.getTime()+60*e*1e3);break;default:return this["add_"+t](o,e,t)}return n},add_quarter:function(o,e){return this.add(o,3*e,"month")},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,e){var t=_;return i()&&(t=u),t.date_to_str(o,e,s)},str_to_date:function(o,e){var t=_;return i()&&(t=u),t.str_to_date(o,e,s)},getISOWeek:function(o){return s.date._getWeekNumber(o,!0)},_getWeekNumber:function(o,e){if(!o)return!1;var t=o.getDay();e&&t===0&&(t=7);var n=new Date(o.valueOf());n.setDate(o.getDate()+(4-t));var a=n.getFullYear(),r=Math.round((n.getTime()-new Date(a,0,1).getTime())/864e5);return 1+Math.floor(r/7)},getWeek:function(o){return s.date._getWeekNumber(o,s.config.start_on_monday)},getUTCISOWeek:function(o){return s.date.getISOWeek(o)},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())},parseDate:function(o,e){return o&&!o.getFullYear&&(typeof e!="function"&&(e=typeof e=="string"?e==="parse_date"||e==="xml_date"?s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date:s.defined(s.templates[e])?s.templates[e]:s.date.str_to_date(e):s.defined(s.templates.xml_date)?s.templates.xml_date:s.templates.parse_date),o=o?e(o):null),o}}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(_){if(typeof _=="string"||typeof _=="number")return _;var u="";for(var s in _){var c="";_.hasOwnProperty(s)&&(c=s+"="+(c=typeof _[s]=="string"?encodeURIComponent(_[s]):typeof _[s]=="number"?_[s]:encodeURIComponent(JSON.stringify(_[s]))),u.length&&(c="&"+c),u+=c)}return u}},function(S,x,h){function _(o){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}var u=h(8),s=h(17),c=h(256).default;function i(o,e){var t={method:o};if(e.length===0)throw new Error("Arguments list of query is wrong.");if(e.length===1)return typeof e[0]=="string"?(t.url=e[0],t.async=!0):(t.url=e[0].url,t.async=e[0].async||!0,t.callback=e[0].callback,t.headers=e[0].headers),e[0].data?typeof e[0].data!="string"?t.data=c(e[0].data):t.data=e[0].data:t.data="",t;switch(t.url=e[0],o){case"GET":case"DELETE":t.callback=e[1],t.headers=e[2];break;case"POST":case"PUT":e[1]?typeof e[1]!="string"?t.data=c(e[1]):t.data=e[1]:t.data="",t.callback=e[2],t.headers=e[3]}return t}S.exports=function(o){return{cache:!0,method:"get",parse:function(e){return typeof e!="string"?e:(e=e.replace(/^[\s]+/,""),typeof DOMParser>"u"||u.isIE?s.ActiveXObject!==void 0&&((t=new s.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=new DOMParser().parseFromString(e,"text/xml"),t);var t},xmltop:function(e,t,n){if(t.status===void 0||t.status<400){var a=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(a&&a.documentElement!==null&&!a.getElementsByTagName("parsererror").length)return a.getElementsByTagName(e)[0]}return n!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],n]),document.createElement("DIV")},xpath:function(e,t){if(t.nodeName||(t=t.responseXML||t),u.isIE)return t.selectNodes(e)||[];for(var n,a=[],r=(t.ownerDocument||t).evaluate(e,t,null,XPathResult.ANY_TYPE,null);n=r.iterateNext();)a.push(n);return a},query:function(e){return this._call(e.method||"GET",e.url,e.data||"",e.async||!0,e.callback,e.headers)},get:function(e,t,n){var a=i("GET",arguments);return this.query(a)},getSync:function(e,t){var n=i("GET",arguments);return n.async=!1,this.query(n)},put:function(e,t,n,a){var r=i("PUT",arguments);return this.query(r)},del:function(e,t,n){var a=i("DELETE",arguments);return this.query(a)},post:function(e,t,n,a){(arguments.length==1||arguments.length==2&&typeof t=="function")&&(t="");var r=i("POST",arguments);return this.query(r)},postSync:function(e,t,n){t=t===null?"":String(t);var a=i("POST",arguments);return a.async=!1,this.query(a)},_call:function(e,t,n,a,r,l){return new o.Promise(function(d,f){var g=(typeof XMLHttpRequest>"u"?"undefined":_(XMLHttpRequest))!==void 0?new XMLHttpRequest:new s.ActiveXObject("Microsoft.XMLHTTP"),p=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;a&&(g.onreadystatechange=function(){if(g.readyState==4||p&&g.readyState==3){if((g.status!=200||g.responseText==="")&&!o.callEvent("onAjaxError",[g]))return;setTimeout(function(){typeof r=="function"&&r.apply(s,[{xmlDoc:g,filePath:t}]),d(g),typeof r=="function"&&(r=null,g=null)},0)}});var v=!this||!this.cache;if(e=="GET"&&v&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),g.open(e,t,a),l)for(var y in l)g.setRequestHeader(y,l[y]);else e.toUpperCase()=="POST"||e=="PUT"||e=="DELETE"?g.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):e=="GET"&&(n=null);if(g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(n),!a)return{xmlDoc:g,filePath:t}})},urlSeparator:function(e){return e.indexOf("?")!=-1?"&":"?"}}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),S.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(S,x){S.exports=function(){var h={};return{services:{},setService:function(_,u){h[_]=u},getService:function(_){return h[_]?h[_]():null},dropService:function(_){h[_]&&delete h[_]},destructor:function(){for(var _ in h)if(h[_]){var u=h[_];u&&u.destructor&&u.destructor()}h=null}}}},function(S,x){S.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(S,x,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}S.exports=function(u){var s=new function(){this.constants=h(260),this.version="8.0.2",this.license="ultimate",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},c=new(h(56)).default(u),i={};s.plugins=function(l){for(var d in l)if(l[d]&&!i[d]){var f=c.getExtension(d);f&&(f(s),i[d]=!0)}return i},s.$services=h(259)(),s.config=h(258)(),s.ajax=h(257)(s),s.date=h(255)(s);var o=h(252)(s);s.$services.setService("dnd",function(){return o});var e=h(251)(s);s.$services.setService("templateLoader",function(){return e}),h(5)(s);var t=new(h(250));t.registerProvider("global",function(){var l={min_date:s._min_date,max_date:s._max_date,selected_task:null};return s.$data&&s.$data.tasksStore&&(l.selected_task=s.$data.tasksStore.getSelectedId()),l}),s.getState=t.getState,s.$services.setService("state",function(){return t});var n=h(0);n.mixin(s,n),s.Promise=h(249),s.env=h(8),h(247)(s);var a=h(241);s.dataProcessor=a.DEPRECATED_api,s.createDataProcessor=a.createDataProcessor,h(236)(s),h(224)(s),h(223)(s),h(215)(s),h(214)(s),h(213)(s),h(200)(s),h(199).default(s),h(198)(s),h(197)(s),h(196)(s),h(193)(s),h(192).default(s);var r=h(191).default();return s.i18n={addLocale:r.addLocale,setLocale:function(l){if(typeof l=="string"){var d=r.getLocale(l);d||(d=r.getLocale("en")),s.locale=d}else if(l)if(s.locale)for(var f in l)l[f]&&_(l[f])==="object"?(s.locale[f]||(s.locale[f]={}),s.mixin(s.locale[f],l[f],!0)):s.locale[f]=l[f];else s.locale=l},getLocale:r.getLocale},s.i18n.setLocale("en"),s}},function(S,x,h){h(38);var _=h(261);S.exports=function(u){var s=_(u);return s.env.isNode||h(157)(s),s}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(56),u=h(17),s=function(){return function(c,i){var o=this;this.plugin=function(e){o._ganttPlugin.push(e),u.gantt!==void 0&&u.gantt.getTask&&e(u.gantt)},this.getGanttInstance=function(e){for(var t=o._factoryMethod(o._bundledExtensions),n=0;n<o._ganttPlugin.length;n++)o._ganttPlugin[n](t);return t._internal_id=o._seed++,e&&o._initFromConfig(t,e),t},this._initFromConfig=function(e,t){if(t.plugins)for(var n in t.plugins){var a=o._extensionsManager.getExtension(n);a&&a(e)}if(t.config&&e.mixin(e.config,t.config,!0),t.templates&&e.attachEvent("onTemplatesReady",function(){e.mixin(e.templates,t.templates,!0)},{once:!0}),t.events)for(var r in t.events)e.attachEvent(r,t.events[r]);t.locale&&e.i18n.setLocale(t.locale),Array.isArray(t.calendars)&&t.calendars.forEach(function(l){e.addCalendar(l)}),t.container?e.init(t.container):e.init(),t.data&&(typeof t.data=="string"?e.load(t.data):e.parse(t.data))},this._seed=0,this._ganttPlugin=[],this._factoryMethod=c,this._bundledExtensions=i,this._extensionsManager=new _.default(i)}}();x.default=s},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=10,u=function(){function s(c){var i=this;this.maxSteps=_,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(o){return{commands:o?o.slice():[]}},invert:function(o){for(var e,t=i._gantt.copy(o),n=i.command,a=0;a<o.commands.length;a++){var r=t.commands[a]=n.invert(t.commands[a]);r.type!==n.type.update&&r.type!==n.type.move||(e=[r.oldValue,r.value],r.value=e[0],r.oldValue=e[1])}return t}},this.command={entity:null,type:null,create:function(o,e,t,n){var a=i._gantt;return{entity:n,type:t,value:a.copy(o),oldValue:a.copy(e||o)}},invert:function(o){var e=i._gantt.copy(o);return e.type=i.command.inverseCommands(o.type),e},inverseCommands:function(o){var e=i._gantt,t=i.command.type;switch(o){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return e.assert(!1,"Invalid command "+o),null}}},this._undoStack=[],this._redoStack=[],this._gantt=c}return s.prototype.getUndoStack=function(){return this._undoStack},s.prototype.getRedoStack=function(){return this._redoStack},s.prototype.clearUndoStack=function(){this._undoStack=[]},s.prototype.clearRedoStack=function(){this._redoStack=[]},s.prototype.updateConfigs=function(){var c=this._gantt;this.maxSteps=c.config.undo_steps||_,this.command.entity=c.config.undo_types,this.command.type=c.config.undo_actions,this.undoEnabled=!!c.config.undo,this.redoEnabled=!!c.config.redo},s.prototype.undo=function(){var c=this._gantt;if(this.updateConfigs(),this.undoEnabled){var i=this._pop(this._undoStack);if(i&&this._reorderCommands(i),c.callEvent("onBeforeUndo",[i])!==!1&&i)return this._applyAction(this.action.invert(i)),this._push(this._redoStack,c.copy(i)),void c.callEvent("onAfterUndo",[i]);c.callEvent("onAfterUndo",[null])}},s.prototype.redo=function(){var c=this._gantt;if(this.updateConfigs(),this.redoEnabled){var i=this._pop(this._redoStack);if(i&&this._reorderCommands(i),c.callEvent("onBeforeRedo",[i])!==!1&&i)return this._applyAction(i),this._push(this._undoStack,c.copy(i)),void c.callEvent("onAfterRedo",[i]);c.callEvent("onAfterRedo",[null])}},s.prototype.logAction=function(c){this._push(this._undoStack,c),this._redoStack=[]},s.prototype._push=function(c,i){var o=this._gantt;if(i.commands.length){var e=c===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(o.callEvent(e,[i])!==!1&&i.commands.length){for(c.push(i);c.length>this.maxSteps;)c.shift();return i}}},s.prototype._pop=function(c){return c.pop()},s.prototype._reorderCommands=function(c){var i={any:0,link:1,task:2},o={move:1,any:0};c.commands.sort(function(e,t){if(e.entity==="task"&&t.entity==="task")return e.type!==t.type?(o[t.type]||0)-(o[e.type]||0):e.type==="move"&&e.oldValue&&t.oldValue&&t.oldValue.parent===e.oldValue.parent?e.oldValue.$index-t.oldValue.$index:0;var n=i[e.entity]||i.any;return(i[t.entity]||i.any)-n})},s.prototype._applyAction=function(c){var i=null,o=this.command.entity,e=this.command.type,t=this._gantt,n={};n[o.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},n[o.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var a=0;a<c.commands.length;a++){i=c.commands[a];var r=n[i.entity][i.type],l=n[i.entity].get,d=n[i.entity].isExists;if(i.type===e.add)t[r](i.oldValue,i.oldValue.parent,i.oldValue.$local_index);else if(i.type===e.remove)t[d](i.value.id)&&t[r](i.value.id);else if(i.type===e.update){var f=t[l](i.value.id);for(var g in i.value)g.startsWith("$")||g.startsWith("_")||(f[g]=i.value[g]);t[r](i.value.id)}else i.type===e.move&&(t[r](i.value.id,i.value.$local_index,i.value.parent),t.callEvent("onRowDragEnd",[i.value.id]))}})},s}();x.Undo=u},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},u=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],s=function(){function c(i,o){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=i,this._gantt=o,this._attachEvents()}return c.prototype.store=function(i,o,e){return e===void 0&&(e=!1),o===this._gantt.config.undo_types.task?this._storeTask(i,e):o===this._gantt.config.undo_types.link&&this._storeLink(i,e)},c.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},c.prototype.toggleIgnoreMoveEvents=function(i){this._ignoreMoveEvents=i||!1},c.prototype.startIgnore=function(){this._ignore=!0},c.prototype.stopIgnore=function(){this._ignore=!1},c.prototype.startBatchAction=function(){var i=this;this._timeout||(this._timeout=setTimeout(function(){i.stopBatchAction(),i._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},c.prototype.stopBatchAction=function(){if(!this._ignore){var i=this._undo;this._batchAction&&i.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},c.prototype.onTaskAdded=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.add)},c.prototype.onTaskUpdated=function(i){this._ignore||this._storeTaskCommand(i,this._undo.command.type.update)},c.prototype.onTaskMoved=function(i){if(!this._ignore){i.$local_index=this._gantt.getTaskIndex(i.id);var o=this.getInitialTask(i.id);if(i.$local_index===o.$local_index&&this._gantt.getParent(i)===this._gantt.getParent(o))return;this._storeEntityCommand(i,this.getInitialTask(i.id),this._undo.command.type.move,this._undo.command.entity.task)}},c.prototype.onTaskDeleted=function(i){if(!this._ignore){if(this._storeTaskCommand(i,this._undo.command.type.remove),this._nestedTasks[i.id])for(var o=this._nestedTasks[i.id],e=0;e<o.length;e++)this._storeTaskCommand(o[e],this._undo.command.type.remove);if(this._nestedLinks[i.id]){var t=this._nestedLinks[i.id];for(e=0;e<t.length;e++)this._storeLinkCommand(t[e],this._undo.command.type.remove)}}},c.prototype.onLinkAdded=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.add)},c.prototype.onLinkUpdated=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.update)},c.prototype.onLinkDeleted=function(i){this._ignore||this._storeLinkCommand(i,this._undo.command.type.remove)},c.prototype.setNestedTasks=function(i,o){for(var e=this._gantt,t=null,n=[],a=this._getLinks(e.getTask(i)),r=0;r<o.length;r++)t=this.setInitialTask(o[r]),a=a.concat(this._getLinks(t)),n.push(t);var l={};for(r=0;r<a.length;r++)l[a[r]]=!0;var d=[];for(var r in l)d.push(this.setInitialLink(r));this._nestedTasks[i]=n,this._nestedLinks[i]=d},c.prototype.setInitialTask=function(i,o){var e=this._gantt;if(o||!this._initialTasks[i]||!this._batchMode){var t=e.copy(e.getTask(i));t.$index=e.getGlobalTaskIndex(i),t.$local_index=e.getTaskIndex(i),this.setInitialTaskObject(i,t)}return this._initialTasks[i]},c.prototype.getInitialTask=function(i){return this._initialTasks[i]},c.prototype.clearInitialTasks=function(){this._initialTasks={}},c.prototype.setInitialTaskObject=function(i,o){this._initialTasks[i]=o},c.prototype.setInitialLink=function(i,o){return this._initialLinks[i]&&this._batchMode||(this._initialLinks[i]=this._gantt.copy(this._gantt.getLink(i))),this._initialLinks[i]},c.prototype.getInitialLink=function(i){return this._initialLinks[i]},c.prototype.clearInitialLinks=function(){this._initialLinks={}},c.prototype._attachEvents=function(){var i=this,o=null,e=this._gantt,t=function(){o||(o=setTimeout(function(){o=null}),i.clearInitialTasks(),e.eachTask(function(l){i.setInitialTask(l.id)}),i.clearInitialLinks(),e.getLinks().forEach(function(l){i.setInitialLink(l.id)}))},n=function(l){return e.copy(e.getTask(l))};for(var a in _)e.attachEvent(a,function(){return i.startIgnore(),!0}),e.attachEvent(_[a],function(){return i.stopIgnore(),!0});for(a=0;a<u.length;a++)e.attachEvent(u[a],function(){return i.startBatchAction(),!0});e.attachEvent("onParse",function(){i._undo.clearUndoStack(),i._undo.clearRedoStack(),t()}),e.attachEvent("onAfterTaskAdd",function(l,d){i.setInitialTask(l,!0),i.onTaskAdded(d)}),e.attachEvent("onAfterTaskUpdate",function(l,d){i.onTaskUpdated(d)}),e.attachEvent("onAfterTaskDelete",function(l,d){i.onTaskDeleted(d)}),e.attachEvent("onAfterLinkAdd",function(l,d){i.setInitialLink(l,!0),i.onLinkAdded(d)}),e.attachEvent("onAfterLinkUpdate",function(l,d){i.onLinkUpdated(d)}),e.attachEvent("onAfterLinkDelete",function(l,d){i.onLinkDeleted(d)}),e.attachEvent("onRowDragEnd",function(l,d){return i.onTaskMoved(n(l)),i.toggleIgnoreMoveEvents(),!0}),e.attachEvent("onBeforeTaskDelete",function(l){i.store(l,e.config.undo_types.task);var d=[];return t(),e.eachTask(function(f){d.push(f.id)},l),i.setNestedTasks(l,d),!0});var r=e.getDatastore("task");r.attachEvent("onBeforeItemMove",function(l,d,f){return i.isMoveEventsIgnored()||t(),!0}),r.attachEvent("onAfterItemMove",function(l,d,f){return i.isMoveEventsIgnored()||i.onTaskMoved(n(l)),!0}),e.attachEvent("onRowDragStart",function(l,d,f){return i.toggleIgnoreMoveEvents(!0),t(),!0}),e.attachEvent("onBeforeTaskDrag",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onLightbox",function(l){return i.store(l,e.config.undo_types.task)}),e.attachEvent("onBeforeTaskAutoSchedule",function(l){return i.store(l.id,e.config.undo_types.task),!0}),e.ext.inlineEditors&&e.ext.inlineEditors.attachEvent("onEditStart",function(l){i.store(l.id,e.config.undo_types.task)})},c.prototype._storeCommand=function(i){var o=this._undo;if(o.updateConfigs(),o.undoEnabled)if(this._batchMode)this._batchAction.commands.push(i);else{var e=o.action.create([i]);o.logAction(e)}},c.prototype._storeEntityCommand=function(i,o,e,t){var n=this._undo.command.create(i,o,e,t);this._storeCommand(n)},c.prototype._storeTaskCommand=function(i,o){this._gantt.isTaskExists(i.id)&&(i.$local_index=this._gantt.getTaskIndex(i.id)),this._storeEntityCommand(i,this.getInitialTask(i.id),o,this._undo.command.entity.task)},c.prototype._storeLinkCommand=function(i,o){this._storeEntityCommand(i,this.getInitialLink(i.id),o,this._undo.command.entity.link)},c.prototype._getLinks=function(i){return i.$source.concat(i.$target)},c.prototype._storeTask=function(i,o){var e=this;o===void 0&&(o=!1);var t=this._gantt;return this.setInitialTask(i,o),t.eachTask(function(n){e.setInitialTask(n.id)},i),!0},c.prototype._storeLink=function(i,o){return o===void 0&&(o=!1),this.setInitialLink(i,o),!0},c}();x.Monitor=s},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(265),u=h(264);x.default=function(s){var c=new u.Undo(s),i=new _.Monitor(c,s);function o(l,d,f){l&&(l.id===d&&(l.id=f),l.parent===d&&(l.parent=f))}function e(l,d,f){o(l.value,d,f),o(l.oldValue,d,f)}function t(l,d,f){l&&(l.source===d&&(l.source=f),l.target===d&&(l.target=f))}function n(l,d,f){t(l.value,d,f),t(l.oldValue,d,f)}function a(l,d,f){for(var g=c,p=0;p<l.length;p++)for(var v=l[p],y=0;y<v.commands.length;y++)v.commands[y].entity===g.command.entity.task?e(v.commands[y],d,f):v.commands[y].entity===g.command.entity.link&&n(v.commands[y],d,f)}function r(l,d,f){for(var g=c,p=0;p<l.length;p++)for(var v=l[p],y=0;y<v.commands.length;y++){var m=v.commands[y];m.entity===g.command.entity.link&&(m.value&&m.value.id===d&&(m.value.id=f),m.oldValue&&m.oldValue.id===d&&(m.oldValue.id=f))}}s.config.undo=!0,s.config.redo=!0,s.config.undo_types={link:"link",task:"task"},s.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},s.ext||(s.ext={}),s.ext.undo={undo:function(){return c.undo()},redo:function(){return c.redo()},getUndoStack:function(){return c.getUndoStack()},getRedoStack:function(){return c.getRedoStack()},clearUndoStack:function(){return c.clearUndoStack()},clearRedoStack:function(){return c.clearRedoStack()},saveState:function(l,d){return i.store(l,d,!0)}},s.undo=s.ext.undo.undo,s.redo=s.ext.undo.redo,s.getUndoStack=s.ext.undo.getUndoStack,s.getRedoStack=s.ext.undo.getRedoStack,s.clearUndoStack=s.ext.undo.clearUndoStack,s.clearRedoStack=s.ext.undo.clearRedoStack,s.attachEvent("onTaskIdChange",function(l,d){var f=c;a(f.getUndoStack(),l,d),a(f.getRedoStack(),l,d)}),s.attachEvent("onLinkIdChange",function(l,d){var f=c;r(f.getUndoStack(),l,d),r(f.getRedoStack(),l,d)}),s.attachEvent("onGanttReady",function(){c.updateConfigs()})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(1),u=function(){function s(c){this._gantt=c}return s.prototype.getNode=function(){var c=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",c._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},s.prototype.setViewport=function(c){return this._root=c,this},s.prototype.show=function(c,i){var o=this._gantt,e=document.body,t=this.getNode();if(_.isChildOf(t,e)||(this.hide(),e.appendChild(t)),this._isLikeMouseEvent(c)){var n=this._calculateTooltipPosition(c);i=n.top,c=n.left}return t.style.top=i+"px",t.style.left=c+"px",o._waiAria.tooltipVisibleAttr(t),this},s.prototype.hide=function(){var c=this._gantt,i=this.getNode();return i&&i.parentNode&&i.parentNode.removeChild(i),c._waiAria.tooltipHiddenAttr(i),this},s.prototype.setContent=function(c){return this.getNode().innerHTML=c,this},s.prototype._isLikeMouseEvent=function(c){return!(!c||typeof c!="object")&&"clientX"in c&&"clientY"in c},s.prototype._getViewPort=function(){return this._root||document.body},s.prototype._calculateTooltipPosition=function(c){var i=this._gantt,o=this._getViewPortSize(),e=this.getNode(),t={top:0,left:0,width:e.offsetWidth,height:e.offsetHeight,bottom:0,right:0},n=i.config.tooltip_offset_x,a=i.config.tooltip_offset_y,r=document.body,l=_.getRelativeEventPosition(c,r),d=_.getNodePosition(r);l.y+=d.y,t.top=l.y,t.left=l.x,t.top+=a,t.left+=n,t.bottom=t.top+t.height,t.right=t.left+t.width;var f=window.scrollY+r.scrollTop;return t.top<o.top-f?(t.top=o.top,t.bottom=t.top+t.height):t.bottom>o.bottom&&(t.bottom=o.bottom,t.top=t.bottom-t.height),t.left<o.left?(t.left=o.left,t.right=o.left+t.width):t.right>o.right&&(t.right=o.right,t.left=t.right-t.width),l.x>=t.left&&l.x<=t.right&&(t.left=l.x-t.width-n,t.right=t.left+t.width),l.y>=t.top&&l.y<=t.bottom&&(t.top=l.y-t.height-a,t.bottom=t.top+t.height),t},s.prototype._getViewPortSize=function(){var c,i=this._gantt,o=this._getViewPort(),e=o,t=window.scrollY+document.body.scrollTop,n=window.scrollX+document.body.scrollLeft;return o===i.$task_data?(e=i.$task,t=0,n=0,c=_.getNodePosition(i.$task)):c=_.getNodePosition(e),{left:c.x+n,top:c.y+t,width:c.width,height:c.height,bottom:c.y+c.height+t,right:c.x+c.width+n}},s}();x.Tooltip=u},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(57),u=h(1),s=h(2),c=h(267),i=function(){function o(e){this._listeners={},this.tooltip=new c.Tooltip(e),this._gantt=e,this._domEvents=_(),this._initDelayedFunctions()}return o.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},o.prototype.hideTooltip=function(){this.delayHide()},o.prototype.attach=function(e){var t=this,n=document.body,a=this._gantt;e.global||(n=a.$root);var r=null,l=function(d){var f=u.getTargetNode(d),g=u.closest(f,e.selector);if(!u.isChildOf(f,t.tooltip.getNode())){var p=function(){r=g,e.onmouseenter(d,g)};r?g&&g===r?e.onmousemove(d,g):(e.onmouseleave(d,r),r=null,g&&g!==r&&p()):g&&p()}};this.detach(e.selector),this._domEvents.attach(n,"mousemove",l),this._listeners[e.selector]={node:n,handler:l}},o.prototype.detach=function(e){var t=this._listeners[e];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},o.prototype.tooltipFor=function(e){var t=this,n=function(a){var r=a;return document.createEventObject&&!document.createEvent&&(r=document.createEventObject(a)),r};this._initDelayedFunctions(),this.attach({selector:e.selector,global:e.global,onmouseenter:function(a,r){var l=e.html(a,r);l&&t.delayShow(n(a),l)},onmousemove:function(a,r){var l=e.html(a,r);l?t.delayShow(n(a),l):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},o.prototype._initDelayedFunctions=function(){var e=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=s.delay(function(n,a){t.callEvent("onBeforeTooltip",[n])===!1?e.tooltip.hide():(e.tooltip.setContent(a),e.tooltip.show(n))},t.config.tooltip_timeout||1),this.delayHide=s.delay(function(){e.delayShow.$cancelTimeout(),e.tooltip.hide()},t.config.tooltip_hide_timeout||1)},o}();x.TooltipManager=i},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(268);x.default=function(u){u.config.tooltip_timeout=30,u.config.tooltip_offset_y=20,u.config.tooltip_offset_x=10,u.config.tooltip_hide_timeout=30;var s=new _.TooltipManager(u);u.ext.tooltips=s,u.attachEvent("onGanttReady",function(){s.tooltipFor({selector:"["+u.config.task_attribute+"]:not(.gantt_task_row)",html:function(c){if(!u.config.touch||u.config.touch_tooltip){var i=u.locate(c);if(u.isTaskExists(i)){var o=u.getTask(i);return u.templates.tooltip_text(o.start_date,o.end_date,o)}return null}},global:!1})}),u.attachEvent("onDestroy",function(){s.destructor()}),u.attachEvent("onLightbox",function(){s.hideTooltip()}),u.attachEvent("onBeforeTooltip",function(){if(u.getState().link_source_id)return!1}),u.attachEvent("onGanttScroll",function(){s.hideTooltip()})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this.show=function(i,o){o===void 0?c._showForTask(i):c._showAtCoordinates(i,o)},this.hide=function(i){var o=c._gantt,e=c._quickInfoBox;c._quickInfoBoxId=0;var t=c._quickInfoTask;if(c._quickInfoTask=null,e&&e.parentNode){if(o.config.quick_info_detached)return o.callEvent("onAfterQuickInfo",[t]),e.parentNode.removeChild(e);e.className+=" gantt_qi_hidden",e.style.right==="auto"?e.style.left="-350px":e.style.right="-350px",i&&(e.style.left=e.style.right="",e.parentNode.removeChild(e)),o.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return c._quickInfoBox?c._quickInfoBox:null},this.setContainer=function(i){i&&(c._container=typeof i=="string"?document.getElementById(i):i)},this.setContent=function(i){var o=c._gantt,e={taskId:null,header:{title:"",date:""},content:"",buttons:o.config.quickinfo_buttons};i||(i=e),i.taskId||(i.taskId=e.taskId),i.header||(i.header=e.header),i.header.title||(i.header.title=e.header.title),i.header.date||(i.header.date=e.header.date),i.content||(i.content=e.content),i.buttons||(i.buttons=e.buttons);var t=c.getNode();t||(t=c._createQuickInfoElement()),i.taskId&&(c._quickInfoBoxId=i.taskId);var n=t.querySelector(".gantt_cal_qi_title"),a=n.querySelector(".gantt_cal_qi_tcontent"),r=n.querySelector(".gantt_cal_qi_tdate"),l=t.querySelector(".gantt_cal_qi_content"),d=t.querySelector(".gantt_cal_qi_controls");o._waiAria.quickInfoHeader(t,[i.header.title,i.header.date].join(" ")),a.innerHTML=i.header.title,r.innerHTML=i.header.date,i.header.title||i.header.date?n.style.display="":n.style.display="none",l.innerHTML=i.content;var f=i.buttons;f.length?d.style.display="":d.style.display="none";for(var g="",p=0;p<f.length;p++){var v=o._waiAria.quickInfoButtonAttrString(o.locale.labels[f[p]]);g+='<div class="gantt_qi_big_icon '+f[p]+'" title="'+o.locale.labels[f[p]]+'" '+v+"><div class='gantt_menu_icon "+f[p]+"'></div><div>"+o.locale.labels[f[p]]+"</div></div>"}d.innerHTML=g,o.eventRemove(t,"click",c._qiButtonClickHandler),o.eventRemove(t,"keypress",c._qiKeyPressHandler),o.event(t,"click",c._qiButtonClickHandler),o.event(t,"keypress",c._qiKeyPressHandler)},this._qiButtonClickHandler=function(i){i=i||event,c._qi_button_click(i.target||i.srcElement)},this._qiKeyPressHandler=function(i){var o=(i=i||event).which||event.keyCode;o!==13&&o!==32||setTimeout(function(){c._qi_button_click(i.target||i.srcElement)},1)},this._gantt=s}return u.prototype._showAtCoordinates=function(s,c){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(s,c),this._gantt.callEvent("onQuickInfo",[null])},u.prototype._showForTask=function(s){var c=this._gantt;if((s!==this._quickInfoBoxId||!c.utils.dom.isChildOf(this._quickInfoBox,document.body))&&c.config.show_quick_info){this.hide(!0);var i=this._getContainer(),o=this._get_event_counter_part(s,6,i.xViewport,i.yViewport);o&&(this._quickInfoBox=this._init_quick_info(s),this._quickInfoTask=s,this._quickInfoBox.className=this._prepare_quick_info_classname(s),this._fill_quick_data(s),this._show_quick_info(o,6),c.callEvent("onQuickInfo",[s]))}},u.prototype._get_event_counter_part=function(s,c,i,o){var e=this._gantt,t=e.getTaskNode(s);if(!t&&!(t=e.getTaskRowNode(s)))return null;var n=0,a=c+t.offsetTop+t.offsetHeight,r=t;if(e.utils.dom.isChildOf(r,i))for(;r&&r!==i;)n+=r.offsetLeft,r=r.offsetParent;var l=e.getScrollState();return r?{left:n,top:a,dx:n+t.offsetWidth/2-l.x>i.offsetWidth/2?1:0,dy:a+t.offsetHeight/2-l.y>o.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},u.prototype._createQuickInfoElement=function(){var s=this,c=this._gantt,i=document.createElement("div");i.className+="gantt_cal_quick_info",c._waiAria.quickInfoAttr(i);var o='<div class="gantt_cal_qi_title" '+c._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(o+='<div class="gantt_cal_qi_controls">',o+="</div>",i.innerHTML=o,c.config.quick_info_detached){var e=this._getContainer();c.event(e.parent,"scroll",function(){s.hide()})}return this._quickInfoBox=i,i},u.prototype._init_quick_info=function(s){var c=this._gantt,i=c.getTask(s);return typeof this._quickInfoReadonly=="boolean"&&c.isReadonly(i)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=c.isReadonly(i),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},u.prototype._prepare_quick_info_classname=function(s){var c=this._gantt,i=c.getTask(s),o="gantt_cal_quick_info",e=c.templates.quick_info_class(i.start_date,i.end_date,i);return e&&(o+=" "+e),o},u.prototype._fill_quick_data=function(s){var c=this._gantt,i=c.getTask(s);this._quickInfoBoxId=s;var o=[];if(this._quickInfoReadonly)for(var e=c.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},n=0;n<e.length;n++)this._quickInfoReadonly&&t[e[n]]||o.push(e[n]);else o=c.config.quickinfo_buttons;this.setContent({header:{title:c.templates.quick_info_title(i.start_date,i.end_date,i),date:c.templates.quick_info_date(i.start_date,i.end_date,i)},content:c.templates.quick_info_content(i.start_date,i.end_date,i),buttons:o})},u.prototype._appendAtCoordinates=function(s,c){var i=this._quickInfoBox,o=this._getContainer();i.parentNode&&i.parentNode.nodeName.toLowerCase()!=="#document-fragment"||o.parent.appendChild(i),i.style.left=s+"px",i.style.top=c+"px"},u.prototype._show_quick_info=function(s,c){var i=this._gantt,o=this._quickInfoBox;if(i.config.quick_info_detached){var e=this._getContainer();o.parentNode&&o.parentNode.nodeName.toLowerCase()!=="#document-fragment"||e.parent.appendChild(o);var t=o.offsetWidth,n=o.offsetHeight,a=i.getScrollState(),r=e.xViewport,l=e.yViewport,d=r.offsetWidth+a.x-t,f=s.top-a.y+n,g=s.top;f>l.offsetHeight/2&&(g=s.top-(n+s.height+2*c))<a.y&&f<=l.offsetHeight&&(g=s.top),g<a.y&&(g=a.y);var p=Math.min(Math.max(a.x,s.left-s.dx*(t-s.width)),d),v=g;this._appendAtCoordinates(p,v)}else o.style.top="20px",s.dx===1?(o.style.right="auto",o.style.left="-300px",setTimeout(function(){o.style.left="10px"},1)):(o.style.left="auto",o.style.right="-300px",setTimeout(function(){o.style.right="10px"},1)),o.className+=" gantt_qi_"+(s.dx===1?"left":"right"),i.$root.appendChild(o)},u.prototype._qi_button_click=function(s){var c=this._gantt,i=this._quickInfoBox;if(s&&s!==i){var o=s.className;if(o.indexOf("_icon")!==-1){var e=this._quickInfoBoxId;c.$click.buttons[o.split(" ")[1].replace("icon_","")](e)}else this._qi_button_click(s.parentNode)}},u.prototype._getContainer=function(){var s=this._gantt,c=this._container?this._container:s.$task_data;return c&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$task,yViewport:s.$task_data}:(c=this._container?this._container:s.$grid_data)&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:s.$grid,yViewport:s.$grid_data}:{parent:this._container?this._container:s.$layout,xViewport:s.$layout,yViewport:s.$layout}},u}();x.QuickInfo=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(270);x.default=function(u){u.ext||(u.ext={}),u.ext.quickInfo=new _.QuickInfo(u),u.config.quickinfo_buttons=["icon_delete","icon_edit"],u.config.quick_info_detached=!0,u.config.show_quick_info=!0,u.templates.quick_info_title=function(e,t,n){return n.text.substr(0,50)},u.templates.quick_info_content=function(e,t,n){return n.details||n.text},u.templates.quick_info_date=function(e,t,n){return u.templates.task_time(e,t,n)},u.templates.quick_info_class=function(e,t,n){return""},u.attachEvent("onTaskClick",function(e,t){return u.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){u.ext.quickInfo.show(e)},0),!0});for(var s=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],c=function(){return u.ext.quickInfo.hide(),!0},i=0;i<s.length;i++)u.attachEvent(s[i],c);function o(){return u.ext.quickInfo.hide(),u.ext.quickInfo._quickInfoBox=null,!0}u.attachEvent("onEmptyClick",function(e){var t=!0,n=document.querySelector(".gantt_cal_quick_info");n&&u.utils.dom.isChildOf(e.target,n)&&(t=!1),t&&c()}),u.attachEvent("onGanttReady",o),u.attachEvent("onDestroy",o),u.event(window,"keydown",function(e){e.keyCode===27&&u.ext.quickInfo.hide()})}},function(S,x){S.exports=function(h){h.ext||(h.ext={}),h.ext.overlay={};var _={};function u(){if(h.$task_data){h.event(h.$task_data,"scroll",function(t){h.ext.$overlay_area&&(h.ext.$overlay_area.style.top=t.target.scrollTop+"px")});var e=document.createElement("div");e.className="gantt_overlay_area",h.$task_data.appendChild(e),h.ext.$overlay_area=e,s()}}function s(){for(var e in _){var t=_[e];t.isAttached||c(t)}}function c(e){h.ext.$overlay_area.appendChild(e.node),e.isAttached=!0}function i(){h.ext.$overlay_area.style.display="block"}function o(){var e=!1;for(var t in _)if(_[t].isVisible){e=!0;break}e||(h.ext.$overlay_area.style.display="none")}h.attachEvent("onBeforeGanttRender",function(){h.ext.$overlay_area||u(),s(),o()}),h.attachEvent("onGanttReady",function(){u(),s(),o()}),h.ext.overlay.addOverlay=function(e,t){return t=t||h.uid(),_[t]=function(n,a){var r=document.createElement("div");return r.setAttribute("data-overlay-id",n),r.className="gantt_overlay",r.style.display="none",{id:n,render:a,isVisible:!1,isAttached:!1,node:r}}(t,e),t},h.ext.overlay.deleteOverlay=function(e){return!!_[e]&&(delete _[e],o(),!0)},h.ext.overlay.getOverlaysIds=function(){var e=[];for(var t in _)e.push(t);return e},h.ext.overlay.refreshOverlay=function(e){i(),_[e].isVisible=!0,_[e].node.innerHTML="",_[e].node.style.display="block",_[e].render(_[e].node)},h.ext.overlay.showOverlay=function(e){i(),this.refreshOverlay(e)},h.ext.overlay.hideOverlay=function(e){_[e].isVisible=!1,_[e].node.style.display="none",o()},h.ext.overlay.isOverlayVisible=function(e){return!!e&&_[e].isVisible}}},function(S,x,h){var _=h(2).replaceValidZeroId;S.exports=function(u){u.config.multiselect=!0,u.config.multiselect_one_level=!1,u._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var s=this.getSelected();return s.length?s[s.length-1]:null},setFirstSelected:function(s){this._first_selected_when_shift=s},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=u.config.multiselect_one_level;var s=this._active;this._active=u.config.select_task,this._active!=s&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(s){u.$data.tasksStore.silent(function(){var c=u.$data.tasksStore;s?c.select(s+""):c.unselect(null)})},getLastSelected:function(){var s=u.$data.tasksStore.getSelectedId();return s&&u.isTaskExists(s)?s:null},select:function(s,c){return!!(s&&u.callEvent("onBeforeTaskMultiSelect",[s,!0,c])&&u.callEvent("onBeforeTaskSelected",[s]))&&(this._selected[s]=!0,this.setLastSelected(s),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!0,c]),u.callEvent("onTaskSelected",[s]),!0)},toggle:function(s,c){this._selected[s]?this.unselect(s,c):this.select(s,c)},unselect:function(s,c){s&&u.callEvent("onBeforeTaskMultiSelect",[s,!1,c])&&(this._selected[s]=!1,this.getLastSelected()==s&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(s),u.callEvent("onTaskMultiSelect",[s,!1,c]),u.callEvent("onTaskUnselected",[s]))},isSelected:function(s){return!(!u.isTaskExists(s)||!this._selected[s])},getSelected:function(){var s=[];for(var c in this._selected)this._selected[c]&&u.isTaskExists(c)?s.push(c):this._selected[c]=!1;return s.sort(function(i,o){return u.getGlobalTaskIndex(i)>u.getGlobalTaskIndex(o)?1:-1}),s},forSelected:function(s){for(var c=this.getSelected(),i=0;i<c.length;i++)s(c[i])},isSameLevel:function(s){if(!this._one_level)return!0;var c=this.getLastSelected();return!c||!u.isTaskExists(c)||!u.isTaskExists(s)||u.calculateTaskLevel(u.getTask(c))==u.calculateTaskLevel(u.getTask(s))},afterSelect:function(s){u.isTaskExists(s)&&u._quickRefresh(function(){u.refreshTask(s)})},doSelection:function(s){if(!this.isActive()||u._is_icon_open_click(s))return!1;var c=u.locate(s);if(!c||!u.callEvent("onBeforeMultiSelect",[s]))return!1;var i=this.getSelected(),o=this.getFirstSelected(),e=!1,t=this.getLastSelected(),n=u.config.multiselect,a=(function(){var l=u.ext.inlineEditors,d=l.getState(),f=l.locateCell(s.target);u.config.inline_editors_multiselect_open&&f&&l.getEditorConfig(f.columnName)&&(l.isVisible()&&d.id==f.id&&d.columnName==f.columnName||l.startEdit(f.id,f.columnName)),this.setFirstSelected(c),this.isSelected(c)||this.select(c,s),i=this.getSelected();for(var g=0;g<i.length;g++)i[g]!==c&&this.unselect(i[g],s)}).bind(this),r=(function(){if(t){if(c){for(var l=u.getGlobalTaskIndex(this.getFirstSelected()),d=u.getGlobalTaskIndex(c),f=u.getGlobalTaskIndex(t),g=t;u.getGlobalTaskIndex(g)!==l;)this.unselect(g,s),g=l>f?u.getNext(g):u.getPrev(g);for(g=c;u.getGlobalTaskIndex(g)!==l;)this.select(g,s)&&!e&&(e=!0,o=g),g=l>d?u.getNext(g):u.getPrev(g)}}else t=c}).bind(this);return n&&(s.ctrlKey||s.metaKey)?(this.isSelected(c)||this.setFirstSelected(c),c&&this.toggle(c,s)):n&&s.shiftKey?(u.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(c),i.length?r():a()):a(),this.isSelected(c)?this.setLastSelected(c):o?c==t&&this.setLastSelected(s.shiftKey?o:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var s=u.selectTask;u.selectTask=function(i){if(!(i=_(i,this.config.root_id)))return!1;var o=u._multiselect,e=i;return o.isActive()?(o.select(i,null)&&o.setLastSelected(i),o.setFirstSelected(o.getLastSelected())):e=s.call(this,i),e};var c=u.unselectTask;u.unselectTask=function(i){var o=u._multiselect,e=o.isActive();(i=i||o.getLastSelected())&&e&&(o.unselect(i,null),i==o.getLastSelected()&&o.setLastSelected(null),u.refreshTask(i),o.setFirstSelected(o.getLastSelected()));var t=i;return e||(t=c.call(this,i)),t},u.toggleTaskSelection=function(i){var o=u._multiselect;i&&o.isActive()&&(o.toggle(i),o.setFirstSelected(o.getLastSelected()))},u.getSelectedTasks=function(){var i=u._multiselect;return i.isActive(),i.getSelected()},u.eachSelectedTask=function(i){return this._multiselect.forSelected(i)},u.isSelectedTask=function(i){return this._multiselect.isSelected(i)},u.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},u.attachEvent("onGanttReady",function(){var i=u.$data.tasksStore.isSelected;u.$data.tasksStore.isSelected=function(o){return u._multiselect.isActive()?u._multiselect.isSelected(o):i.call(this,o)}})}(),u.attachEvent("onTaskIdChange",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;u.isSelectedTask(s)&&(i.unselect(s,null),i.select(c,null))}),u.attachEvent("onAfterTaskDelete",function(s,c){var i=u._multiselect;if(!i.isActive())return!0;i._selected[s]&&(i.unselect(s,null),i._selected[s]=!1,i.setLastSelected(i.getDefaultSelected())),i.forSelected(function(o){u.isTaskExists(o)||i.unselect(o,null)})}),u.attachEvent("onBeforeTaskMultiSelect",function(s,c,i){var o=u._multiselect;return!(c&&o.isActive()&&o._one_level)||o.isSameLevel(s)}),u.attachEvent("onTaskClick",function(s,c){return u._multiselect.doSelection(c)&&u.callEvent("onMultiSelect",[c]),!0})}},function(S,x){S.exports=function(h){function _(s){if(!h.config.show_markers||!s.start_date)return!1;var c=h.getState();if(!(+s.start_date>+c.max_date||(!s.end_date||+s.end_date<+c.min_date)&&+s.start_date<+c.min_date)){var i=document.createElement("div");i.setAttribute("data-marker-id",s.id);var o="gantt_marker";h.templates.marker_class&&(o+=" "+h.templates.marker_class(s)),s.css&&(o+=" "+s.css),s.title&&(i.title=s.title),i.className=o;var e=h.posFromDate(s.start_date);i.style.left=e+"px";var t=Math.max(h.getRowTop(h.getVisibleTaskCount()),0)+"px";if(h.config.timeline_placeholder&&(t=h.$container.scrollHeight+"px"),i.style.height=t,s.end_date){var n=h.posFromDate(s.end_date);i.style.width=Math.max(n-e,0)+"px"}return s.text&&(i.innerHTML="<div class='gantt_marker_content' >"+s.text+"</div>"),i}}function u(){if(h.$task_data){var s=document.createElement("div");s.className="gantt_marker_area",h.$task_data.appendChild(s),h.$marker_area=s}}h._markers||(h._markers=h.createDatastore({name:"marker",initItem:function(s){return s.id=s.id||h.uid(),s}})),h.config.show_markers=!0,h.attachEvent("onBeforeGanttRender",function(){h.$marker_area||u()}),h.attachEvent("onDataRender",function(){h.$marker_area||(u(),h.renderMarkers())}),h.attachEvent("onGanttLayoutReady",function(){h.attachEvent("onBeforeGanttRender",function(){u(),h.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return h.$marker_area}}).addLayer(_)},{once:!0})}),h.getMarker=function(s){return this._markers?this._markers.getItem(s):null},h.addMarker=function(s){return this._markers.addItem(s)},h.deleteMarker=function(s){return!!this._markers.exists(s)&&(this._markers.removeItem(s),!0)},h.updateMarker=function(s){this._markers.refresh(s)},h._getMarkers=function(){return this._markers.getItems()},h.renderMarkers=function(){this._markers.refresh()}}},function(S,x){S.exports=function(h){h.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new h.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var _;return(_=h.config.keyboard_navigation_cells?new h.$keyboardNavigation.TaskCell:new h.$keyboardNavigation.TaskRow).isValid()||(_=_.fallback()),_},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var _=this.activeNode;return _&&!_.isValid()&&(_=_.fallback()),_},fromDomElement:function(_){for(var u=[h.$keyboardNavigation.TaskRow,h.$keyboardNavigation.TaskCell,h.$keyboardNavigation.HeaderCell],s=0;s<u.length;s++)if(u[s].prototype.fromDomElement){var c=u[s].prototype.fromDomElement(_);if(c)return c}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(_){var u=!0;this.activeNode&&this.activeNode.compareTo(_)&&(u=!1),this.isEnabled()&&(u&&this.blurNode(this.activeNode),this.activeNode=_,this.focusNode(this.activeNode,!u))},focusNode:function(_,u){_&&_.focus&&_.focus(u)},blurNode:function(_){_&&_.blur&&_.blur()},keyDownHandler:function(_){if(!h.$keyboardNavigation.isModal()&&this.isEnabled()&&!_.defaultPrevented){var u=this.globalNode,s=h.$keyboardNavigation.shortcuts.getCommandFromEvent(_),c=this.getActiveNode();h.$keyboardNavigation.facade.callEvent("onKeyDown",[s,_])!==!1&&(c?c.findHandler(s)?c.doAction(s,_):u.findHandler(s)&&u.doAction(s,_):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(_,u){clearTimeout(this._timeout),this._timeout=setTimeout(h.bind(function(){this._timeout=null,_()},this),u||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(S,x){S.exports=function(h){(function(){var _=[];function u(){return!!_.length}function s(n){setTimeout(function(){u()||h.$destroyed||h.focus()},1)}function c(n){h.eventRemove(n,"keydown",o),h.event(n,"keydown",o),_.push(n)}function i(){var n=_.pop();n&&h.eventRemove(n,"keydown",o),s()}function o(n){var a=n.currentTarget;(function(r){return r==_[_.length-1]})(a)&&h.$keyboardNavigation.trapFocus(a,n)}function e(){c(h.getLightbox())}h.attachEvent("onLightbox",e),h.attachEvent("onAfterLightbox",i),h.attachEvent("onLightboxChange",function(){i(),e()}),h.attachEvent("onAfterQuickInfo",function(){s()}),h.attachEvent("onMessagePopup",function(n){t=h.utils.dom.getActiveElement(),c(n)}),h.attachEvent("onAfterMessagePopup",function(){i(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;h.$keyboardNavigation.isModal=u})()}},function(S,x,h){S.exports=function(_){var u=h(1),s=h(2).replaceValidZeroId;_.$keyboardNavigation.TaskCell=function(c,i){if(!(c=s(c,_.config.root_id))){var o=_.getChildren(_.config.root_id);o[0]&&(c=o[0])}this.taskId=c,this.columnIndex=i||0,_.isTaskExists(this.taskId)&&(this.index=_.getTaskIndex(this.taskId),this.globalIndex=_.getGlobalTaskIndex(this.taskId))},_.$keyboardNavigation.TaskCell.prototype=_._compose(_.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return _.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!_.getGridColumns()[this.columnIndex]},fallback:function(){var c=_.$keyboardNavigation.TaskRow.prototype.fallback.call(this),i=c;if(c instanceof _.$keyboardNavigation.TaskRow){for(var o=_.getGridColumns(),e=this.columnIndex;e>=0&&!o[e];)e--;o[e]&&(i=new _.$keyboardNavigation.TaskCell(c.taskId,e))}return i},fromDomElement:function(c){if(!_.config.keyboard_navigation_cells)return null;var i=_.locate(c);if(_.isTaskExists(i)){var o=0,e=u.locateAttribute(c,"data-column-index");return e&&(o=1*e.getAttribute("data-column-index")),new _.$keyboardNavigation.TaskCell(i,o)}return null},getNode:function(){if(_.isTaskExists(this.taskId)&&_.isTaskVisible(this.taskId)){if(_.config.show_grid){var c=_.$grid.querySelector(".gantt_row["+_.config.task_attribute+"='"+this.taskId+"']");return c?c.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return _.getTaskNode(this.taskId)}},keys:{up:function(){var c=null,i=_.getPrev(this.taskId);c=_.isTaskExists(i)?new _.$keyboardNavigation.TaskCell(i,this.columnIndex):new _.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(c)},down:function(){var c=_.getNext(this.taskId);_.isTaskExists(c)&&this.moveTo(new _.$keyboardNavigation.TaskCell(c,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var c=_.getGridColumns();this.columnIndex<c.length-1&&this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var c=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,c.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(_.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){_.getVisibleTaskCount()&&this.moveTo(new _.$keyboardNavigation.TaskCell(_.getTaskByIndex(0).id,this.columnIndex))}}}),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskRow.prototype.keys),_.$keyboardNavigation.TaskCell.prototype.bindAll(_.$keyboardNavigation.TaskCell.prototype.keys)}},function(S,x){S.exports=function(h){h.$keyboardNavigation.TaskRow=function(_){if(!_){var u=h.getChildren(h.config.root_id);u[0]&&(_=u[0])}this.taskId=_,h.isTaskExists(this.taskId)&&(this.index=h.getTaskIndex(this.taskId),this.globalIndex=h.getGlobalTaskIndex(this.taskId))},h.$keyboardNavigation.TaskRow.prototype=h._compose(h.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return h.isTaskExists(this.taskId)&&h.getTaskIndex(this.taskId)>-1},fallback:function(){if(!h.getVisibleTaskCount()){var _=new h.$keyboardNavigation.HeaderCell;return _.isValid()?_:null}var u=-1;if(h.getTaskByIndex(this.globalIndex-1))u=this.globalIndex-1;else if(h.getTaskByIndex(this.globalIndex+1))u=this.globalIndex+1;else for(var s=this.globalIndex;s>=0;){if(h.getTaskByIndex(s)){u=s;break}s--}if(u>-1)return new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(u).id)},fromDomElement:function(_){if(h.config.keyboard_navigation_cells)return null;var u=h.locate(_);return h.isTaskExists(u)?new h.$keyboardNavigation.TaskRow(u):null},getNode:function(){if(h.isTaskExists(this.taskId)&&h.isTaskVisible(this.taskId))return h.config.show_grid?h.$grid.querySelector(".gantt_row["+h.config.task_attribute+"='"+this.taskId+"']"):h.getTaskNode(this.taskId)},focus:function(_){if(!_){var u,s,c=h.getTaskPosition(h.getTask(this.taskId)),i=h.getTaskHeight(this.taskId),o=h.getScrollState();u=h.$task?h.$task.offsetWidth:o.inner_width,s=h.$grid_data||h.$task_data?(h.$grid_data||h.$task_data).offsetHeight:o.inner_height,c.top<o.y||c.top+i>o.y+s?h.scrollTo(null,c.top-5*i):h.config.scroll_on_click&&h.config.show_chart&&(c.left>o.x+u?h.scrollTo(c.left-h.config.task_scroll_offset):c.left+c.width<o.x&&h.scrollTo(c.left+c.width-h.config.task_scroll_offset))}h.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[_]),function(){var e=h.$ui.getView("grid"),t=parseInt(e.$grid.scrollLeft),n=parseInt(e.$grid_data.scrollTop),a=e.$config.scrollX;if(a&&e.$config.scrollable){var r=h.$ui.getView(a);r&&r.scrollTo(t,n)}var l=e.$config.scrollY;if(l){var d=h.$ui.getView(l);d&&d.scrollTo(t,n)}}()},keys:{pagedown:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(h.getVisibleTaskCount()-1).id))},pageup:function(){h.getVisibleTaskCount()&&this.moveTo(new h.$keyboardNavigation.TaskRow(h.getTaskByIndex(0).id))},up:function(){var _=null,u=h.getPrev(this.taskId);_=h.isTaskExists(u)?new h.$keyboardNavigation.TaskRow(u):new h.$keyboardNavigation.HeaderCell,this.moveTo(_)},down:function(){var _=h.getNext(this.taskId);h.isTaskExists(_)&&this.moveTo(new h.$keyboardNavigation.TaskRow(_))},"shift+down":function(){h.hasChild(this.taskId)&&!h.getTask(this.taskId).$open&&h.open(this.taskId)},"shift+up":function(){h.hasChild(this.taskId)&&h.getTask(this.taskId).$open&&h.close(this.taskId)},"shift+right":function(){if(!h.isReadonly(this)){var _=h.getPrevSibling(this.taskId);h.isTaskExists(_)&&!h.isChildOf(this.taskId,_)&&(h.getTask(_).$open=!0,h.moveTask(this.taskId,-1,_)!==!1&&h.updateTask(this.taskId))}},"shift+left":function(){if(!h.isReadonly(this)){var _=h.getParent(this.taskId);h.isTaskExists(_)&&h.moveTask(this.taskId,h.getTaskIndex(_)+1,h.getParent(_))!==!1&&h.updateTask(this.taskId)}},space:function(_){h.isSelectedTask(this.taskId)?h.unselectTask(this.taskId):h.selectTask(this.taskId)},"ctrl+left":function(_){h.close(this.taskId)},"ctrl+right":function(_){h.open(this.taskId)},delete:function(_){h.isReadonly(this)||h.$click.buttons.delete(this.taskId)},enter:function(){h.isReadonly(this)||h.showLightbox(this.taskId)},"ctrl+enter":function(){h.isReadonly(this)||h.createTask({},this.taskId)}}}),h.$keyboardNavigation.TaskRow.prototype.bindAll(h.$keyboardNavigation.TaskRow.prototype.keys)}},function(S,x,h){S.exports=function(_){var u=h(1);_.$keyboardNavigation.HeaderCell=function(s){this.index=s||0},_.$keyboardNavigation.HeaderCell.prototype=_._compose(_.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!_.config.show_grid&&_.getVisibleTaskCount())&&(!!_.getGridColumns()[this.index]||!_.getVisibleTaskCount())},fallback:function(){if(!_.config.show_grid)return _.getVisibleTaskCount()?new _.$keyboardNavigation.TaskRow:null;for(var s=_.getGridColumns(),c=this.index;c>=0&&!s[c];)c--;return s[c]?new _.$keyboardNavigation.HeaderCell(c):null},fromDomElement:function(s){var c=u.locateClassName(s,"gantt_grid_head_cell");if(c){for(var i=0;c&&c.previousSibling;)c=c.previousSibling,i+=1;return new _.$keyboardNavigation.HeaderCell(i)}return null},getNode:function(){return _.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var s=_.getGridColumns();this.index<s.length-1&&this.moveTo(new _.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var s,c=_.getChildren(_.config.root_id);_.isTaskExists(c[0])&&(s=c[0]),s&&(_.config.keyboard_navigation_cells?this.moveTo(new _.$keyboardNavigation.TaskCell(s,this.index)):this.moveTo(new _.$keyboardNavigation.TaskRow(s)))},end:function(){var s=_.getGridColumns();this.moveTo(new _.$keyboardNavigation.HeaderCell(s.length-1))},home:function(){this.moveTo(new _.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){u.getActiveElement().click()},"ctrl+enter":function(){_.isReadonly(this)||_.createTask({},this.taskId)}}}),_.$keyboardNavigation.HeaderCell.prototype.bindAll(_.$keyboardNavigation.HeaderCell.prototype.keys)}},function(S,x){S.exports=function(h){h.$keyboardNavigation.KeyNavNode=function(){},h.$keyboardNavigation.KeyNavNode.prototype=h._compose(h.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(_){h.$keyboardNavigation.dispatcher.setActiveNode(_)},compareTo:function(_){if(!_)return!1;for(var u in this){if(!!this[u]!=!!_[u])return!1;var s=!(!this[u]||!this[u].toString),c=!(!_[u]||!_[u].toString);if(c!=s)return!1;if(c&&s){if(_[u].toString()!=this[u].toString())return!1}else if(_[u]!=this[u])return!1}return!0},getNode:function(){},focus:function(){var _=this.getNode();if(_){var u=h.$keyboardNavigation.facade;u.callEvent("onBeforeFocus",[_])!==!1&&_&&(_.setAttribute("tabindex","-1"),_.$eventAttached||(_.$eventAttached=!0,h.event(_,"focus",function(s){return s.preventDefault(),!1},!1)),h.utils.dom.isChildOf(document.activeElement,_)&&(_=document.activeElement),_.focus&&_.focus(),u.callEvent("onFocus",[this.getNode()]))}},blur:function(){var _=this.getNode();_&&(h.$keyboardNavigation.facade.callEvent("onBlur",[_]),_.setAttribute("tabindex","-1"))}})}},function(S,x){S.exports=function(h){h.$keyboardNavigation.GanttNode=function(){},h.$keyboardNavigation.GanttNode.prototype=h._compose(h.$keyboardNavigation.EventHandler,{focus:function(){h.focus()},blur:function(){},isEnabled:function(){return h.$container.hasAttribute("tabindex")},scrollHorizontal:function(_){var u=h.dateFromPos(h.getScrollState().x),s=h.getScale(),c=_<0?-s.step:s.step;u=h.date.add(u,c,s.unit),h.scrollTo(h.posFromDate(u))},scrollVertical:function(_){var u=h.getScrollState().y,s=h.config.row_height;h.scrollTo(null,u+(_<0?-1:1)*s)},keys:{"alt+left":function(_){this.scrollHorizontal(-1)},"alt+right":function(_){this.scrollHorizontal(1)},"alt+up":function(_){this.scrollVertical(-1)},"alt+down":function(_){this.scrollVertical(1)},"ctrl+z":function(){h.undo&&h.undo()},"ctrl+r":function(){h.redo&&h.redo()}}}),h.$keyboardNavigation.GanttNode.prototype.bindAll(h.$keyboardNavigation.GanttNode.prototype.keys)}},function(S,x,h){S.exports=function(_){(function(){var u=h(1);_.$keyboardNavigation.getFocusableNodes=u.getFocusableNodes,_.$keyboardNavigation.trapFocus=function(s,c){if(c.keyCode!=9)return!1;for(var i=_.$keyboardNavigation.getFocusableNodes(s),o=u.getActiveElement(),e=-1,t=0;t<i.length;t++)if(i[t]==o){e=t;break}if(c.shiftKey){if(e<=0){var n=i[i.length-1];if(n)return n.focus(),c.preventDefault(),!0}}else if(e>=i.length-1){var a=i[0];if(a)return a.focus(),c.preventDefault(),!0}return!1}})()}},function(S,x){S.exports=function(h){h.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(_){this._handlers||(this._handlers={});var u=h.$keyboardNavigation.shortcuts.getHash(_);return this._handlers[u]},doAction:function(_,u){var s=this.findHandler(_);if(s){if(h.$keyboardNavigation.facade.callEvent("onBeforeAction",[_,u])===!1)return;s.call(this,u),u.preventDefault?u.preventDefault():u.returnValue=!1}},bind:function(_,u){this._handlers||(this._handlers={});for(var s=h.$keyboardNavigation.shortcuts,c=s.parse(_),i=0;i<c.length;i++)this._handlers[s.getHash(c[i])]=u},unbind:function(_){for(var u=h.$keyboardNavigation.shortcuts,s=u.parse(_),c=0;c<s.length;c++)this._handlers[u.getHash(s[c])]&&delete this._handlers[u.getHash(s[c])]},bindAll:function(_){for(var u in _)this.bind(u,_[u])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(S,x){S.exports=function(h){h.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(_){for(var u=[],s=this.getExpressions(this.trim(_)),c=0;c<s.length;c++){for(var i=this.getWords(s[c]),o=this.createCommand(),e=0;e<i.length;e++)this.commandKeys[i[e]]?o.modifiers[i[e]]=!0:this.specialKeys[i[e]]?o.keyCode=this.specialKeys[i[e]]:o.keyCode=i[e].charCodeAt(0);u.push(o)}return u},getCommandFromEvent:function(_){var u=this.createCommand();u.modifiers.shift=!!_.shiftKey,u.modifiers.alt=!!_.altKey,u.modifiers.ctrl=!!_.ctrlKey,u.modifiers.meta=!!_.metaKey,u.keyCode=_.which||_.keyCode,u.keyCode>=96&&u.keyCode<=105&&(u.keyCode-=48);var s=String.fromCharCode(u.keyCode);return s&&(u.keyCode=s.toLowerCase().charCodeAt(0)),u},getHashFromEvent:function(_){return this.getHash(this.getCommandFromEvent(_))},getHash:function(_){var u=[];for(var s in _.modifiers)_.modifiers[s]&&u.push(s);return u.push(_.keyCode),u.join(this.junctionChar)},getExpressions:function(_){return _.split(this.junctionChar)},getWords:function(_){return _.split(this.combinationChar)},trim:function(_){return _.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(S,x,h){S.exports=function(_){var u=h(5);(function(s){s.config.keyboard_navigation=!0,s.config.keyboard_navigation_cells=!1,s.$keyboardNavigation={},s._compose=function(){for(var i=Array.prototype.slice.call(arguments,0),o={},e=0;e<i.length;e++){var t=i[e];for(var n in typeof t=="function"&&(t=new t),t)o[n]=t[n]}return o},h(284)(s),h(283)(s),h(282)(s),h(281)(s),h(280)(s),h(279)(s),h(278)(s),h(277)(s),h(276)(s),h(275)(s);var c=h(1);(function(){var i=s.$keyboardNavigation.dispatcher;i.isTaskFocused=function(m){var b=i.activeNode;return(b instanceof s.$keyboardNavigation.TaskRow||b instanceof s.$keyboardNavigation.TaskCell)&&b.taskId==m};var o=function(m){if(s.config.keyboard_navigation&&(s.config.keyboard_navigation_cells||!n(m))&&!a(m)&&!function(b){return!!c.closest(b.target,".gantt_cal_light")}(m))return i.keyDownHandler(m)},e=function(m){if(i.$preventDefault)return m.preventDefault(),s.$container.blur(),!1;i.awaitsFocus()||i.focusGlobalNode()},t=function(){if(i.isEnabled()){var m=!c.isChildOf(document.activeElement,s.$container)&&document.activeElement.localName!="body",b=i.getActiveNode();if(b&&!m){var k,C,w=b.getNode();w&&w.parentNode&&(k=w.parentNode.scrollTop,C=w.parentNode.scrollLeft),b.focus(!0),w&&w.parentNode&&(w.parentNode.scrollTop=k,w.parentNode.scrollLeft=C)}}};function n(m){return!!c.closest(m.target,".gantt_grid_editor_placeholder")}function a(m){return!!c.closest(m.target,".no_keyboard_navigation")}function r(m){if(!s.config.keyboard_navigation||!s.config.keyboard_navigation_cells&&n(m))return!0;if(!a(m)){var b,k=i.fromDomElement(m);k&&(i.activeNode instanceof s.$keyboardNavigation.TaskCell&&c.isChildOf(m.target,s.$task)&&(k=new s.$keyboardNavigation.TaskCell(k.taskId,i.activeNode.columnIndex)),b=k),b?i.isEnabled()?i.delay(function(){i.setActiveNode(b)}):i.activeNode=b:(i.$preventDefault=!0,setTimeout(function(){i.$preventDefault=!1},300))}}s.attachEvent("onDataRender",function(){s.config.keyboard_navigation&&t()}),s.attachEvent("onGanttRender",function(){s.eventRemove(s.$root,"keydown",o),s.eventRemove(s.$container,"focus",e),s.eventRemove(s.$container,"mousedown",r),s.config.keyboard_navigation?(s.event(s.$root,"keydown",o),s.event(s.$container,"focus",e),s.event(s.$container,"mousedown",r),s.$container.setAttribute("tabindex","0")):s.$container.removeAttribute("tabindex")});var l=s.attachEvent("onGanttReady",function(){if(s.detachEvent(l),s.$data.tasksStore.attachEvent("onStoreUpdated",function(b){if(s.config.keyboard_navigation&&i.isEnabled()){var k=i.getActiveNode();k&&k.taskId==b&&t()}}),s._smart_render){var m=s._smart_render._redrawTasks;s._smart_render._redrawTasks=function(b,k){if(s.config.keyboard_navigation&&i.isEnabled()){var C=i.getActiveNode();if(C&&C.taskId!==void 0){for(var w=!1,T=0;T<k.length;T++)if(k[T].id==C.taskId&&k[T].start_date){w=!0;break}w||k.push(s.getTask(C.taskId))}}return m.apply(this,arguments)}}}),d=null,f=!1;s.attachEvent("onTaskCreated",function(m){return d=m.id,!0}),s.attachEvent("onAfterTaskAdd",function(m,b){if(!s.config.keyboard_navigation)return!0;if(i.isEnabled()){if(m==d&&(f=!0,setTimeout(function(){f=!1,d=null})),f&&b.type==s.config.types.placeholder)return;var k=0,C=i.activeNode;C instanceof s.$keyboardNavigation.TaskCell&&(k=C.columnIndex);var w=s.config.keyboard_navigation_cells?s.$keyboardNavigation.TaskCell:s.$keyboardNavigation.TaskRow;b.type==s.config.types.placeholder&&s.config.placeholder_task.focusOnCreate===!1||i.setActiveNode(new w(m,k))}}),s.attachEvent("onTaskIdChange",function(m,b){if(!s.config.keyboard_navigation)return!0;var k=i.activeNode;return i.isTaskFocused(m)&&(k.taskId=b),!0});var g=setInterval(function(){s.config.keyboard_navigation&&(i.isEnabled()||i.enable())},500);function p(m){var b={gantt:s.$keyboardNavigation.GanttNode,headerCell:s.$keyboardNavigation.HeaderCell,taskRow:s.$keyboardNavigation.TaskRow,taskCell:s.$keyboardNavigation.TaskCell};return b[m]||b.gantt}function v(m){for(var b=s.getGridColumns(),k=0;k<b.length;k++)if(b[k].name==m)return k;return 0}s.attachEvent("onDestroy",function(){clearInterval(g)});var y={};u(y),s.mixin(y,{addShortcut:function(m,b,k){var C=p(k);C&&C.prototype.bind(m,b)},getShortcutHandler:function(m,b){var k=s.$keyboardNavigation.shortcuts.parse(m);if(k.length)return y.getCommandHandler(k[0],b)},getCommandHandler:function(m,b){var k=p(b);if(k&&m)return k.prototype.findHandler(m)},removeShortcut:function(m,b){var k=p(b);k&&k.prototype.unbind(m)},focus:function(m){var b,k=m?m.type:null,C=p(k);switch(k){case"taskCell":b=new C(m.id,v(m.column));break;case"taskRow":b=new C(m.id);break;case"headerCell":b=new C(v(m.column))}i.delay(function(){b?i.setActiveNode(b):(i.enable(),i.getActiveNode()?i.awaitsFocus()||i.enable():i.setDefaultNode())})},getActiveNode:function(){if(i.isEnabled()){var m=i.getActiveNode(),b=function(C){return C instanceof s.$keyboardNavigation.GanttNode?"gantt":C instanceof s.$keyboardNavigation.HeaderCell?"headerCell":C instanceof s.$keyboardNavigation.TaskRow?"taskRow":C instanceof s.$keyboardNavigation.TaskCell?"taskCell":null}(m),k=s.getGridColumns();switch(b){case"taskCell":return{type:"taskCell",id:m.taskId,column:k[m.columnIndex].name};case"taskRow":return{type:"taskRow",id:m.taskId};case"headerCell":return{type:"headerCell",column:k[m.index].name}}}return null}}),s.$keyboardNavigation.facade=y,s.ext.keyboardNavigation=y,s.focus=function(){y.focus()},s.addShortcut=y.addShortcut,s.getShortcutHandler=y.getShortcutHandler,s.removeShortcut=y.removeShortcut})()})(_)}},function(S,x,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}S.exports=function(u){var s=h(2);function c(a,r,l){if(!a||Array.isArray(l)&&!l[0])return 0;if(a&&!Array.isArray(l)){var d=[];return a.map(function(m){d.push({resource_id:m,value:8})}),d}if(l[0].resource_id||(l=[{resource_id:l,value:8}]),typeof a=="string"&&(a=a.split(",")),a.length==1)return l[0].resource_id=a[0],[l[0]];for(var f=[],g=0;g<a.length;g++){var p=a[g],v=l.map(function(m){return m.resource_id}).indexOf(p);if(v>-1)l[v].resource_id=p,f.push(l[v]);else{var y=u.copy(l[0]);y.resource_id=p,f.push(y)}}return f}function i(a,r,l){return a}function o(a){return a.map(e).sort().join(",")}function e(a){return a&&_(a)=="object"?String(a.resource_id):String(a)}function t(a,r){return a[r]instanceof Array?a[r].length?o(a[r]):0:a[r]}function n(){var a=this;this.$data.tasksStore._listenerToDrop&&this.$data.tasksStore.detachEvent(this.$data.tasksStore._listenerToDrop);var r=s.delay(function(){if(!a._groups.dynamicGroups)return!0;if(a._groups.regroup){var l=u.getScrollState();a._groups.regroup(),l&&u.scrollTo(l.x,l.y)}return!0});this.$data.tasksStore.attachEvent("onAfterUpdate",function(){return r.$pending||r(),!0})}u._groups={relation_property:null,relation_id_property:"$group_id",group_id:null,group_text:null,loading:!1,loaded:0,dynamicGroups:!1,set_relation_value:void 0,_searchCache:null,init:function(a){var r=this;a.attachEvent("onClear",function(){r.clear()}),r.clear();var l=a.$data.tasksStore.getParent;this._searchCache=null,a.attachEvent("onBeforeTaskMove",function(f,g,p){var v=g===this.config.root_id,y=this._groups.dynamicGroups&&!(this._groups.set_relation_value instanceof Function);if(r.is_active()&&(v||y))return!1;var m=a.getTask(f);if(this._groups.save_tree_structure&&a.isTaskExists(m.parent)&&a.isTaskExists(g)){var b=a.getTask(m.parent),k=a.getTask(g);k.$virtual&&a.isChildOf(b.id,k.id)&&(m.parent=a.config.root_id);for(var C=!1,w=k;w;)f==w.parent&&(C=!0),w=a.isTaskExists(w.parent)?a.getTask(w.parent):null;if(C)return!1}return!0}),a.attachEvent("onRowDragStart",function(f,g){var p=a.getTask(f);return this._groups.save_tree_structure&&a.isTaskExists(p.parent)&&a.config.order_branch&&a.config.order_branch!="marker"&&(p.$initial_parent=p.parent),!0}),a.attachEvent("onRowDragEnd",function(f,g){if(a.config.order_branch&&a.config.order_branch!="marker"){var p=a.getTask(f);if(p.$initial_parent){if(p.parent==a.config.root_id){var v=a.getTask(p.$rendered_parent),y=a.getTask(p.$initial_parent),m=!1;this._groups.dynamicGroups&&v[this._groups.group_id]!=y[this._groups.group_id]&&(m=!0),this._groups.dynamicGroups||v[this._groups.group_id]==y[this._groups.relation_property]||(m=!0),m&&(p.parent=p.$initial_parent)}delete p.$initial_parent}}}),a.$data.tasksStore._listenerToDrop=a.$data.tasksStore.attachEvent("onStoreUpdated",a.bind(n,a)),a.$data.tasksStore.getParent=function(f){return r.is_active()?r.get_parent(a,f):l.apply(this,arguments)};var d=a.$data.tasksStore.setParent;a.$data.tasksStore.setParent=function(f,g){if(!r.is_active())return d.apply(this,arguments);if(r.set_relation_value instanceof Function&&a.isTaskExists(g)){var p=(m=a.getTask(g))[r.relation_id_property];if(!m.$virtual){var v=t(m,r.relation_property);r._searchCache||r._buildCache();var y=r._searchCache[v];p=a.getTask(y)[r.relation_id_property]}f[r.group_id]===void 0&&(f[r.group_id]=p),r.save_tree_structure&&f[r.group_id]!=p&&(f[r.group_id]=p),p&&(p=typeof p=="string"?p.split(","):[p]),f[r.relation_property]=r.set_relation_value(p,f.id,f[r.relation_property])||p}else if(a.isTaskExists(g)){var m=a.getTask(g);r.dynamicGroups||(m.$virtual?f[r.relation_property]=m[r.relation_id_property]:f[r.relation_property]=m[r.relation_property]),this._setParentInner.apply(this,arguments)}else r.dynamicGroups&&(f[r.group_id]===void 0||!f.$virtual&&f[r.relation_property][0]===[][0])&&(f[r.relation_property]=0);return a.isTaskExists(g)&&(f.$rendered_parent=g,!a.getTask(g).$virtual)?d.apply(this,arguments)||g:void 0},a.attachEvent("onBeforeTaskDisplay",function(f,g){return!(r.is_active()&&g.type==a.config.types.project&&!g.$virtual)}),a.attachEvent("onBeforeParse",function(){r.loading=!0,r._clearCache()}),a.attachEvent("onTaskLoading",function(){return r.is_active()&&(r.loaded--,r.loaded<=0&&(r.loading=!1,r._clearCache(),a.eachTask(a.bind(function(f){this.get_parent(a,f)},r)))),!0}),a.attachEvent("onParse",function(){r.loading=!1,r.loaded=0})},_clearCache:function(){this._searchCache=null},_buildCache:function(){this._searchCache={};for(var a=u.$data.tasksStore.getItems(),r=0;r<a.length;r++)this._searchCache[a[r][this.relation_id_property]]=a[r].id},get_parent:function(a,r,l){r.id===void 0&&(r=a.getTask(r));var d=t(r,this.relation_property);if(this.save_tree_structure&&a.isTaskExists(r.parent)){var f=a.getTask(r.parent),g=t(f,this.relation_property);if(f.type!="project"&&d==g)return r.parent}if(this._groups_pull[d]===r.id)return a.config.root_id;if(this._groups_pull[d]!==void 0)return this._groups_pull[d];var p=a.config.root_id;if(!this.loading&&d!==void 0){this._searchCache||this._buildCache();var v=this._searchCache[d];a.isTaskExists(v)&&v!=r.id&&(p=this._searchCache[d]),this._groups_pull[d]=p}return p},clear:function(){this._groups_pull={},this.relation_property=null,this.group_id=null,this.group_text=null,this._clearCache()},is_active:function(){return!!this.relation_property},generate_sections:function(a,r){for(var l=[],d=0;d<a.length;d++){var f=u.copy(a[d]);f.type=r,f.open===void 0&&(f.open=!0),f.$virtual=!0,f.readonly=!0,f[this.relation_id_property]=f[this.group_id],f.text=f[this.group_text],l.push(f)}return l},clear_temp_tasks:function(a){for(var r=0;r<a.length;r++)a[r].$virtual&&(a.splice(r,1),r--)},generate_data:function(a,r){var l=a.getLinks(),d=a.getTaskByTime();this.clear_temp_tasks(d),d.forEach(function(p){p.$calculate_duration=!1});var f=[];this.is_active()&&r&&r.length&&(f=this.generate_sections(r,a.config.types.project));var g={links:l};return g.data=f.concat(d),g},update_settings:function(a,r,l){this.clear(),this.relation_property=a,this.group_id=r,this.group_text=l},group_tasks:function(a,r,l,d,f){this.update_settings(l,d,f);var g=this.generate_data(a,r);this.loaded=g.data.length;var p=[];a.eachTask(function(y){a.isSelectedTask(y.id)&&p.push(y.id)}),a._clear_data();var v=a.config.auto_scheduling_initial;a.config.auto_scheduling_initial=!1,a.parse(g),p.forEach(function(y){a.isTaskExists(y)&&a.selectTask(y)}),a.config.auto_scheduling_initial=v}},u._groups.init(u),u.groupBy=function(a){var r=this,l=u.getTaskByTime();this._groups.set_relation_value=a.set_relation_value,this._groups.dynamicGroups=!1,this._groups.save_tree_structure=a.save_tree_structure;var d=function(v,y){for(var m=!1,b=!1,k=0;k<v.length;k++){var C=v[k][y];if(Array.isArray(C)&&(b=!0,C.length&&C[0].resource_id!==void 0)){m=!0;break}}return{haveArrays:b,haveResourceAssignments:m}}(l,a.relation_property);d.haveArrays&&(this._groups.dynamicGroups=!0),this._groups.set_relation_value||(this._groups.set_relation_value=function(v){return v.haveResourceAssignments?c:v.haveArrays?i:null}(d)),(a=a||{}).default_group_label=a.default_group_label||this.locale.labels.default_group||"None";var f=a.relation_property||null,g=a.group_id||"key",p=a.group_text||"label";this._groups.regroup=function(){var v=u.getTaskByTime(),y={},m=!1;v.forEach(function(k){k.$virtual&&k.$open!==void 0&&(y[k[g]]=k.$open,m=!0)});var b=function(k,C,w){var T;return T=k.groups?w._groups.dynamicGroups?function(E,P){var j={},N=[],L={},B=P.relation_property,I=P.delimiter||",",V=!1,Y=0;s.forEach(P.groups,function(Q){Q.default&&(V=!0,Y=Q.group_id),L[Q.key||Q[P.group_id]]=Q});for(var H=0;H<E.length;H++){var F,G,R=E[H],K=R[B];if(s.isArray(K))if(K.length>0)F=o(K),G=K.map(function(Q,W){var O;return O=Q&&_(Q)=="object"?Q.resource_id:Q,(Q=L[O]).label||Q.text}).sort().join(I);else{if(V)continue;F=0,G=P.default_group_label}else if(K)G=L[F=K].label||L[F].text;else{if(V)continue;F=0,G=P.default_group_label}F!==void 0&&j[F]===void 0&&(j[F]={key:F,label:G},F===Y&&(j[F].default=!0),j[F][P.group_text]=G,j[F][P.group_id]=F)}return(N=s.hashToArray(j)).forEach(function(Q){Q.key==Y&&(Q.default=!0)}),N}(C,k):k.groups:null,T}(a,v,u);return b&&m&&b.forEach(function(k){y[k[g]]!==void 0&&(k.open=y[k[g]])}),r._groups.group_tasks(r,b,f,g,p),!0},this._groups.regroup()},u.$services.getService("state").registerProvider("groupBy",function(){return{group_mode:u._groups.is_active()?u._groups.relation_property:null}})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(_){function u(){var r=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!r||r!==document.body)}function s(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(r){console.error("Fullscreen is not available:",r)}}_.$services.getService("state").registerProvider("fullscreen",function(){return s()?{fullscreen:u()}:void 0});var c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},i={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},o=null;function e(r,l){l.width=r.width,l.height=r.height,l.top=r.top,l.left=r.left,l.position=r.position,l.zIndex=r.zIndex}var t=!1;function n(){var r;_.$container&&(u()?t&&(r="onExpand",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;e(l.style,i),c={overflow:d.style.overflow,padding:d.style.padding?d.style.padding:null,paddingTop:d.style.paddingTop?d.style.paddingTop:null,paddingRight:d.style.paddingRight?d.style.paddingRight:null,paddingBottom:d.style.paddingBottom?d.style.paddingBottom:null,paddingLeft:d.style.paddingLeft?d.style.paddingLeft:null},d.style.padding&&(d.style.padding="0"),d.style.paddingTop&&(d.style.paddingTop="0"),d.style.paddingRight&&(d.style.paddingRight="0"),d.style.paddingBottom&&(d.style.paddingBottom="0"),d.style.paddingLeft&&(d.style.paddingLeft="0"),d.style.overflow="hidden",l.style.width="100vw",l.style.height="100vh",l.style.top="0px",l.style.left="0px",l.style.position="absolute",l.style.zIndex=1,i.modified=!0,o=function(f){for(var g=f.parentNode,p=[];g&&g.style;)p.push({element:g,originalPositioning:g.style.position}),g.style.position="static",g=g.parentNode;return p}(l)}()):t&&(t=!1,r="onCollapse",function(){var l=_.ext.fullscreen.getFullscreenElement(),d=document.body;i.modified&&(c.padding&&(d.style.padding=c.padding),c.paddingTop&&(d.style.paddingTop=c.paddingTop),c.paddingRight&&(d.style.paddingRight=c.paddingRight),c.paddingBottom&&(d.style.paddingBottom=c.paddingBottom),c.paddingLeft&&(d.style.paddingLeft=c.paddingLeft),d.style.overflow=c.overflow,c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},e(i,l.style),i.modified=!1),function(f){f.forEach(function(g){g.element.style.position=g.originalPositioning})}(o),o=null}()),setTimeout(function(){_.render()}),setTimeout(function(){_.callEvent(r,[_.ext.fullscreen.getFullscreenElement()])}))}function a(){return!_.$container||!_.ext.fullscreen.getFullscreenElement()||!s()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}_.ext.fullscreen={expand:function(){if(!a()&&!u()&&_.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var r=document.body,l=r.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],d=r.msRequestFullscreen||r.mozRequestFullScreen||r.webkitRequestFullscreen||r.requestFullscreen;d&&d.apply(r,l)}},collapse:function(){if(!a()&&u()&&_.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var r=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;r&&r.apply(document)}},toggle:function(){a()||(u()?this.collapse():this.expand())},getFullscreenElement:function(){return _.$root}},_.expand=function(){_.ext.fullscreen.expand()},_.collapse=function(){_.ext.fullscreen.collapse()},_.attachEvent("onGanttReady",function(){_.event(document,"webkitfullscreenchange",n),_.event(document,"mozfullscreenchange",n),_.event(document,"MSFullscreenChange",n),_.event(document,"fullscreenChange",n),_.event(document,"fullscreenchange",n)})}},function(S,x,h){function _(o){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}var u=function(o){switch(_(o)){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}};S.exports=function(o,e,t,n){return e=e||"&",t=t||"=",o===null&&(o=void 0),_(o)==="object"?c(i(o),function(a){var r=encodeURIComponent(u(a))+t;return s(o[a])?c(o[a],function(l){return r+encodeURIComponent(u(l))}).join(e):r+encodeURIComponent(u(o[a]))}).join(e):n?encodeURIComponent(u(n))+t+encodeURIComponent(u(o)):""};var s=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function c(o,e){if(o.map)return o.map(e);for(var t=[],n=0;n<o.length;n++)t.push(e(o[n],n));return t}var i=Object.keys||function(o){var e=[];for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&e.push(t);return e}},function(S,x,h){function _(s,c){return Object.prototype.hasOwnProperty.call(s,c)}S.exports=function(s,c,i,o){c=c||"&",i=i||"=";var e={};if(typeof s!="string"||s.length===0)return e;var t=/\+/g;s=s.split(c);var n=1e3;o&&typeof o.maxKeys=="number"&&(n=o.maxKeys);var a=s.length;n>0&&a>n&&(a=n);for(var r=0;r<a;++r){var l,d,f,g,p=s[r].replace(t,"%20"),v=p.indexOf(i);v>=0?(l=p.substr(0,v),d=p.substr(v+1)):(l=p,d=""),f=decodeURIComponent(l),g=decodeURIComponent(d),_(e,f)?u(e[f])?e[f].push(g):e[f]=[e[f],g]:e[f]=g}return e};var u=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"}},function(S,x,h){x.decode=x.parse=h(289),x.encode=x.stringify=h(288)},function(S,x,h){function _(u){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(u)}S.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return _(u)==="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},function(S,x){S.exports=function(h){return h.webpackPolyfill||(h.deprecate=function(){},h.paths=[],h.children||(h.children=[]),Object.defineProperty(h,"loaded",{enumerable:!0,get:function(){return h.l}}),Object.defineProperty(h,"id",{enumerable:!0,get:function(){return h.i}}),h.webpackPolyfill=1),h}},function(S,x,h){(function(_,u){var s;function c(i){"@babel/helpers - typeof";return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(i)}/*! https://mths.be/punycode v1.4.1 by @mathias */(function(i){var o=c(x)=="object"&&x&&!x.nodeType&&x,e=c(_)=="object"&&_&&!_.nodeType&&_,t=(u===void 0?"undefined":c(u))=="object"&&u;t.global!==t&&t.window!==t&&t.self!==t||(i=t);var n,a,r=2147483647,l=36,d=1,f=26,g=38,p=700,v=72,y=128,m="-",b=/^xn--/,k=/[^\x20-\x7E]/,C=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=l-d,E=Math.floor,P=String.fromCharCode;function j(R){throw new RangeError(w[R])}function N(R,K){for(var Q=R.length,W=[];Q--;)W[Q]=K(R[Q]);return W}function L(R,K){var Q=R.split("@"),W="";return Q.length>1&&(W=Q[0]+"@",R=Q[1]),W+N((R=R.replace(C,".")).split("."),K).join(".")}function B(R){for(var K,Q,W=[],O=0,$=R.length;O<$;)(K=R.charCodeAt(O++))>=55296&&K<=56319&&O<$?(64512&(Q=R.charCodeAt(O++)))==56320?W.push(((1023&K)<<10)+(1023&Q)+65536):(W.push(K),O--):W.push(K);return W}function I(R){return N(R,function(K){var Q="";return K>65535&&(Q+=P((K-=65536)>>>10&1023|55296),K=56320|1023&K),Q+=P(K)}).join("")}function V(R){return R-48<10?R-22:R-65<26?R-65:R-97<26?R-97:l}function Y(R,K){return R+22+75*(R<26)-((K!=0)<<5)}function H(R,K,Q){var W=0;for(R=Q?E(R/p):R>>1,R+=E(R/K);R>T*f>>1;W+=l)R=E(R/T);return E(W+(T+1)*R/(R+g))}function F(R){var K,Q,W,O,$,D,M,U,q,X,nt=[],J=R.length,rt=0,ct=y,lt=v;for((Q=R.lastIndexOf(m))<0&&(Q=0),W=0;W<Q;++W)R.charCodeAt(W)>=128&&j("not-basic"),nt.push(R.charCodeAt(W));for(O=Q>0?Q+1:0;O<J;){for($=rt,D=1,M=l;O>=J&&j("invalid-input"),((U=V(R.charCodeAt(O++)))>=l||U>E((r-rt)/D))&&j("overflow"),rt+=U*D,!(U<(q=M<=lt?d:M>=lt+f?f:M-lt));M+=l)D>E(r/(X=l-q))&&j("overflow"),D*=X;lt=H(rt-$,K=nt.length+1,$==0),E(rt/K)>r-ct&&j("overflow"),ct+=E(rt/K),rt%=K,nt.splice(rt++,0,ct)}return I(nt)}function G(R){var K,Q,W,O,$,D,M,U,q,X,nt,J,rt,ct,lt,ht=[];for(J=(R=B(R)).length,K=y,Q=0,$=v,D=0;D<J;++D)(nt=R[D])<128&&ht.push(P(nt));for(W=O=ht.length,O&&ht.push(m);W<J;){for(M=r,D=0;D<J;++D)(nt=R[D])>=K&&nt<M&&(M=nt);for(M-K>E((r-Q)/(rt=W+1))&&j("overflow"),Q+=(M-K)*rt,K=M,D=0;D<J;++D)if((nt=R[D])<K&&++Q>r&&j("overflow"),nt==K){for(U=Q,q=l;!(U<(X=q<=$?d:q>=$+f?f:q-$));q+=l)lt=U-X,ct=l-X,ht.push(P(Y(X+lt%ct,0))),U=E(lt/ct);ht.push(P(Y(U,0))),$=H(Q,rt,W==O),Q=0,++W}++Q,++K}return ht.join("")}if(n={version:"1.4.1",ucs2:{decode:B,encode:I},decode:F,encode:G,toASCII:function(R){return L(R,function(K){return k.test(K)?"xn--"+G(K):K})},toUnicode:function(R){return L(R,function(K){return b.test(K)?F(K.slice(4).toLowerCase()):K})}},c(h(59))=="object"&&h(59))(s=(function(){return n}).call(x,h,x,_))===void 0||(_.exports=s);else if(o&&e)if(_.exports==o)e.exports=n;else for(a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);else i.punycode=n})(this)}).call(this,h(292)(S),h(4))},function(S,x,h){function _(m){"@babel/helpers - typeof";return(_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b})(m)}var u=h(293),s=h(291);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}x.parse=y,x.resolve=function(m,b){return y(m,!1,!0).resolve(b)},x.resolveObject=function(m,b){return m?y(m,!1,!0).resolveObject(b):b},x.format=function(m){return s.isString(m)&&(m=y(m)),m instanceof c?m.format():c.prototype.format.call(m)},x.Url=c;var i=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,e=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,t=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),n=["'"].concat(t),a=["%","/","?",";","#"].concat(n),r=["/","?","#"],l=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},p={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},v=h(290);function y(m,b,k){if(m&&s.isObject(m)&&m instanceof c)return m;var C=new c;return C.parse(m,b,k),C}c.prototype.parse=function(m,b,k){if(!s.isString(m))throw new TypeError("Parameter 'url' must be a string, not "+_(m));var C=m.indexOf("?"),w=C!==-1&&C<m.indexOf("#")?"?":"#",T=m.split(w);T[0]=T[0].replace(/\\/g,"/");var E=m=T.join(w);if(E=E.trim(),!k&&m.split("#").length===1){var P=e.exec(E);if(P)return this.path=E,this.href=E,this.pathname=P[1],P[2]?(this.search=P[2],this.query=b?v.parse(this.search.substr(1)):this.search.substr(1)):b&&(this.search="",this.query={}),this}var j=i.exec(E);if(j){var N=(j=j[0]).toLowerCase();this.protocol=N,E=E.substr(j.length)}if(k||j||E.match(/^\/\/[^@\/]+@[^@\/]+/)){var L=E.substr(0,2)==="//";!L||j&&g[j]||(E=E.substr(2),this.slashes=!0)}if(!g[j]&&(L||j&&!p[j])){for(var B,I,V=-1,Y=0;Y<r.length;Y++)(H=E.indexOf(r[Y]))!==-1&&(V===-1||H<V)&&(V=H);for((I=V===-1?E.lastIndexOf("@"):E.lastIndexOf("@",V))!==-1&&(B=E.slice(0,I),E=E.slice(I+1),this.auth=decodeURIComponent(B)),V=-1,Y=0;Y<a.length;Y++){var H;(H=E.indexOf(a[Y]))!==-1&&(V===-1||H<V)&&(V=H)}V===-1&&(V=E.length),this.host=E.slice(0,V),E=E.slice(V),this.parseHost(),this.hostname=this.hostname||"";var F=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!F)for(var G=this.hostname.split(/\./),R=(Y=0,G.length);Y<R;Y++){var K=G[Y];if(K&&!K.match(l)){for(var Q="",W=0,O=K.length;W<O;W++)K.charCodeAt(W)>127?Q+="x":Q+=K[W];if(!Q.match(l)){var $=G.slice(0,Y),D=G.slice(Y+1),M=K.match(d);M&&($.push(M[1]),D.unshift(M[2])),D.length&&(E="/"+D.join(".")+E),this.hostname=$.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=u.toASCII(this.hostname));var U=this.port?":"+this.port:"",q=this.hostname||"";this.host=q+U,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),E[0]!=="/"&&(E="/"+E))}if(!f[N])for(Y=0,R=n.length;Y<R;Y++){var X=n[Y];if(E.indexOf(X)!==-1){var nt=encodeURIComponent(X);nt===X&&(nt=escape(X)),E=E.split(X).join(nt)}}var J=E.indexOf("#");J!==-1&&(this.hash=E.substr(J),E=E.slice(0,J));var rt=E.indexOf("?");if(rt!==-1?(this.search=E.substr(rt),this.query=E.substr(rt+1),b&&(this.query=v.parse(this.query)),E=E.slice(0,rt)):b&&(this.search="",this.query={}),E&&(this.pathname=E),p[N]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var ct=this.search||"";this.path=U+ct}return this.href=this.format(),this},c.prototype.format=function(){var m=this.auth||"";m&&(m=(m=encodeURIComponent(m)).replace(/%3A/i,":"),m+="@");var b=this.protocol||"",k=this.pathname||"",C=this.hash||"",w=!1,T="";this.host?w=m+this.host:this.hostname&&(w=m+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(w+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(T=v.stringify(this.query));var E=this.search||T&&"?"+T||"";return b&&b.substr(-1)!==":"&&(b+=":"),this.slashes||(!b||p[b])&&w!==!1?(w="//"+(w||""),k&&k.charAt(0)!=="/"&&(k="/"+k)):w||(w=""),C&&C.charAt(0)!=="#"&&(C="#"+C),E&&E.charAt(0)!=="?"&&(E="?"+E),b+w+(k=k.replace(/[?#]/g,function(P){return encodeURIComponent(P)}))+(E=E.replace("#","%23"))+C},c.prototype.resolve=function(m){return this.resolveObject(y(m,!1,!0)).format()},c.prototype.resolveObject=function(m){if(s.isString(m)){var b=new c;b.parse(m,!1,!0),m=b}for(var k=new c,C=Object.keys(this),w=0;w<C.length;w++){var T=C[w];k[T]=this[T]}if(k.hash=m.hash,m.href==="")return k.href=k.format(),k;if(m.slashes&&!m.protocol){for(var E=Object.keys(m),P=0;P<E.length;P++){var j=E[P];j!=="protocol"&&(k[j]=m[j])}return p[k.protocol]&&k.hostname&&!k.pathname&&(k.path=k.pathname="/"),k.href=k.format(),k}if(m.protocol&&m.protocol!==k.protocol){if(!p[m.protocol]){for(var N=Object.keys(m),L=0;L<N.length;L++){var B=N[L];k[B]=m[B]}return k.href=k.format(),k}if(k.protocol=m.protocol,m.host||g[m.protocol])k.pathname=m.pathname;else{for(var I=(m.pathname||"").split("/");I.length&&!(m.host=I.shift()););m.host||(m.host=""),m.hostname||(m.hostname=""),I[0]!==""&&I.unshift(""),I.length<2&&I.unshift(""),k.pathname=I.join("/")}if(k.search=m.search,k.query=m.query,k.host=m.host||"",k.auth=m.auth,k.hostname=m.hostname||m.host,k.port=m.port,k.pathname||k.search){var V=k.pathname||"",Y=k.search||"";k.path=V+Y}return k.slashes=k.slashes||m.slashes,k.href=k.format(),k}var H=k.pathname&&k.pathname.charAt(0)==="/",F=m.host||m.pathname&&m.pathname.charAt(0)==="/",G=F||H||k.host&&m.pathname,R=G,K=k.pathname&&k.pathname.split("/")||[],Q=(I=m.pathname&&m.pathname.split("/")||[],k.protocol&&!p[k.protocol]);if(Q&&(k.hostname="",k.port=null,k.host&&(K[0]===""?K[0]=k.host:K.unshift(k.host)),k.host="",m.protocol&&(m.hostname=null,m.port=null,m.host&&(I[0]===""?I[0]=m.host:I.unshift(m.host)),m.host=null),G=G&&(I[0]===""||K[0]==="")),F)k.host=m.host||m.host===""?m.host:k.host,k.hostname=m.hostname||m.hostname===""?m.hostname:k.hostname,k.search=m.search,k.query=m.query,K=I;else if(I.length)K||(K=[]),K.pop(),K=K.concat(I),k.search=m.search,k.query=m.query;else if(!s.isNullOrUndefined(m.search))return Q&&(k.hostname=k.host=K.shift(),(M=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=M.shift(),k.host=k.hostname=M.shift())),k.search=m.search,k.query=m.query,s.isNull(k.pathname)&&s.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.href=k.format(),k;if(!K.length)return k.pathname=null,k.search?k.path="/"+k.search:k.path=null,k.href=k.format(),k;for(var W=K.slice(-1)[0],O=(k.host||m.host||K.length>1)&&(W==="."||W==="..")||W==="",$=0,D=K.length;D>=0;D--)(W=K[D])==="."?K.splice(D,1):W===".."?(K.splice(D,1),$++):$&&(K.splice(D,1),$--);if(!G&&!R)for(;$--;$)K.unshift("..");!G||K[0]===""||K[0]&&K[0].charAt(0)==="/"||K.unshift(""),O&&K.join("/").substr(-1)!=="/"&&K.push("");var M,U=K[0]===""||K[0]&&K[0].charAt(0)==="/";return Q&&(k.hostname=k.host=U?"":K.length?K.shift():"",(M=!!(k.host&&k.host.indexOf("@")>0)&&k.host.split("@"))&&(k.auth=M.shift(),k.host=k.hostname=M.shift())),(G=G||k.host&&K.length)&&!U&&K.unshift(""),K.length?k.pathname=K.join("/"):(k.pathname=null,k.path=null),s.isNull(k.pathname)&&s.isNull(k.search)||(k.path=(k.pathname?k.pathname:"")+(k.search?k.search:"")),k.auth=m.auth||k.auth,k.slashes=k.slashes||m.slashes,k.href=k.format(),k},c.prototype.parseHost=function(){var m=this.host,b=o.exec(m);b&&((b=b[0])!==":"&&(this.port=b.substr(1)),m=m.substr(0,m.length-b.length)),m&&(this.hostname=m)}},function(S,x){S.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(S,x){S.exports=function(){for(var _={},u=0;u<arguments.length;u++){var s=arguments[u];for(var c in s)h.call(s,c)&&(_[c]=s[c])}return _};var h=Object.prototype.hasOwnProperty},function(S,x,h){var _=h(14).Buffer;S.exports=function(u){if(u instanceof Uint8Array){if(u.byteOffset===0&&u.byteLength===u.buffer.byteLength)return u.buffer;if(typeof u.buffer.slice=="function")return u.buffer.slice(u.byteOffset,u.byteOffset+u.byteLength)}if(_.isBuffer(u)){for(var s=new Uint8Array(u.length),c=u.length,i=0;i<c;i++)s[i]=u[i];return s.buffer}throw new Error("Argument must be a Buffer")}},function(S,x,h){S.exports=s;var _=h(60),u=h(18);function s(c){if(!(this instanceof s))return new s(c);_.call(this,c)}u.inherits=h(9),u.inherits(s,_),s.prototype._transform=function(c,i,o){o(null,c)}},function(S,x,h){(function(_){function u(s){try{if(!_.localStorage)return!1}catch{return!1}var c=_.localStorage[s];return c!=null&&String(c).toLowerCase()==="true"}S.exports=function(s,c){if(u("noDeprecation"))return s;var i=!1;return function(){if(!i){if(u("throwDeprecation"))throw new Error(c);u("traceDeprecation")?console.trace(c):console.warn(c),i=!0}return s.apply(this,arguments)}}}).call(this,h(4))},function(S,x,h){(function(_,u){(function(s,c){if(!s.setImmediate){var i,o=1,e={},t=!1,n=s.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(s);a=a&&a.setTimeout?a:s,{}.toString.call(s.process)==="[object process]"?i=function(d){u.nextTick(function(){l(d)})}:function(){if(s.postMessage&&!s.importScripts){var d=!0,f=s.onmessage;return s.onmessage=function(){d=!1},s.postMessage("","*"),s.onmessage=f,d}}()?function(){var d="setImmediate$"+Math.random()+"$",f=function(g){g.source===s&&typeof g.data=="string"&&g.data.indexOf(d)===0&&l(+g.data.slice(d.length))};s.addEventListener?s.addEventListener("message",f,!1):s.attachEvent("onmessage",f),i=function(g){s.postMessage(d+g,"*")}}():s.MessageChannel?function(){var d=new MessageChannel;d.port1.onmessage=function(f){l(f.data)},i=function(f){d.port2.postMessage(f)}}():n&&"onreadystatechange"in n.createElement("script")?function(){var d=n.documentElement;i=function(f){var g=n.createElement("script");g.onreadystatechange=function(){l(f),g.onreadystatechange=null,d.removeChild(g),g=null},d.appendChild(g)}}():i=function(d){setTimeout(l,0,d)},a.setImmediate=function(d){typeof d!="function"&&(d=new Function(""+d));for(var f=new Array(arguments.length-1),g=0;g<f.length;g++)f[g]=arguments[g+1];var p={callback:d,args:f};return e[o]=p,i(o),o++},a.clearImmediate=r}function r(d){delete e[d]}function l(d){if(t)setTimeout(l,0,d);else{var f=e[d];if(f){t=!0;try{(function(g){var p=g.callback,v=g.args;switch(v.length){case 0:p();break;case 1:p(v[0]);break;case 2:p(v[0],v[1]);break;case 3:p(v[0],v[1],v[2]);break;default:p.apply(c,v)}})(f)}finally{r(d),t=!1}}}}})(typeof self>"u"?_===void 0?this:_:self)}).call(this,h(4),h(10))},function(S,x){},function(S,x,h){var _=h(21).Buffer,u=h(301);function s(c,i,o){c.copy(i,o)}S.exports=function(){function c(){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,c),this.head=null,this.tail=null,this.length=0}return c.prototype.push=function(i){var o={data:i,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},c.prototype.unshift=function(i){var o={data:i,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},c.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},c.prototype.clear=function(){this.head=this.tail=null,this.length=0},c.prototype.join=function(i){if(this.length===0)return"";for(var o=this.head,e=""+o.data;o=o.next;)e+=i+o.data;return e},c.prototype.concat=function(i){if(this.length===0)return _.alloc(0);if(this.length===1)return this.head.data;for(var o=_.allocUnsafe(i>>>0),e=this.head,t=0;e;)s(e.data,o,t),t+=e.data.length,e=e.next;return o},c}(),u&&u.inspect&&u.inspect.custom&&(S.exports.prototype[u.inspect.custom]=function(){var c=u.inspect({length:this.length});return this.constructor.name+" "+c})},function(S,x){},function(S,x,h){(function(_,u,s){var c=h(70),i=h(9),o=h(69),e=h(68),t=h(297),n=o.IncomingMessage,a=o.readyStates,r=S.exports=function(d){var f,g=this;e.Writable.call(g),g._opts=d,g._body=[],g._headers={},d.auth&&g.setHeader("Authorization","Basic "+new _(d.auth).toString("base64")),Object.keys(d.headers).forEach(function(v){g.setHeader(v,d.headers[v])});var p=!0;if(d.mode==="disable-fetch"||"requestTimeout"in d&&!c.abortController)p=!1,f=!0;else if(d.mode==="prefer-streaming")f=!1;else if(d.mode==="allow-wrong-content-type")f=!c.overrideMimeType;else{if(d.mode&&d.mode!=="default"&&d.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");f=!0}g._mode=function(v,y){return c.fetch&&y?"fetch":c.mozchunkedarraybuffer?"moz-chunked-arraybuffer":c.msstream?"ms-stream":c.arraybuffer&&v?"arraybuffer":c.vbArray&&v?"text:vbarray":"text"}(f,p),g._fetchTimer=null,g.on("finish",function(){g._onFinish()})};i(r,e.Writable),r.prototype.setHeader=function(d,f){var g=d.toLowerCase();l.indexOf(g)===-1&&(this._headers[g]={name:d,value:f})},r.prototype.getHeader=function(d){var f=this._headers[d.toLowerCase()];return f?f.value:null},r.prototype.removeHeader=function(d){delete this._headers[d.toLowerCase()]},r.prototype._onFinish=function(){var d=this;if(!d._destroyed){var f=d._opts,g=d._headers,p=null;f.method!=="GET"&&f.method!=="HEAD"&&(p=c.arraybuffer?t(_.concat(d._body)):c.blobConstructor?new u.Blob(d._body.map(function(k){return t(k)}),{type:(g["content-type"]||{}).value||""}):_.concat(d._body).toString());var v=[];if(Object.keys(g).forEach(function(k){var C=g[k].name,w=g[k].value;Array.isArray(w)?w.forEach(function(T){v.push([C,T])}):v.push([C,w])}),d._mode==="fetch"){var y=null;if(c.abortController){var m=new AbortController;y=m.signal,d._fetchAbortController=m,"requestTimeout"in f&&f.requestTimeout!==0&&(d._fetchTimer=u.setTimeout(function(){d.emit("requestTimeout"),d._fetchAbortController&&d._fetchAbortController.abort()},f.requestTimeout))}u.fetch(d._opts.url,{method:d._opts.method,headers:v,body:p||void 0,mode:"cors",credentials:f.withCredentials?"include":"same-origin",signal:y}).then(function(k){d._fetchResponse=k,d._connect()},function(k){u.clearTimeout(d._fetchTimer),d._destroyed||d.emit("error",k)})}else{var b=d._xhr=new u.XMLHttpRequest;try{b.open(d._opts.method,d._opts.url,!0)}catch(k){return void s.nextTick(function(){d.emit("error",k)})}"responseType"in b&&(b.responseType=d._mode.split(":")[0]),"withCredentials"in b&&(b.withCredentials=!!f.withCredentials),d._mode==="text"&&"overrideMimeType"in b&&b.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in f&&(b.timeout=f.requestTimeout,b.ontimeout=function(){d.emit("requestTimeout")}),v.forEach(function(k){b.setRequestHeader(k[0],k[1])}),d._response=null,b.onreadystatechange=function(){switch(b.readyState){case a.LOADING:case a.DONE:d._onXHRProgress()}},d._mode==="moz-chunked-arraybuffer"&&(b.onprogress=function(){d._onXHRProgress()}),b.onerror=function(){d._destroyed||d.emit("error",new Error("XHR error"))};try{b.send(p)}catch(k){return void s.nextTick(function(){d.emit("error",k)})}}}},r.prototype._onXHRProgress=function(){(function(d){try{var f=d.status;return f!==null&&f!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},r.prototype._connect=function(){var d=this;d._destroyed||(d._response=new n(d._xhr,d._fetchResponse,d._mode,d._fetchTimer),d._response.on("error",function(f){d.emit("error",f)}),d.emit("response",d._response))},r.prototype._write=function(d,f,g){this._body.push(d),g()},r.prototype.abort=r.prototype.destroy=function(){this._destroyed=!0,u.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},r.prototype.end=function(d,f,g){typeof d=="function"&&(g=d,d=void 0),e.Writable.prototype.end.call(this,d,f,g)},r.prototype.flushHeaders=function(){},r.prototype.setTimeout=function(){},r.prototype.setNoDelay=function(){},r.prototype.setSocketKeepAlive=function(){};var l=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,h(14).Buffer,h(4),h(10))},function(S,x){x.read=function(h,_,u,s,c){var i,o,e=8*c-s-1,t=(1<<e)-1,n=t>>1,a=-7,r=u?c-1:0,l=u?-1:1,d=h[_+r];for(r+=l,i=d&(1<<-a)-1,d>>=-a,a+=e;a>0;i=256*i+h[_+r],r+=l,a-=8);for(o=i&(1<<-a)-1,i>>=-a,a+=s;a>0;o=256*o+h[_+r],r+=l,a-=8);if(i===0)i=1-n;else{if(i===t)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,s),i-=n}return(d?-1:1)*o*Math.pow(2,i-s)},x.write=function(h,_,u,s,c,i){var o,e,t,n=8*i-c-1,a=(1<<n)-1,r=a>>1,l=c===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=s?0:i-1,f=s?1:-1,g=_<0||_===0&&1/_<0?1:0;for(_=Math.abs(_),isNaN(_)||_===1/0?(e=isNaN(_)?1:0,o=a):(o=Math.floor(Math.log(_)/Math.LN2),_*(t=Math.pow(2,-o))<1&&(o--,t*=2),(_+=o+r>=1?l/t:l*Math.pow(2,1-r))*t>=2&&(o++,t/=2),o+r>=a?(e=0,o=a):o+r>=1?(e=(_*t-1)*Math.pow(2,c),o+=r):(e=_*Math.pow(2,r-1)*Math.pow(2,c),o=0));c>=8;h[u+d]=255&e,d+=f,e/=256,c-=8);for(o=o<<c|e,n+=c;n>0;h[u+d]=255&o,d+=f,o/=256,n-=8);h[u+d-f]|=128*g}},function(S,x,h){x.byteLength=function(a){var r=e(a),l=r[0],d=r[1];return 3*(l+d)/4-d},x.toByteArray=function(a){for(var r,l=e(a),d=l[0],f=l[1],g=new s(function(m,b,k){return 3*(b+k)/4-k}(0,d,f)),p=0,v=f>0?d-4:d,y=0;y<v;y+=4)r=u[a.charCodeAt(y)]<<18|u[a.charCodeAt(y+1)]<<12|u[a.charCodeAt(y+2)]<<6|u[a.charCodeAt(y+3)],g[p++]=r>>16&255,g[p++]=r>>8&255,g[p++]=255&r;return f===2&&(r=u[a.charCodeAt(y)]<<2|u[a.charCodeAt(y+1)]>>4,g[p++]=255&r),f===1&&(r=u[a.charCodeAt(y)]<<10|u[a.charCodeAt(y+1)]<<4|u[a.charCodeAt(y+2)]>>2,g[p++]=r>>8&255,g[p++]=255&r),g},x.fromByteArray=function(a){for(var r,l=a.length,d=l%3,f=[],g=0,p=l-d;g<p;g+=16383)f.push(n(a,g,g+16383>p?p:g+16383));return d===1?(r=a[l-1],f.push(_[r>>2]+_[r<<4&63]+"==")):d===2&&(r=(a[l-2]<<8)+a[l-1],f.push(_[r>>10]+_[r>>4&63]+_[r<<2&63]+"=")),f.join("")};for(var _=[],u=[],s=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=c.length;i<o;++i)_[i]=c[i],u[c.charCodeAt(i)]=i;function e(a){var r=a.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=a.indexOf("=");return l===-1&&(l=r),[l,l===r?0:4-l%4]}function t(a){return _[a>>18&63]+_[a>>12&63]+_[a>>6&63]+_[63&a]}function n(a,r,l){for(var d,f=[],g=r;g<l;g+=3)d=(a[g]<<16&16711680)+(a[g+1]<<8&65280)+(255&a[g+2]),f.push(t(d));return f.join("")}u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63},function(S,x,h){(function(_){Object.defineProperty(x,"__esModule",{value:!0}),x.default=function(u){u.ext=u.ext||{},u.ext.export_api=u.ext.export_api||{_apiUrl:"https://export.dhtmlx.com/gantt",_prepareConfigPDF:function(s,c){if(s&&s.raw){var i=null;s.start&&s.end&&(i={start_date:u.config.start_date,end_date:u.config.end_date},u.config.start_date=u.date.str_to_date(u.config.date_format)(s.start),u.config.end_date=u.date.str_to_date(u.config.date_format)(s.end)),s=u.mixin(s,{name:"gantt."+c,data:u.ext.export_api._serializeHtml()}),i&&(u.config.start_date=i.start_date,u.config.end_date=i.end_date)}else s=u.mixin(s||{},{name:"gantt."+c,data:u.ext.export_api._serializeAll(),config:u.config}),u.ext.export_api._fixColumns(s.config.columns);s.version=u.version,u.ext.export_api._sendToExport(s,c)},exportToPDF:function(s){u.ext.export_api._prepareConfigPDF(s,"pdf")},exportToPNG:function(s){u.ext.export_api._prepareConfigPDF(s,"png")},exportToICal:function(s){s=u.mixin(s||{},{name:"gantt.ical",data:u.ext.export_api._serializePlain().data,version:u.version}),u.ext.export_api._sendToExport(s,"ical")},exportToExcel:function(s){var c,i,o,e;s=s||{};var t=u.config.smart_rendering;if(s.visual==="base-colors"&&(u.config.smart_rendering=!1),s.start||s.end){o=u.getState(),i=[u.config.start_date,u.config.end_date],e=u.getScrollState();var n=u.date.str_to_date(u.config.date_format);c=u.eachTask,s.start&&(u.config.start_date=n(s.start)),s.end&&(u.config.end_date=n(s.end)),u.render(),u.config.smart_rendering=t,u.eachTask=u.ext.export_api._eachTaskTimed(u.config.start_date,u.config.end_date)}else s.visual==="base-colors"&&(u.render(),u.config.smart_rendering=t);u._no_progress_colors=s.visual==="base-colors";var a=null;u.env.isNode||(a=u.ext.export_api._serializeTable(s).data),(s=u.mixin(s,{name:"gantt.xlsx",title:"Tasks",data:a,columns:u.ext.export_api._serializeColumns({rawDates:!0}),version:u.version})).visual&&(s.scales=u.ext.export_api._serializeScales(s)),u.ext.export_api._sendToExport(s,"excel"),(s.start||s.end)&&(u.config.start_date=o.min_date,u.config.end_date=o.max_date,u.eachTask=c,u.render(),u.scrollTo(e.x,e.y),u.config.start_date=i[0],u.config.end_date=i[1])},exportToJSON:function(s){s=u.mixin(s||{},{name:"gantt.json",data:u.ext.export_api._serializeAll(),config:u.config,columns:u.ext.export_api._serializeColumns(),worktime:u.ext.export_api._getWorktimeSettings(),version:u.version}),u.ext.export_api._sendToExport(s,"json")},importFromExcel:function(s){try{var c=s.data;if(!(c instanceof FormData)){if(c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}}catch{}u.env.isNode?u.ext.export_api._nodejsImportExcel(s):u.ext.export_api._sendImportAjaxExcel(s)},importFromMSProject:function(s){var c=s.data;try{if(!(c instanceof FormData)){if(c instanceof File){var i=new FormData;i.append("file",c),s.data=i}}}catch{}u.env.isNode?u.ext.export_api._nodejsImportMSP(s):u.ext.export_api._sendImportAjaxMSP(s)},importFromPrimaveraP6:function(s){return s.type="primaveraP6-parse",u.importFromMSProject(s)},exportToMSProject:function(s){(s=s||{}).skip_circular_links=s.skip_circular_links===void 0||!!s.skip_circular_links;var c=u.templates.xml_format,i=u.templates.format_date,o=u.config.xml_date,e=u.config.date_format;u.config.xml_date="%d-%m-%Y %H:%i:%s",u.config.date_format="%d-%m-%Y %H:%i:%s",u.templates.xml_format=u.date.date_to_str("%d-%m-%Y %H:%i:%s"),u.templates.format_date=u.date.date_to_str("%d-%m-%Y %H:%i:%s");var t=u.ext.export_api._serializeAll();u.ext.export_api._customProjectProperties(t,s),u.ext.export_api._customTaskProperties(t,s),s.skip_circular_links&&u.ext.export_api._clearRecLinks(t),s=u.ext.export_api._exportConfig(t,s),u.ext.export_api._sendToExport(s,s.type||"msproject"),u.config.xml_date=o,u.config.date_format=e,u.templates.xml_format=c,u.templates.format_date=i,u.config.$custom_data=null,u.config.custom=null},exportToPrimaveraP6:function(s){return(s=s||{}).type="primaveraP6",u.exportToMSProject(s)},_nodejsImportExcel:function(s){var c=h(35),i=h(58),o=(s.server||u.ext.export_api._apiUrl).split("://")[1],e=o.split("/")[0].split(":"),t=o.split("/"),n={hostname:e[0],port:e[1]||80,path:"/"+t.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},a=new i;a.append("file",s.data),a.append("type","excel-parse"),a.append("data",JSON.stringify({sheet:s.sheet||0})),n.headers["Content-Type"]=a.getHeaders()["content-type"];var r=c.request(n,function(l){var d="";l.on("data",function(f){d+=f}),l.on("end",function(f){s.callback(d.toString())})});r.on("error",function(l){console.error(l)}),a.pipe(r)},_nodejsImportMSP:function(s){var c=h(35),i=h(58),o=(s.server||u.ext.export_api._apiUrl).split("://")[1],e=o.split("/")[0].split(":"),t=o.split("/"),n={hostname:e[0],port:e[1]||80,path:"/"+t.slice(1).join("/"),method:"POST",headers:{"X-Requested-With":"XMLHttpRequest"}},a={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0},r=new i;r.append("file",s.data),r.append("type",s.type||"msproject-parse"),r.append("data",JSON.stringify(a),n),n.headers["Content-Type"]=r.getHeaders()["content-type"];var l=c.request(n,function(d){var f="";d.on("data",function(g){f+=g}),d.on("end",function(g){s.callback(f.toString())})});l.on("error",function(d){console.error(d)}),r.pipe(l)},_fixColumns:function(s){for(var c=0;c<s.length;c++)s[c].label=s[c].label||u.locale.labels["column_"+s[c].name],typeof s[c].width=="string"&&(s[c].width=1*s[c].width)},_xdr:function(s,c,i){u.env.isNode?u.ext.export_api._nodejsPostRequest(s,c,i):u.ajax.post(s,c,i)},_nodejsPostRequest:function(s,c,i){var o=h(35),e=s.split("://")[1],t=e.split("/")[0].split(":"),n=e.split("/"),a={hostname:t[0],port:t[1]||80,path:"/"+n.slice(1).join("/"),method:"POST",headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(c).length}},r=o.request(a,function(l){var d=[];l.on("data",function(f){d.push(f)}),l.on("end",function(f){i(_.concat(d))})});r.on("error",function(l){console.error(l)}),r.write(JSON.stringify(c)),r.end()},_markColumns:function(s){var c=s.config.columns;if(c)for(var i=0;i<c.length;i++)c[i].template&&(c[i].$template=!0)},_sendImportAjaxExcel:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,o=s.data,e=s.callback;o.append("type","excel-parse"),o.append("data",JSON.stringify({sheet:s.sheet||0})),i&&o.append("store",i);var t=new XMLHttpRequest;t.onreadystatechange=function(n){t.readyState===4&&t.status===0&&e&&e(null)},t.onload=function(){var n=null;if(!(t.status>400))try{n=JSON.parse(t.responseText)}catch{}e&&e(n)},t.open("POST",c,!0),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.send(o)},_ajaxToExport:function(s,c,i){delete s.callback;var o=s.server||u.ext.export_api._apiUrl,e="type="+c+"&store=1&data="+encodeURIComponent(JSON.stringify(s));u.ext.export_api._xdr(o,e,function(t){var n=t.xmlDoc||t,a=null;if(!(n.status>400))try{a=JSON.parse(n.responseText)}catch{}i(a)})},_serializableGanttConfig:function(s){var c=u.mixin({},s);return c.columns&&(c.columns=c.columns.map(function(i){var o=u.mixin({},i);return delete o.editor,o})),delete c.editor_types,c},_sendToExport:function(s,c){var i=u.date.date_to_str(u.config.date_format||u.config.xml_date);if(s.config&&(s.config=u.copy(u.ext.export_api._serializableGanttConfig(s.config)),u.ext.export_api._markColumns(s,c),s.config.start_date&&s.config.end_date&&(s.config.start_date instanceof Date&&(s.config.start_date=i(s.config.start_date)),s.config.end_date instanceof Date&&(s.config.end_date=i(s.config.end_date)))),u.env.isNode){var o=s.server||u.ext.export_api._apiUrl,e={type:c,store:0,data:JSON.stringify(s)},t=s.callback||function(a){console.log(a)};return u.ext.export_api._xdr(o,e,t)}if(s.callback)return u.ext.export_api._ajaxToExport(s,c,s.callback);var n=u.ext.export_api._createHiddenForm();n.firstChild.action=s.server||u.ext.export_api._apiUrl,n.firstChild.childNodes[0].value=JSON.stringify(s),n.firstChild.childNodes[1].value=c,n.firstChild.submit()},_createHiddenForm:function(){if(!u.ext.export_api._hidden_export_form){var s=u.ext.export_api._hidden_export_form=document.createElement("div");s.style.display="none",s.innerHTML="<form method='POST' target='_blank'><textarea name='data' style='width:0px; height:0px;' readonly='true'></textarea><input type='hidden' name='type' value=''></form>",document.body.appendChild(s)}return u.ext.export_api._hidden_export_form},_copyObjectBase:function(s){var c={start_date:void 0,end_date:void 0};for(var i in s)i.charAt(0)!=="$"&&(c[i]=s[i]);var o=u.templates.xml_format||u.templates.format_date;return c.start_date=o(c.start_date),c.end_date&&(c.end_date=o(c.end_date)),c},_color_box:null,_color_hash:{},_getStyles:function(s){if(u.ext.export_api._color_box||(u.ext.export_api._color_box=document.createElement("DIV"),u.ext.export_api._color_box.style.cssText="position:absolute; display:none;",document.body.appendChild(u.ext.export_api._color_box)),u.ext.export_api._color_hash[s])return u.ext.export_api._color_hash[s];u.ext.export_api._color_box.className=s;var c=u.ext.export_api._getColor(u.ext.export_api._color_box,"color"),i=u.ext.export_api._getColor(u.ext.export_api._color_box,"backgroundColor");return u.ext.export_api._color_hash[s]=c+";"+i},_getMinutesWorktimeSettings:function(s){var c=[];return s.forEach(function(i){c.push(i.startMinute),c.push(i.endMinute)}),c},_getWorktimeSettings:function(){var s,c={hours:[0,24],minutes:null,dates:{0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0}};if(u.config.work_time){var i=u._working_time_helper;if(i&&i.get_calendar)s=i.get_calendar();else if(i)s={hours:i.hours,minutes:null,dates:i.dates};else if(u.config.worktimes&&u.config.worktimes.global){var o=u.config.worktimes.global;if(o.parsed){var e=u.ext.export_api._getMinutesWorktimeSettings(o.parsed.hours);for(var t in s={hours:null,minutes:e,dates:{}},o.parsed.dates)Array.isArray(o.parsed.dates[t])?s.dates[t]=u.ext.export_api._getMinutesWorktimeSettings(o.parsed.dates[t]):s.dates[t]=o.parsed.dates[t]}else s={hours:o.hours,minutes:null,dates:o.dates}}else s=c}else s=c;return s},_eachTaskTimed:function(s,c){return function(i,o,e){o=o||u.config.root_id,e=e||u;var t=u.getChildren(o);if(t)for(var n=0;n<t.length;n++){var a=u._pull[t[n]];(!s||a.end_date>s)&&(!c||a.start_date<c)&&i.call(e,a),u.hasChild(a.id)&&u.eachTask(i,a.id,e)}}},_originalCopyObject:u.json._copyObject,_copyObjectPlain:function(s){var c=u.templates.task_text(s.start_date,s.end_date,s),i=u.ext.export_api._copyObjectBase(s);return i.text=c||i.text,i},_getColor:function(s,c){var i=s.currentStyle?s.currentStyle[c]:getComputedStyle(s,null)[c],o=i.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return(o&&o.length===4?("0"+parseInt(o[1],10).toString(16)).slice(-2)+("0"+parseInt(o[2],10).toString(16)).slice(-2)+("0"+parseInt(o[3],10).toString(16)).slice(-2):i).replace("#","")},_copyObjectTable:function(s){var c=u.date.date_to_str("%Y-%m-%dT%H:%i:%s.000Z"),i=u.ext.export_api._copyObjectColumns(s,u.ext.export_api._copyObjectPlain(s));i.start_date&&(i.start_date=c(s.start_date)),i.end_date&&(i.end_date=c(s.end_date));var o=u._day_index_by_date?u._day_index_by_date:u.columnIndexByDate;i.$start=o.call(u,s.start_date),i.$end=o.call(u,s.end_date),i.$level=s.$level,i.$type=s.$rendered_type;var e=u.templates;return i.$text=e.task_text(s.start,s.end_date,s),i.$left=e.leftside_text?e.leftside_text(s.start,s.end_date,s):"",i.$right=e.rightside_text?e.rightside_text(s.start,s.end_date,s):"",i},_copyObjectColors:function(s){var c=u.ext.export_api._copyObjectTable(s),i=u.getTaskNode(s.id);if(i&&i.firstChild){var o=u.ext.export_api._getColor(u._no_progress_colors?i:i.firstChild,"backgroundColor");o==="363636"&&(o=u.ext.export_api._getColor(i,"backgroundColor")),c.$color=o}else s.color&&(c.$color=s.color);return c},_copyObjectColumns:function(s,c){for(var i=0;i<u.config.columns.length;i++){var o=u.config.columns[i].template;if(o){var e=o(s);e instanceof Date&&(e=u.templates.date_grid(e,s)),c["_"+i]=e}}return c},_copyObjectAll:function(s){for(var c=u.ext.export_api._copyObjectBase(s),i=["leftside_text","rightside_text","task_text","progress_text","task_class"],o=0;o<i.length;o++){var e=u.templates[i[o]];e&&(c["$"+o]=e(s.start_date,s.end_date,s))}return u.ext.export_api._copyObjectColumns(s,c),c.open=s.$open,c},_serializeHtml:function(){var s=u.config.smart_scales,c=u.config.smart_rendering;(s||c)&&(u.config.smart_rendering=!1,u.config.smart_scales=!1,u.render());var i=u.$container.parentNode.innerHTML;return(s||c)&&(u.config.smart_scales=s,u.config.smart_rendering=c,u.render()),i},_serializeAll:function(){u.json._copyObject=u.ext.export_api._copyObjectAll;var s=u.ext.export_api._exportSerialize();return u.json._copyObject=u.ext.export_api._originalCopyObject,s},_serializePlain:function(){var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.templates.format_date=u.date.date_to_str("%Y%m%dT%H%i%s",!0),u.json._copyObject=u.ext.export_api._copyObjectPlain;var i=u.ext.export_api._exportSerialize();return u.templates.xml_format=s,u.templates.format_date=c,u.json._copyObject=u.ext.export_api._originalCopyObject,delete i.links,i},_getRaw:function(){if(u._scale_helpers){var s=u._get_scales(),c=u.config.min_column_width,i=u._get_resize_options().x?Math.max(u.config.autosize_min_width,0):u.config.$task.offsetWidth,o=u.config.config.scale_height-1;return u._scale_helpers.prepareConfigs(s,c,i,o)}var e=u.$ui.getView("timeline");if(e){var t=e.$config.width;u.config.autosize!=="x"&&u.config.autosize!=="xy"||(t=Math.max(u.config.autosize_min_width,0));var n=u.getState(),a=(s=e._getScales(),c=u.config.min_column_width,o=u.config.scale_height-1,u.config.rtl);return e.$scaleHelper.prepareConfigs(s,c,t,o,n.min_date,n.max_date,a)}},_serializeTable:function(s){u.json._copyObject=s.visual?u.ext.export_api._copyObjectColors:u.ext.export_api._copyObjectTable;var c=u.ext.export_api._exportSerialize();if(u.json._copyObject=u.ext.export_api._originalCopyObject,delete c.links,s.cellColors){var i=u.templates.timeline_cell_class||u.templates.task_cell_class;if(i){for(var o=u.ext.export_api._getRaw(),e=o[0].trace_x,t=1;t<o.length;t++)o[t].trace_x.length>e.length&&(e=o[t].trace_x);for(t=0;t<c.data.length;t++){c.data[t].styles=[];for(var n=u.getTask(c.data[t].id),a=0;a<e.length;a++){var r=i(n,e[a]);r&&c.data[t].styles.push({index:a,styles:u.ext.export_api._getStyles(r)})}}}}return c},_serializeScales:function(s){for(var c=[],i=u.ext.export_api._getRaw(),o=1/0,e=0,t=0;t<i.length;t++)o=Math.min(o,i[t].col_width);for(t=0;t<i.length;t++){var n=0,a=0,r=[];c.push(r);var l=i[t];e=Math.max(e,l.trace_x.length);for(var d=l.format||l.template||(l.date?u.date.date_to_str(l.date):u.config.date_scale),f=0;f<l.trace_x.length;f++){var g=l.trace_x[f];a=n+Math.round(l.width[f]/o);var p={text:d(g),start:n,end:a,styles:""};if(s.cellColors){var v=l.css||u.templates.scaleCell_class;if(v){var y=v(g);y&&(p.styles=u.ext.export_api._getStyles(y))}}r.push(p),n=a}}return{width:e,height:c.length,data:c}},_serializeColumns:function(s){u.exportMode=!0;for(var c=[],i=u.config.columns,o=0,e=0;e<i.length;e++)i[e].name!=="add"&&i[e].name!=="buttons"&&(c[o]={id:i[e].template?"_"+e:i[e].name,header:i[e].label||u.locale.labels["column_"+i[e].name],width:i[e].width?Math.floor(i[e].width/4):""},i[e].name==="duration"&&(c[o].type="number"),i[e].name!=="start_date"&&i[e].name!=="end_date"||(c[o].type="date",s&&s.rawDates&&(c[o].id=i[e].name)),o++);return u.exportMode=!1,c},_exportSerialize:function(){u.exportMode=!0;var s=u.templates.xml_format,c=u.templates.format_date;u.templates.xml_format=u.templates.format_date=u.date.date_to_str(u.config.date_format||u.config.xml_date);var i=u.serialize();return u.templates.xml_format=s,u.templates.format_date=c,u.exportMode=!1,i},_setLevel:function(s){for(var c=0;c<s.length;c++){s[c].parent==0&&(s[c]._lvl=1);for(var i=c+1;i<s.length;i++)s[c].id==s[i].parent&&(s[i]._lvl=s[c]._lvl+1)}},_clearLevel:function(s){for(var c=0;c<s.length;c++)delete s[c]._lvl},_clearRecLinks:function(s){u.ext.export_api._setLevel(s.data);for(var c={},i=0;i<s.data.length;i++)c[s.data[i].id]=s.data[i];var o={};for(i=0;i<s.links.length;i++){var e=s.links[i];u.isTaskExists(e.source)&&u.isTaskExists(e.target)&&c[e.source]&&c[e.target]&&(o[e.id]=e)}for(var t in o)u.ext.export_api._makeLinksSameLevel(o[t],c);var n={};for(var t in c)u.ext.export_api._clearCircDependencies(c[t],o,c,{},n,null);for(Object.keys(o)&&u.ext.export_api._clearLinksSameLevel(o,c),i=0;i<s.links.length;i++)o[s.links[i].id]||(s.links.splice(i,1),i--);u.ext.export_api._clearLevel(s.data)},_clearCircDependencies:function(s,c,i,o,e,t){var n=s.$_source;if(n){o[s.id]&&u.ext.export_api._onCircDependencyFind(t,c,o,e),o[s.id]=!0;for(var a={},r=0;r<n.length;r++)if(!e[n[r]]){var l=c[n[r]],d=i[l._target];a[d.id]&&u.ext.export_api._onCircDependencyFind(l,c,o,e),a[d.id]=!0,u.ext.export_api._clearCircDependencies(d,c,i,o,e,l)}o[s.id]=!1}},_onCircDependencyFind:function(s,c,i,o){s&&(u.callEvent("onExportCircularDependency",[s.id,s])&&delete c[s.id],delete i[s._source],delete i[s._target],o[s.id]=!0)},_makeLinksSameLevel:function(s,c){var i,o,e={target:c[s.target],source:c[s.source]};if(e.target._lvl!=e.source._lvl){e.target._lvl<e.source._lvl?(i="source",o=e.target._lvl):(i="target",o=e.source._lvl);do{var t=c[e[i].parent];if(!t)break;e[i]=t}while(e[i]._lvl<o);for(var n=c[e.source.parent],a=c[e.target.parent];n&&a&&n.id!=a.id;)e.source=n,e.target=a,n=c[e.source.parent],a=c[e.target.parent]}s._target=e.target.id,s._source=e.source.id,e.target.$_target||(e.target.$_target=[]),e.target.$_target.push(s.id),e.source.$_source||(e.source.$_source=[]),e.source.$_source.push(s.id)},_clearLinksSameLevel:function(s,c){for(var i in s)delete s[i]._target,delete s[i]._source;for(var o in c)delete c[o].$_source,delete c[o].$_target},_customProjectProperties:function(s,c){if(c&&c.project){for(var i in c.project)u.config.$custom_data||(u.config.$custom_data={}),u.config.$custom_data[i]=typeof c.project[i]=="function"?c.project[i](u.config):c.project[i];delete c.project}},_customTaskProperties:function(s,c){c&&c.tasks&&(s.data.forEach(function(i){for(var o in c.tasks)i.$custom_data||(i.$custom_data={}),i.$custom_data[o]=typeof c.tasks[o]=="function"?c.tasks[o](i,u.config):c.tasks[o]}),delete c.tasks)},_exportConfig:function(s,c){var i=c.name||"gantt.xml";delete c.name,u.config.custom=c;var o=u.ext.export_api._getWorktimeSettings(),e=u.getSubtaskDates();if(e.start_date&&e.end_date){var t=u.templates.format_date||u.templates.xml_format;u.config.start_end={start_date:t(e.start_date),end_date:t(e.end_date)}}var n=c.auto_scheduling!==void 0&&!!c.auto_scheduling,a={callback:c.callback||null,config:u.config,data:s,manual:n,name:i,worktime:o};for(var r in c)a[r]=c[r];return a},_sendImportAjaxMSP:function(s){var c=s.server||u.ext.export_api._apiUrl,i=s.store||0,o=s.data,e=s.callback,t={durationUnit:s.durationUnit||void 0,projectProperties:s.projectProperties||void 0,taskProperties:s.taskProperties||void 0};o.append("type",s.type||"msproject-parse"),o.append("data",JSON.stringify(t)),i&&o.append("store",i);var n=new XMLHttpRequest;n.onreadystatechange=function(a){n.readyState===4&&n.status===0&&e&&e(null)},n.onload=function(){var a=null;if(!(n.status>400))try{a=JSON.parse(n.responseText)}catch{}e&&e(a)},n.open("POST",c,!0),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(o)}},u.exportToPDF=u.ext.export_api.exportToPDF,u.exportToPNG=u.ext.export_api.exportToPNG,u.exportToICal=u.ext.export_api.exportToICal,u.exportToExcel=u.ext.export_api.exportToExcel,u.exportToJSON=u.ext.export_api.exportToJSON,u.importFromExcel=u.ext.export_api.importFromExcel,u.importFromMSProject=u.ext.export_api.importFromMSProject,u.exportToMSProject=u.ext.export_api.exportToMSProject,u.importFromPrimaveraP6=u.ext.export_api.importFromPrimaveraP6,u.exportToPrimaveraP6=u.ext.export_api.exportToPrimaveraP6}}).call(this,h(14).Buffer)},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){function u(s){var c=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(c._trace.length>=10){for(var i=c._trace.slice(c._trace.length-10),o=[],e=1;e<i.length;e++)o.push({x:i[e].x-i[e-1].x,y:i[e].y-i[e-1].y});var t={x:0,y:0};return o.forEach(function(n){t.x+=n.x,t.y+=n.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){c._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){c._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(i){var o=c._gantt;return{x:o.$ui.getView(i.$config.scrollX).getScrollState().position,y:o.$ui.getView(i.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(i){var o=c._calculateDirectionVector(),e=c._startPoint.x-i.x,t=c._startPoint.y-i.y;return o&&(o.angleDegrees<15?t=0:o.angleDegrees>75&&(e=0)),{x:c._scrollState.x+e,y:c._scrollState.y+t}},this._setScrollPosition=function(i,o){var e=c._gantt;requestAnimationFrame(function(){e.scrollLayoutCell(i.$id,o.x,o.y)})},this._stopDrag=function(i){var o=c._gantt;if(c._trace=[],o.$root.classList.remove("gantt_noselect"),c._originalReadonly!==void 0&&(o.config.readonly=c._originalReadonly),c._originAutoscroll!==void 0&&(o.config.autoscroll=c._originAutoscroll),o.config.drag_timeline){var e=o.config.drag_timeline.useKey;if(e&&i[e]!==!0)return}c._mouseDown=!1},this._startDrag=function(i){var o=c._gantt;c._originAutoscroll=o.config.autoscroll,o.config.autoscroll=!1,o.$root.classList.add("gantt_noselect"),c._originalReadonly=o.config.readonly,o.config.readonly=!0,c._trace=[],c._mouseDown=!0;var e=c._getScrollPosition(c._timeline),t=e.x,n=e.y;c._scrollState={x:t,y:n},c._startPoint={x:i.clientX,y:i.clientY},c._trace.push(c._startPoint)},this._gantt=s,this._domEvents=s._createDomEventScope(),this._trace=[]}return u.create=function(s){return new u(s)},u.prototype.destructor=function(){this._domEvents.detachAll()},u.prototype.attach=function(s){var c=this;this._timeline=s;var i=this._gantt;this._domEvents.attach(s.$task,"mousedown",function(o){if(i.config.drag_timeline){var e=i.config.drag_timeline,t=e.useKey,n=e.ignore;if(e.enabled!==!1){var a=".gantt_task_line, .gantt_task_link";n!==void 0&&(a=n instanceof Array?n.join(", "):n),a&&i.utils.dom.closest(o.target,a)||t&&o[t]!==!0||c._startDrag(o)}}}),this._domEvents.attach(document,"keydown",function(o){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&o[e]===!0&&c._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(o){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;e&&o[e]===!1&&(c._clearDndReadyStyles(),c._stopDrag(o))}}),this._domEvents.attach(document,"mouseup",function(o){c._stopDrag(o)}),this._domEvents.attach(i.$root,"mouseup",function(o){c._stopDrag(o)}),this._domEvents.attach(document,"mouseleave",function(o){c._stopDrag(o)}),this._domEvents.attach(i.$root,"mouseleave",function(o){c._stopDrag(o)}),this._domEvents.attach(i.$root,"mousemove",function(o){if(i.config.drag_timeline){var e=i.config.drag_timeline.useKey;if(!e||o[e]===!0){var t=c._gantt.ext.clickDrag,n=(c._gantt.config.click_drag||{}).useKey;if((!t||!n||e||!o[n])&&c._mouseDown===!0){c._trace.push({x:o.clientX,y:o.clientY});var a=c._countNewScrollPosition({x:o.clientX,y:o.clientY});c._setScrollPosition(s,a),c._scrollState=a,c._startPoint={x:o.clientX,y:o.clientY}}}}})},u}();x.EventsManager=_},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(308);x.default=function(u){u.ext||(u.ext={}),u.ext.dragTimeline={create:function(){return _.EventsManager.create(u)}},u.config.drag_timeline={enabled:!0}}},function(S,x){S.exports=function(h){return h._isProjectEnd=function(_){return!this._hasDuration({start_date:_.end_date,end_date:this._getProjectEnd(),task:_})},{_cache:{},_slackHelper:null,reset:function(){this._cache={}},_calculateCriticalPath:function(){this.reset()},isCriticalTask:function(_){if(!_)return!1;if(h.config.auto_scheduling_use_progress&&_.progress===1)return this._cache[_.id]=!1,!1;if(this._cache[_.id]===void 0)if(h.isSummaryTask(_)){var u=!1;h.eachTask((function(s){u||(u=this.isCriticalTask(s))}).bind(this),_.id),this._cache[_.id]=u}else this._cache[_.id]=this._slackHelper.getTotalSlack(_)<=0;return this._cache[_.id]},init:function(_){this._slackHelper=_;var u=h.bind(function(){return this.reset(),!0},this),s=h.bind(function(i,o){return this._cache&&(this._cache[o]=this._cache[i],delete this._cache[i]),!0},this);h.attachEvent("onAfterLinkAdd",u),h.attachEvent("onAfterLinkUpdate",u),h.attachEvent("onAfterLinkDelete",u),h.attachEvent("onAfterTaskAdd",u),h.attachEvent("onTaskIdChange",s),h.attachEvent("onAfterTaskUpdate",u),h.attachEvent("onAfterTaskDelete",u),h.attachEvent("onParse",u),h.attachEvent("onClearAll",u);var c=function(){h.config.highlight_critical_path&&!h.getState("batchUpdate").batch_update&&h.render()};h.attachEvent("onAfterLinkAdd",c),h.attachEvent("onAfterLinkUpdate",c),h.attachEvent("onAfterLinkDelete",c),h.attachEvent("onAfterTaskAdd",c),h.attachEvent("onTaskIdChange",function(i,o){return h.config.highlight_critical_path&&h.isTaskExists(o)&&h.refreshTask(o),!0}),h.attachEvent("onAfterTaskUpdate",c),h.attachEvent("onAfterTaskDelete",c)}}}},function(S,x,h){S.exports=function(_){var u=h(74)(_),s=h(73)(_),c={_freeSlack:{},_totalSlack:{},_slackNeedCalculate:!0,_linkedTasksById:{},_successorsByTaskId:{},_projectEnd:null,_calculateSlacks:function(){var i=u.getLinkedTasks(),o=s.findLoops(i);if(o.length){_.callEvent("onAutoScheduleCircularLink",[o]);var e={};o.forEach(function(l){l.linkKeys.forEach(function(d){e[d]=!0})});for(var t=0;t<i.length;t++)i[t].hashSum in e&&(i.splice(t,1),t--)}var n=s.topologicalSort(i).reverse(),a={};i.forEach(function(l){a[l.source]||(a[l.source]={linked:[]}),a[l.source].linked.push({target:l.target,link:l})});var r={_cache:{},getDist:function(l,d){var f="".concat(l.id,"_").concat(d.id);if(this._cache[f])return this._cache[f];var g=_.calculateDuration({start_date:l.end_date,end_date:d.start_date,task:l});return this._cache[f]=g,g}};this._projectEnd=_.getSubtaskDates().end_date,this._calculateFreeSlack(i,n,a,r),this._calculateTotalSlack(i,n,a,r)},_isCompletedTask:function(i){return _.config.auto_scheduling_use_progress&&i.progress==1},_calculateFreeSlack:function(i,o,e,t){var n=this._freeSlack={},a={};_.eachTask(function(f){_.isSummaryTask(f)||(a[f.id]=f)});var r={};for(var l in i.forEach(function(f){var g=a[f.source];if(g){r[f.source]=!0;var p=t.getDist(g,_.getTask(f.target));p-=f.link.lag||0,n[f.source]!==void 0?n[f.source]=Math.min(p,n[f.source]):n[f.source]=p}}),a)if(!r[l]){var d=a[l];this._isCompletedTask(d)?n[d.id]=0:n[d.id]=_.calculateDuration({start_date:d.end_date,end_date:this._projectEnd,task:d})}return this._freeSlack},_disconnectedTaskSlack:function(i){return this._isCompletedTask(i)?0:Math.max(_.calculateDuration(i.end_date,this._projectEnd),0)},_calculateTotalSlack:function(i,o,e,t){this._totalSlack={},this._slackNeedCalculate=!1;for(var n={},a=_.getTaskByTime(),r=0;r<o.length;r++){var l=_.getTask(o[r]);if(this._isCompletedTask(l))n[l.id]=0;else if(e[l.id]||_.isSummaryTask(l)){for(var d=e[l.id].linked,f=null,g=0;g<d.length;g++){var p=d[g],v=_.getTask(p.target),y=0;n[v.id]!==void 0&&(y+=n[v.id]),y+=t.getDist(l,v),y-=p.link.lag||0,f=f===null?y:Math.min(f,y)}n[l.id]=f||0}else n[l.id]=this.getFreeSlack(l)}return a.forEach((function(m){n[m.id]!==void 0||_.isSummaryTask(m)||(n[m.id]=this.getFreeSlack(m))}).bind(this)),this._totalSlack=n,this._totalSlack},_resetTotalSlackCache:function(){this._slackNeedCalculate=!0},_shouldCalculateTotalSlack:function(){return this._slackNeedCalculate},getFreeSlack:function(i){return this._shouldCalculateTotalSlack()&&this._calculateSlacks(),_.isTaskExists(i.id)?i.progress===1?0:_.isSummaryTask(i)?void 0:this._freeSlack[i.id]||0:0},getTotalSlack:function(i){if(this._shouldCalculateTotalSlack()&&this._calculateSlacks(),i===void 0)return this._totalSlack;var o;if(o=i.id!==void 0?i.id:i,i.progress===1)return 0;if(this._totalSlack[o]===void 0){if(_.isSummaryTask(_.getTask(o))){var e=null;return _.eachTask((function(t){var n=this._totalSlack[t.id];n!==void 0&&(e===null||n<e)&&(e=n)}).bind(this),o),this._totalSlack[o]=e!==null?e:_.calculateDuration({start_date:i.end_date,end_date:this._projectEnd,task:i}),this._totalSlack[o]}return 0}return this._totalSlack[o]||0},dropCachedFreeSlack:function(){this._freeSlack={},this._resetTotalSlackCache()},init:function(){function i(){c.dropCachedFreeSlack()}_.attachEvent("onAfterLinkAdd",i),_.attachEvent("onTaskIdChange",i),_.attachEvent("onAfterLinkUpdate",i),_.attachEvent("onAfterLinkDelete",i),_.attachEvent("onAfterTaskAdd",i),_.attachEvent("onAfterTaskUpdate",i),_.attachEvent("onAfterTaskDelete",i),_.attachEvent("onRowDragEnd",i),_.attachEvent("onAfterTaskMove",i),_.attachEvent("onParse",i),_.attachEvent("onClearAll",i)}};return c}},function(S,x,h){S.exports=function(_){h(76)(_),h(75)(_);var u=h(311)(_);u.init(),_.getFreeSlack=function(c){return u.getFreeSlack(c)},_.getTotalSlack=function(c){return u.getTotalSlack(c)};var s=h(310)(_);_.config.highlight_critical_path=!1,s.init(u),_.isCriticalTask=function(c){return _.assert(!(!c||c.id===void 0),"Invalid argument for gantt.isCriticalTask"),s.isCriticalTask(c)},_.isCriticalLink=function(c){return this.isCriticalTask(_.getTask(c.source))},_.getSlack=function(c,i){for(var o=0,e=[],t={},n=0;n<c.$source.length;n++)t[c.$source[n]]=!0;for(n=0;n<i.$target.length;n++)t[i.$target[n]]&&e.push(i.$target[n]);if(e[0])for(n=0;n<e.length;n++){var a=this.getLink(e[n]),r=this._getSlack(c,i,this._convertToFinishToStartLink(a.id,a,c,i,c.parent,i.parent));(o>r||n===0)&&(o=r)}else o=this._getSlack(c,i,{});return o},_._getSlack=function(c,i,o){var e=this.config.types,t=null;t=this.getTaskType(c.type)==e.milestone?c.start_date:c.end_date;var n=i.start_date,a=0;a=+t>+n?-this.calculateDuration({start_date:n,end_date:t,task:c}):this.calculateDuration({start_date:t,end_date:n,task:c});var r=o.lag;return r&&1*r==r&&(a-=r),a}}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(5),u=h(2),s=function(){function c(i,o,e){var t=this;this._el=document.createElement("div"),this.defaultRender=function(n,a){t._el||(t._el=document.createElement("div"));var r=t._el,l=Math.min(n.relative.top,a.relative.top),d=Math.max(n.relative.top,a.relative.top),f=Math.min(n.relative.left,a.relative.left),g=Math.max(n.relative.left,a.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);r.style.height=p.height+"px",r.style.top=p.top+"px"}else r.style.height=Math.abs(d-l)+"px",r.style.top=l+"px";return r.style.width=Math.abs(g-f)+"px",r.style.left=f+"px",r},this._gantt=o,this._view=e,this._viewPort=i.viewPort,this._el.classList.add(i.className),typeof i.callback=="function"&&(this._callback=i.callback),this.render=function(){var n;(n=i.render?i.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=n),i.className!==""&&t._el.classList.add(i.className),t.draw()},u.isEventable(this._viewPort)||_(this._viewPort),this._singleRow=i.singleRow,this._useRequestAnimationFrame=i.useRequestAnimationFrame}return c.prototype.draw=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._viewPort.appendChild(i.getElement())});this._viewPort.appendChild(this.getElement())},c.prototype.clear=function(){var i=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){i._el.parentNode&&i._viewPort.removeChild(i._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},c.prototype.getElement=function(){return this._el},c.prototype.getViewPort=function(){return this._viewPort},c.prototype.setStart=function(i){var o=this._gantt;this._startPoint=i,this._startDate=o.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},c.prototype.setEnd=function(i){var o=this._gantt;if(this._endPoint=i,this._singleRow){var e=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=e.top}this._endDate=o.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},c.prototype.setPosition=function(i){this._positionPoint=i},c.prototype.dragEnd=function(i){var o,e=this._gantt;i.relative.left<0&&(i.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,i]),this.setEnd(i),this._endDate=this._endDate||e.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(o=[this._endDate,this._startDate],this._startDate=o[0],this._endDate=o[1]),this.clear();var t=e.getTaskByTime(this._startDate,this._endDate),n=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,n)},c.prototype.getInBounds=function(){return this._singleRow},c.prototype._getTasksByTop=function(i,o){var e=this._gantt,t=i,n=o;i>o&&(t=o,n=i);for(var a=this._getTaskPositionByTop(t).index,r=this._getTaskPositionByTop(n).index,l=[],d=a;d<=r;d++)e.getTaskByIndex(d)&&l.push(e.getTaskByIndex(d));return l},c.prototype._getTaskPositionByTop=function(i){var o=this._gantt,e=this._view,t=e.getItemIndexByTopPosition(i),n=o.getTaskByIndex(t);if(n){var a=e.getItemHeight(n.id);return{top:e.getItemTop(n.id)||0,height:a||0,index:t}}var r=e.getTotalHeight();return{top:i>r?r:0,height:o.config.row_height,index:i>r?o.getTaskCount():0}},c}();x.SelectedRegion=s},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(1),u=function(){function s(c){this._mouseDown=!1,this._gantt=c,this._domEvents=c._createDomEventScope()}return s.prototype.attach=function(c,i,o){var e=this,t=this._gantt,n=c.getViewPort();this._originPosition=window.getComputedStyle(n).display,this._restoreOriginPosition=function(){n.style.position=e._originPosition},this._originPosition==="static"&&(n.style.position="relative");var a=t.$services.getService("state");a.registerProvider("clickDrag",function(){return{autoscroll:!1}});var r=null;this._domEvents.attach(n,"mousedown",function(d){r=null;var f=".gantt_task_line, .gantt_task_link";o!==void 0&&(f=o instanceof Array?o.join(", "):o),f&&t.utils.dom.closest(d.target,f)||(a.registerProvider("clickDrag",function(){return{autoscroll:e._mouseDown}}),i&&d[i]!==!0||(r=e._getCoordinates(d,c)))});var l=_.getRootNode(t.$root)||document.body;this._domEvents.attach(l,"mouseup",function(d){if(r=null,(!i||d[i]===!0)&&e._mouseDown===!0){e._mouseDown=!1;var f=e._getCoordinates(d,c);c.dragEnd(f)}}),this._domEvents.attach(n,"mousemove",function(d){if(!i||d[i]===!0){var f=e._gantt.ext.clickDrag,g=(e._gantt.config.drag_timeline||{}).useKey;if(!f||!g||i||!d[g]){var p=null;if(!e._mouseDown&&r)return p=e._getCoordinates(d,c),void(Math.abs(r.relative.left-p.relative.left)>5&&r&&(e._mouseDown=!0,c.setStart(t.copy(r)),c.setPosition(t.copy(r)),c.setEnd(t.copy(r)),r=null));e._mouseDown===!0&&(p=e._getCoordinates(d,c),c.setEnd(p),c.render())}}})},s.prototype.detach=function(){var c=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),c.$services.getService("state").unregisterProvider("clickDrag")},s.prototype.destructor=function(){this.detach()},s.prototype._getCoordinates=function(c,i){var o=i.getViewPort(),e=o.getBoundingClientRect(),t=c.clientX,n=c.clientY;return{absolute:{left:t,top:n},relative:{left:t-e.left+o.scrollLeft,top:n-e.top+o.scrollTop}}},s}();x.EventsManager=u},function(S,x,h){var _=this&&this.__assign||function(){return(_=Object.assign||function(c){for(var i,o=1,e=arguments.length;o<e;o++)for(var t in i=arguments[o])Object.prototype.hasOwnProperty.call(i,t)&&(c[t]=i[t]);return c}).apply(this,arguments)};Object.defineProperty(x,"__esModule",{value:!0});var u=h(314),s=h(313);x.default=function(c){c.ext||(c.ext={});var i={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},o=new u.EventsManager(c);c.ext.clickDrag=o,c.attachEvent("onGanttReady",function(){var e=_({viewPort:c.$task_data},i);if(c.config.click_drag){var t=c.config.click_drag;e.render=t.render||i.render,e.className=t.className||i.className,e.callback=t.callback||i.callback,e.viewPort=t.viewPort||c.$task_data,e.useRequestAnimationFrame=t.useRequestAnimationFrame===void 0?i.useRequestAnimationFrame:t.useRequestAnimationFrame,e.singleRow=t.singleRow===void 0?i.singleRow:t.singleRow;var n=c.$ui.getView("timeline"),a=new s.SelectedRegion(e,c,n);c.ext.clickDrag.attach(a,t.useKey,t.ignore)}}),c.attachEvent("onDestroy",function(){o.destructor()})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0}),x.attachUIHandlers=function(_,u,s,c){var i=function(){var o,e,t=!1;function n(C,w){_.config.auto_scheduling&&!_._autoscheduling_in_progress&&(_.getState().batch_update?t=!0:_.autoSchedule(w.source))}function a(C,w){var T=_.config.auto_scheduling_use_progress;return _.config.auto_scheduling_use_progress=!1,_.isCircularLink(w)?(_.callEvent("onCircularLinkError",[w,s.getLoopContainingLink(w)]),_.config.auto_scheduling_use_progress=T,!1):(_.config.auto_scheduling_use_progress=T,!0)}function r(C,w){var T=_.getTask(w.source),E=_.getTask(w.target);return!(!_.config.auto_scheduling_descendant_links&&(_.isChildOf(T.id,E.id)&&_.isSummaryTask(E)||_.isChildOf(E.id,T.id)&&_.isSummaryTask(T)))}function l(C,w,T,E){return!!C!=!!w||!(!C&&!w)&&(C.valueOf()>w.valueOf()?_._hasDuration({start_date:w,end_date:C,task:E}):_._hasDuration({start_date:C,end_date:w,task:T}))}function d(C,w){return!!l(C.start_date,w.start_date,C,w)||_.getConstraintType(C)!==_.getConstraintType(w)||!!l(C.constraint_date,w.constraint_date,C,w)||!(!l(C.start_date,w.start_date,C,w)&&(!l(C.end_date,w.end_date,C,w)&&C.duration===w.duration||C.type===_.config.types.milestone))||void 0}function f(C){return _.config.auto_scheduling_compatibility?u.getLinkedTasks(C,!0):c.getConnectedGroupRelations(C)}function g(C,w){if(_.config.schedule_from_end){if(C.end_date.valueOf()===w.end_date.valueOf())return!0}else if(C.start_date.valueOf()===w.start_date.valueOf())return!0}function p(C){C.auto_scheduling!==!1&&(_.config.schedule_from_end?(C.constraint_type=_.config.constraint_types.FNLT,C.constraint_date=new Date(C.end_date)):(C.constraint_type=_.config.constraint_types.SNET,C.constraint_date=new Date(C.start_date)))}function v(C){_.config.auto_scheduling_compatibility&&(C.constraint_type!==_.config.constraint_types.SNET&&C.constraint_type!==_.config.constraint_types.FNLT||(C.constraint_type=null,C.constraint_date=null))}_.attachEvent("onAfterBatchUpdate",function(){t&&_.autoSchedule(),t=!1}),_.attachEvent("onAfterLinkUpdate",n),_.attachEvent("onAfterLinkAdd",n),_.attachEvent("onAfterLinkDelete",function(C,w){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress&&_.isTaskExists(w.target)){var T=_.getTask(w.target),E=_._getPredecessors(T);E.length&&(_.getState().batch_update?t=!0:_.autoSchedule(E[0].source,!1))}}),_.attachEvent("onParse",function(){_.config.auto_scheduling&&_.config.auto_scheduling_initial&&_.autoSchedule()}),_.attachEvent("onBeforeLinkAdd",a),_.attachEvent("onBeforeLinkAdd",r),_.attachEvent("onBeforeLinkUpdate",a),_.attachEvent("onBeforeLinkUpdate",r),_.attachEvent("onBeforeTaskDrag",function(C,w,T){return _.config.auto_scheduling&&_.config.auto_scheduling_move_projects&&(_.getState().drag_mode!=="progress"&&(o=f(C)),e=C),!0});var y,m=function(C,w){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){var T=_.getTask(C),E=_.config.auto_scheduling_use_progress&&w.progress===1!=(T.progress===1);d(w,T)&&(g(T,w)||p(T),_.config.auto_scheduling_move_projects&&e==C?(_.calculateDuration(w)!==_.calculateDuration(T)&&function(P,j){for(var N=!1,L=0;L<o.length;L++){var B=_.getLink(j[L].id);!B||B.type!==_.config.links.start_to_start&&B.type!==_.config.links.start_to_finish||(j.splice(L,1),L--,N=!0)}if(N){var I={};for(L=0;L<j.length;L++)I[j[L].id]=!0;var V=f(P);for(L=0;L<V.length;L++)I[V[L].id]||j.push(V[L])}}(C,o),E?_.autoSchedule():_._autoSchedule(C,o)):_.autoSchedule(T.id),v(T))}return o=null,e=null,!0},b=null;if(_.ext&&_.ext.inlineEditors){var k={start_date:!0,end_date:!0,duration:!0,constraint_type:!0,constraint_date:!0};_.ext.inlineEditors.attachEvent("onBeforeSave",function(C){if(k[C.columnName]){b=C.id,C.columnName==="constraint_type"&&(y=!0);var w=C.columnName==="duration",T=_.config.schedule_from_end&&C.columnName==="start_date",E=!_.config.schedule_from_end&&C.columnName==="end_date",P=_.config.inline_editors_date_processing!=="keepDuration";(w||P&&(T||E))&&(_.getTask(C.id).$keep_constraints=!0)}return!0})}_.attachEvent("onBeforeTaskChanged",function(C,w,T){return m(C,T)}),_.ext.inlineEditors&&_.ext.inlineEditors.attachEvent("onBeforeSave",function(C){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){var w=_.ext.inlineEditors.getEditorConfig(C.columnName);w.map_to!=="start_date"&&w.map_to!=="end_date"&&w.map_to!=="duration"||(b=C.id)}return!0}),_.attachEvent("onLightboxSave",function(C,w){if(_.config.auto_scheduling&&!_._autoscheduling_in_progress){y=!1;var T=_.getTask(C);d(w,T)&&(b=C,g(w,T)&&(w.$keep_constraints=!0),_.getConstraintType(w)===_.getConstraintType(T)&&+w.constraint_date==+T.constraint_date||(y=!0))}return!0}),_.attachEvent("onAfterTaskUpdate",function(C,w){return _.config.auto_scheduling&&!_._autoscheduling_in_progress&&b!==null&&b==C&&(b=null,w.$keep_constraints?delete w.$keep_constraints:y||p(w),_.autoSchedule(w.id),y||v(w)),!0})};_.attachEvent("onGanttReady",function(){i()},{once:!0})}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=function(){return function(u,s,c){var i=this;this.isCircularLink=function(o){return!!i.getLoopContainingLink(o)},this.getLoopContainingLink=function(o){var e=i._graphHelper,t=i._linksBuilder,n=i._gantt,a=t.getLinkedTasks();n.isLinkExists(o.id)||(a=a.concat(n._formatLink(o)));for(var r=e.findLoops(a),l=0;l<r.length;l++)for(var d=r[l].links,f=0;f<d.length;f++)if(d[f]==o.id)return r[l];return null},this.findCycles=function(){var o=i._graphHelper,e=i._linksBuilder.getLinkedTasks();return o.findLoops(e)},this._linksBuilder=c,this._graphHelper=s,this._gantt=u}}();x.LoopsFinder=_},function(S,x,h){function _(s,c,i){for(var o,e=[s],t=[],n={},a={};e.length>0;)if(!i[o=e.shift()]){i[o]=!0,t.push(o);for(var r=0;r<c.length;r++){var l=c[r];l.source==o||l.sourceParent==o?(i[l.target]||(e.push(l.target),a[l.id]=!0,c.splice(r,1),r--),n[l.hashSum]=l):l.target!=o&&l.targetParent!=o||(i[l.source]||(e.push(l.source),a[l.id]=!0,c.splice(r,1),r--),n[l.hashSum]=l)}}var d=[],f=[];for(var r in a)d.push(r);for(var r in n)f.push(n[r]);return{tasks:t,links:d,processedLinks:f}}Object.defineProperty(x,"__esModule",{value:!0});var u=function(){return function(s,c){var i=this;this.getConnectedGroupRelations=function(o){return _(o,i._linksBuilder.getLinkedTasks(),{}).processedLinks},this.getConnectedGroup=function(o){var e=i._linksBuilder.getLinkedTasks();if(o!==void 0){if(i._gantt.getTask(o).type===i._gantt.config.types.project)return{tasks:[],links:[]};var t=_(o,e,{});return{tasks:t.tasks,links:t.links}}return function(n){for(var a,r,l,d={},f=[],g=0;g<n.length;g++)if(a=n[g].source,r=n[g].target,l=null,d[a]?d[r]||(l=r):l=a,l){var p=n.length;f.push(_(l,n,d)),p!==n.length&&(g=-1)}return f}(e).map(function(n){return{tasks:n.tasks,links:n.links}})},this._linksBuilder=c,this._gantt=s}}();x.ConnectedGroupsHelper=u},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(72),u=h(23),s=function(){function c(){}return c.Create=function(i){var o=new c;return o._gantt=i,o._comparator=new _.default(i),o},c.prototype.resolveRelationDate=function(i,o,e){for(var t=null,n=null,a=null,r=this._gantt.getTask(i),l=o.predecessors,d=null,f=0;f<l.length;f++){var g=l[f];a=g.preferredStart;var p=this.getEarliestStartDate(g,e,r);this._comparator.isSmallerOrDefault(d,p,r)&&(d=p),this._comparator.isSmallerOrDefault(a,p,r)&&this._comparator.isSmallerOrDefault(t,p,r)&&(t=p,n=g.id)}!l.length&&this._gantt.config.project_start&&((this._comparator.isSmallerOrDefault(r.start_date,this._gantt.config.project_start,r)||this._gantt.config.auto_scheduling_strict&&this._comparator.isGreaterOrDefault(r.start_date,this._gantt.config.project_start,r))&&(t=this._gantt.config.project_start),this._gantt.callEvent("onBeforeTaskAutoSchedule",[r,r.start_date])===!1&&(t=r.start_date));var v=null;t&&(r.duration?(t=this._gantt.getClosestWorkTime({date:t,dir:"future",task:r}),v=this._gantt.calculateEndDate({start_date:t,duration:r.duration,task:r})):t=v=this._gantt.getClosestWorkTime({date:t,dir:"past",task:r}));var y=e[i],m=u.TaskPlan.Create(y);return m.link=n,m.task=i,m.start_date=t,m.end_date=v,m.kind="asap",d&&(m.earliestSchedulingStart=d,m.earliestSchedulingEnd=this._gantt.calculateEndDate({start_date:d,duration:r.duration,task:r})),m},c.prototype.getPredecessorEndDate=function(i,o){var e=o[i],t=this._gantt.getTask(i);return e&&(e.start_date||e.end_date)?e.end_date?e.end_date:this._gantt.calculateEndDate({start_date:e.start_date,duration:t.duration,task:t}):t.end_date},c.prototype.getEarliestStartDate=function(i,o,e){var t,n=this.getPredecessorEndDate(i.source,o),a=e,r=this._gantt.getTask(i.source);if(n&&i.lag&&1*i.lag==1*i.lag)t=this._gantt.getClosestWorkTime({date:n,dir:"future",task:r}),i.sourceLag&&(t=this._gantt.calculateEndDate({start_date:t,duration:1*i.sourceLag,task:r})),i.targetLag&&(t=this._gantt.calculateEndDate({start_date:t,duration:1*i.targetLag,task:a})),t=this._gantt.calculateEndDate({start_date:t,duration:1*i.trueLag,task:a});else{var l=this._gantt.getLink(i.id).type===this._gantt.config.links.finish_to_finish;t=!a.duration&&l?this._gantt.getClosestWorkTime({date:n,dir:"past",task:a}):this._gantt.getClosestWorkTime({date:n,dir:"future",task:a})}return t},c}();x.AsapStrategy=s},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(72),u=h(23),s=function(){function c(){}return c.Create=function(i){var o=new c;return o._gantt=i,o._comparator=new _.default(i),o},c.prototype.resolveRelationDate=function(i,o,e){for(var t=null,n=null,a=null,r=null,l=this._gantt.getTask(i),d=o.successors,f=null,g=e[i],p=0;p<d.length;p++){var v=d[p];r=v.preferredStart;var y=this.getLatestEndDate(v,e,l),m=this._gantt.calculateEndDate({start_date:y,duration:-l.duration,task:l});this._comparator.isGreaterOrDefault(f,y,l)&&(f=y),this._comparator.isGreaterOrDefault(r,m,l)&&this._comparator.isGreaterOrDefault(t,y,l)&&(t=y,a=m,n=v.id)}!d.length&&this._gantt.config.project_end&&(this._comparator.isGreaterOrDefault(this._gantt.config.project_end,l.end_date,l)&&(t=this._gantt.config.project_end),this._gantt.callEvent("onBeforeTaskAutoSchedule",[l,l.end_date])===!1&&(t=l.end_date)),t&&(l.duration?(t=this._gantt.getClosestWorkTime({date:t,dir:"future",task:l}),a=this._gantt.calculateEndDate({start_date:t,duration:-l.duration,task:l})):a=t=this._gantt.getClosestWorkTime({date:t,dir:"past",task:l}));var b=u.TaskPlan.Create(g);return b.link=n,b.task=i,b.end_date=t,b.start_date=a,b.kind="alap",f&&(b.latestSchedulingStart=this._gantt.calculateEndDate({start_date:f,duration:-l.duration,task:l}),b.latestSchedulingEnd=f),b},c.prototype.getSuccessorStartDate=function(i,o){var e=o[i],t=this._gantt.getTask(i);return e&&(e.start_date||e.end_date)?e.start_date?e.start_date:this._gantt.calculateEndDate({start_date:e.end_date,duration:-t.duration,task:t}):t.start_date},c.prototype.getLatestEndDate=function(i,o,e){var t=this.getSuccessorStartDate(i.target,o),n=e,a=this._gantt.getClosestWorkTime({date:t,dir:"past",task:n});return a&&i.lag&&1*i.lag==1*i.lag&&(a=this._gantt.calculateEndDate({start_date:a,duration:1*-i.lag,task:n})),a},c}();x.AlapStrategy=s},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(320),u=h(319),s=h(36),c=h(23),i=function(){function o(e,t,n){this._gantt=e,this._constraintsHelper=n,this._graphHelper=t,this._asapStrategy=u.AsapStrategy.Create(e),this._alapStrategy=_.AlapStrategy.Create(e)}return o.prototype.generatePlan=function(e,t){var n=this._graphHelper,a=this._gantt,r=this._constraintsHelper,l=this._alapStrategy,d=this._asapStrategy,f=this.buildWorkCollections(e,t,n),g=f.orderedIds,p=f.reversedIds,v=f.relationsMap,y=f.plansHash;return this.processConstraints(g,y,a,r),a.config.schedule_from_end?this.iterateTasks(p,g,r.isAlapTask,l,d,v,y):this.iterateTasks(g,p,r.isAsapTask,d,l,v,y)},o.prototype.applyProjectPlan=function(e){for(var t,n,a,r,l=this._gantt,d=[],f=0;f<e.length;f++)if(a=null,r=null,t=e[f],l.isTaskExists(t.task)){n=l.getTask(t.task),t.link&&(a=l.getLink(t.link),r=t.kind==="asap"?this._gantt.getTask(a.source):this._gantt.getTask(a.target));var g=null;t.start_date&&n.start_date.valueOf()!==t.start_date.valueOf()&&(g=t.start_date),g&&(n.start_date=g,n.end_date=l.calculateEndDate(n),d.push(n.id),l.callEvent("onAfterTaskAutoSchedule",[n,g,a,r]))}return d},o.prototype.iterateTasks=function(e,t,n,a,r,l,d){for(var f=this._gantt,g=[],p=0;p<e.length;p++){var v=e[p];if((m=f.getTask(v)).auto_scheduling!==!1){var y=a.resolveRelationDate(v,l[v],d);this.limitPlanDates(m,y),n(m)?this.processResolvedDate(m,y,g,d):d[m.id]=y}}for(p=0;p<t.length;p++){var m;v=t[p],(m=f.getTask(v)).auto_scheduling!==!1&&!n(m)&&(y=r.resolveRelationDate(v,l[v],d),this.limitPlanDates(m,y),this.processResolvedDate(m,y,g,d))}return g},o.prototype.processResolvedDate=function(e,t,n,a){if(t.start_date&&this._gantt.isLinkExists(t.link)){var r=null,l=null;if(t.link&&(r=this._gantt.getLink(t.link),l=t.kind==="asap"?this._gantt.getTask(r.source):this._gantt.getTask(r.target)),e.start_date.valueOf()!==t.start_date.valueOf()&&this._gantt.callEvent("onBeforeTaskAutoSchedule",[e,t.start_date,r,l])===!1)return}a[e.id]=t,t.start_date&&n.push(t)},o.prototype.limitPlanDates=function(e,t){var n=t.start_date||e.start_date;return t.earliestStart&&n<t.earliestStart&&(t.start_date=t.earliestStart,t.end_date=t.earliestEnd),t.latestStart&&n>t.latestStart&&(t.start_date=t.latestStart,t.end_date=t.latestEnd),t.latestSchedulingStart&&n>t.latestSchedulingStart&&(t.start_date=t.latestSchedulingStart,t.end_date=t.latestSchedulingEnd),t.earliestSchedulingStart&&n<t.earliestSchedulingStart&&(t.start_date=t.earliestSchedulingStart,t.end_date=t.earliestSchedulingEnd),t.start_date&&(t.start_date>t.latestSchedulingStart||t.start_date<t.earliestSchedulingStart||t.start_date>t.latestStart||t.start_date<t.earliestStart||t.end_date>t.latestSchedulingEnd||t.end_date<t.earliestSchedulingEnd||t.end_date>t.latestEnd||t.end_date<t.earliestEnd)&&(t.conflict=!0),t},o.prototype.buildWorkCollections=function(e,t,n){for(var a=this._gantt,r=n.topologicalSort(e),l=r.slice().reverse(),d={},f={},g=0,p=r.length;g<p;g++){var v=r[g];(y=a.getTask(v)).auto_scheduling!==!1&&(f[v]={successors:[],predecessors:[]},d[v]=null)}for(g=0,p=t.length;g<p;g++){var y;d[(y=t[g]).id]===void 0&&(l.unshift(y.id),r.unshift(y.id),d[y.id]=null,f[y.id]={successors:[],predecessors:[]})}for(g=0,p=e.length;g<p;g++){var m=e[g];f[m.source]&&f[m.source].successors.push(m),f[m.target]&&f[m.target].predecessors.push(m)}return{orderedIds:r,reversedIds:l,relationsMap:f,plansHash:d}},o.prototype.processConstraints=function(e,t,n,a){for(var r=0;r<e.length;r++){var l=e[r],d=n.getTask(l),f=a.getConstraintType(d);if(f&&f!==s.ConstraintTypes.ASAP&&f!==s.ConstraintTypes.ALAP){var g=a.processConstraint(d,c.TaskPlan.Create());t[d.id]=g}}},o}();x.AutoSchedulingPlanner=i},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(2),u=h(36),s=h(23),c=function(){function i(o){var e=this;this.isAsapTask=function(t){var n=e.getConstraintType(t);return e._gantt.config.schedule_from_end?n===u.ConstraintTypes.ASAP:n!==u.ConstraintTypes.ALAP},this.isAlapTask=function(t){return!e.isAsapTask(t)},this.getConstraintType=function(t){if(t.auto_scheduling!==!1){var n=e._getTaskConstraint(t);return n.constraint_type?n.constraint_type:e._gantt.config.schedule_from_end?u.ConstraintTypes.ALAP:u.ConstraintTypes.ASAP}},this._getTaskConstraint=function(t){var n=e._getOwnConstraint(t);if(e._gantt.config.auto_scheduling_project_constraint){var a=u.ConstraintTypes.ASAP;e._gantt.config.schedule_from_end&&(a=u.ConstraintTypes.ALAP),(n&&n.constraint_type)!==a&&n||(n=e._getParentConstraint(t))}return n},this._getOwnConstraint=function(t){return{constraint_type:t.constraint_type,constraint_date:t.constraint_date}},this._getParentConstraint=function(t){var n=u.ConstraintTypes.ASAP;e._gantt.config.schedule_from_end&&(n=u.ConstraintTypes.ALAP);var a={constraint_type:n,constraint_date:null};return e._gantt.eachParent(function(r){a.constraint_type===n&&r.constraint_type&&r.constraint_type!==n&&(a={constraint_type:r.constraint_type,constraint_date:r.constraint_date})},t.id),a},this.hasConstraint=function(t){return!!e.getConstraintType(t)},this.processConstraint=function(t,n){var a=e._getTaskConstraint(t);if(a&&!(a.constraint_type===u.ConstraintTypes.ALAP||a.constraint_type===u.ConstraintTypes.ASAP)){if(_.isValidDate(a.constraint_date)){var r=a.constraint_date,l=s.TaskPlan.Create(n);switch(l.task=t.id,a.constraint_type){case u.ConstraintTypes.SNET:l.earliestStart=new Date(r),l.earliestEnd=e._gantt.calculateEndDate({start_date:l.earliestStart,duration:t.duration,task:t}),l.link=null;break;case u.ConstraintTypes.SNLT:l.latestStart=new Date(r),l.latestEnd=e._gantt.calculateEndDate({start_date:l.latestStart,duration:t.duration,task:t}),l.link=null;break;case u.ConstraintTypes.FNET:l.earliestStart=e._gantt.calculateEndDate({start_date:r,duration:-t.duration,task:t}),l.earliestEnd=new Date(r),l.link=null;break;case u.ConstraintTypes.FNLT:l.latestStart=e._gantt.calculateEndDate({start_date:r,duration:-t.duration,task:t}),l.latestEnd=new Date(r),l.link=null;break;case u.ConstraintTypes.MSO:l.earliestStart=new Date(r),l.earliestEnd=e._gantt.calculateEndDate({start_date:l.earliestStart,duration:t.duration,task:t}),l.latestStart=l.earliestStart,l.latestEnd=l.earliestEnd,l.link=null;break;case u.ConstraintTypes.MFO:l.earliestStart=e._gantt.calculateEndDate({start_date:r,duration:-t.duration,task:t}),l.earliestEnd=e._gantt.calculateEndDate({start_date:l.earliestStart,duration:t.duration,task:t}),l.latestStart=l.earliestStart,l.latestEnd=l.earliestEnd,l.link=null}return l}}return n},this.getConstraints=function(t,n){var a,r=[],l={},d=function(y){l[y.id]||e.hasConstraint(y)&&!e._gantt.isSummaryTask(y)&&(l[y.id]=y)};if(e._gantt.isTaskExists(t)){var f=e._gantt.getTask(t);d(f)}if(e._gantt.eachTask(function(y){return d(y)},t),n)for(var g=0;g<n.length;g++){var p=n[g];l[p.target]||(a=e._gantt.getTask(p.target),d(a)),l[p.source]||(a=e._gantt.getTask(p.source),d(a))}for(var v in l)l[v].type!==e._gantt.config.types.placeholder&&r.push(l[v]);return r},this._gantt=o}return i.Create=function(o){return new i(o)},i}();x.ConstraintsHelper=c},function(S,x,h){S.exports=function(_){h(76)(_),h(75)(_);var u=h(74)(_),s=h(73)(_),c=h(36).ConstraintTypes,i=h(322).ConstraintsHelper.Create(_),o=new(h(321)).AutoSchedulingPlanner(_,s,i),e=new(h(318)).ConnectedGroupsHelper(_,u),t=new(h(317)).LoopsFinder(_,s,u);_.getConnectedGroup=e.getConnectedGroup,_.getConstraintType=i.getConstraintType,_.getConstraintLimitations=function(a){var r=i.processConstraint(a,null);return r?{earliestStart:r.earliestStart||null,earliestEnd:r.earliestEnd||null,latestStart:r.latestStart||null,latestEnd:r.latestEnd||null}:{earliestStart:null,earliestEnd:null,latestStart:null,latestEnd:null}},_.isCircularLink=t.isCircularLink,_.findCycles=t.findCycles,_.config.constraint_types=c,_.config.auto_scheduling=!1,_.config.auto_scheduling_descendant_links=!1,_.config.auto_scheduling_initial=!0,_.config.auto_scheduling_strict=!1,_.config.auto_scheduling_move_projects=!0,_.config.project_start=null,_.config.project_end=null,_.config.schedule_from_end=!1;var n=!1;_.attachEvent("onParse",function(){return n=!0,!0}),_.attachEvent("onBeforeGanttRender",function(){return n=!1,!0}),_._autoSchedule=function(a,r){if(_.callEvent("onBeforeAutoSchedule",[a])!==!1){_._autoscheduling_in_progress=!0;var l=i.getConstraints(a,_.isTaskExists(a)?r:null),d=[],f=s.findLoops(r);if(f.length)_.callEvent("onAutoScheduleCircularLink",[f]);else{(function(p,v){if(_.config.auto_scheduling_compatibility)for(var y=0;y<v.length;y++){var m=v[y],b=_.getTask(m.target);_.config.auto_scheduling_strict&&m.target!=p||(m.preferredStart=new Date(b.start_date))}})(a,r);var g=o.generatePlan(r,l);(function(p){p.length&&_.batchUpdate(function(){for(var v=0;v<p.length;v++)_.updateTask(p[v])},n)})(d=o.applyProjectPlan(g))}_._autoscheduling_in_progress=!1,_.callEvent("onAfterAutoSchedule",[a,d])}},_.autoSchedule=function(a,r){var l;r=r===void 0||!!r,l=a!==void 0?_.config.auto_scheduling_compatibility?u.getLinkedTasks(a,r):e.getConnectedGroupRelations(a):u.getLinkedTasks(),_._autoSchedule(a,l)},_.attachEvent("onTaskLoading",function(a){return a.constraint_date&&typeof a.constraint_date=="string"&&(a.constraint_date=_.date.parseDate(a.constraint_date,"parse_date")),a.constraint_type=_.getConstraintType(a),!0}),_.attachEvent("onTaskCreated",function(a){return a.constraint_type=_.getConstraintType(a),!0}),(0,h(316).attachUIHandlers)(_,u,t,e)}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(323),u=h(315),s=h(312),c=h(309),i=h(307),o=h(287),e=h(286),t=h(285),n=h(274),a=h(273),r=h(272),l=h(271),d=h(269),f=h(266);x.default={auto_scheduling:_,click_drag:u.default,critical_path:s,drag_timeline:c.default,fullscreen:o.default,keyboard_navigation:t,quick_info:l.default,tooltip:d.default,undo:f.default,grouping:e,marker:n,multiselect:a,overlay:r,export_api:i.default}},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(324),u=h(263),s=h(262),c=new u.default(s,_.default);x.Gantt=c;var i=c.getGanttInstance();x.gantt=i},function(S,x,h){Object.defineProperty(x,"__esModule",{value:!0});var _=h(325);x.gantt=_.gantt,x.Gantt=_.Gantt;var u=h(17);u.gantt=_.gantt,u.Gantt=_.Gantt,x.default=_.gantt}])})})(de);var Me=de.exports;const je=(z,A,S,x)=>{var _;let h=(_=A.date)==null?void 0:_.date_to_str("%j %D")(z);return S.todayLine&&A.date.date_part(new Date).getTime()===z.getTime()&&(h=x("project.wbs.today")),h},Ne=(z,A,S)=>{let x="";if(S.todayLine&&A.date.date_part(new Date).getTime()===z.getTime()&&(x="today_text"),S.showStartEndDateLine&&A.config.project_start){let h=Ot(A.config.project_start);h=A.date.date_part(h),h.getTime()===z.getTime()&&(x="start_date_text")}return x},Re=(z,A,S)=>{const x=Qt(()=>A("project.wbs.week")),h=Qt(()=>A("project.wbs.second"));return{levels:[{name:"hour",scale_height:65,scales:[{unit:"day",step:1,format:"%Y-%m-%d"},{unit:"hour",step:1,format:"%H:%i"},{unit:"minute",step:15,format:"%i"}]},{name:"day",scale_height:50,min_column_width:60,scales:[{unit:"day",step:1,format:"%Y-%m-%d"},{unit:"hour",step:1,format:"%H:%i"}]},{name:"week",scale_height:50,min_column_width:50,scales:[{unit:"week",step:1,format:_=>{const u=z.date.date_to_str("%Y-%m-%d"),s=z.date.getWeek(_),c=z.date.week_start(_),i=z.date.add(c,6,"day");return s+x.value+", "+u(c)+" / "+u(i)}},{unit:"day",step:1,format:_=>je(_,z,S,A),css:_=>Ne(_,z,S)}]},{name:"month",scale_height:50,min_column_width:120,scales:[{unit:"month",format:"%Y-%M"},{unit:"week",format:_=>{const u=z.date.date_to_str("%W")(_);return h.value+u+x.value}}]},{name:"quarter",scale_height:50,min_column_width:90,scales:[{unit:"month",step:1,format:"%M"},{unit:"quarter",step:1,format:_=>{const u=z.date.date_to_str("%Y-%M"),s=z.date.add(z.date.add(_,3,"month"),-1,"day");return u(_)+" - "+u(s)}}]},{name:"year",scale_height:50,min_column_width:30,scales:[{unit:"year",step:1,format:"%Y"}]}]}},Oe=(z=10)=>new Promise(A=>{const S=setTimeout(()=>{A(!0),clearTimeout(S)},z)});async function Et(z){await we(),await Oe(),typeof z=="function"&&z()}function Be(z){return{all:z=z||new Map,on:function(A,S){var x=z.get(A);x?x.push(S):z.set(A,[S])},off:function(A,S){var x=z.get(A);x&&(S?x.splice(x.indexOf(S)>>>0,1):z.set(A,[]))},emit:function(A,S){var x=z.get(A);x&&x.slice().map(function(h){h(S)}),(x=z.get("*"))&&x.slice().map(function(h){h(A,S)})}}}const Dt=Be(),Ie=(z,A,S)=>{const{t:x}=Lt();let[h,_]=[{},{}],[u,s,c]=["","",""];z.selectedFalg&&(h=Ot(A.config.columns[0])),z.selectedFalg&&z.columnAddFlag&&(_=Ot(A.config.columns[1])),!z.selectedFalg&&z.columnAddFlag&&(_=Ot(A.config.columns[0]));const i={zhs:"cn","zh-TW":"cn","zh-CN":"cn",en:"en","en-US":"en","pt-BR":"pt"};let o=null,e=null;const t=()=>A,n=()=>"base_gantt_"+S.uuid,a=()=>{A.refreshData()},r=()=>{Et(()=>{A.render()})},l=()=>{Et(()=>{A.resetLayout()})},d=()=>A.config,f=tt=>{A.config=tt},g=()=>{A.config.undo_steps=z.undoSteps,A.config.undo_types={link:"link",task:"task"},A.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"}},p=(tt,it=!1)=>{tt&&i[tt]&&(A.i18n.setLocale(i[tt]),it&&r())},v=()=>A.config.columns,y=tt=>{if(tt.name===S.constantObj.CHECKBOXNAME||tt.name===S.constantObj.ADDNAME)return;const it=A.config.columns.findIndex(at=>at.name===tt.name);it>-1&&(A.config.columns.splice(it,1,tt),r())},m=tt=>{Object.prototype.toString.call(tt)==="[object Array]"&&(z.columnsReactiveFlag?(A.config.columns.length=0,tt.forEach(it=>{A.config.columns.push(it)})):A.config.columns=tt,z.columnAddFlag&&Object.keys(_).length!==0&&A.config.columns.unshift(_),z.selectedFalg&&Object.keys(h).length!==0&&A.config.columns.unshift(h),r())},b=(tt,it=-1)=>{Object.prototype.toString.call(tt)==="[object Array]"&&tt.forEach(at=>{const Z=A.config.columns.findIndex(et=>et.name===at.name);Z!==-1?Object.assign(A.config.columns[Z],at):A.config.columns.push(at)}),Object.prototype.toString.call(tt)==="[object Object]"&&(it===-1?A.config.columns.push(tt):A.config.columns.splice(it,0,tt)),r()},k=tt=>{Object.prototype.toString.call(tt)==="[object Array]"&&(tt.forEach(it=>{A.config.columns.forEach(at=>{it.name===at.name&&(at.hide=it.hide)})}),r())},C=()=>{z.columnsReactiveFlag?(A.config.columns.length=0,S.columnsWithBackUp.forEach(tt=>{A.config.columns.push(tt)})):A.config.columns=S.columnsWithBackUp,z.columnAddFlag&&Object.keys(_).length!==0&&A.config.columns.unshift(_),z.selectedFalg&&Object.keys(h).length!==0&&A.config.columns.unshift(h),r()},w=tt=>{if(tt===S.constantObj.CHECKBOXNAME||tt===S.constantObj.ADDNAME)return;const it=A.config.columns.findIndex(at=>at.name===tt);it>-1&&(A.config.columns.splice(it,1),r())},T=()=>{z.columnsReactiveFlag?A.config.columns.length=0:A.config.columns=[],z.columnAddFlag&&Object.keys(_).length!==0&&A.config.columns.unshift(_),z.selectedFalg&&Object.keys(h).length!==0&&A.config.columns.unshift(h),r()},E=tt=>{var it;if(tt.uniqueKey===S.uuid){const at=(it=z==null?void 0:z.data)==null?void 0:it.data.length;if(tt.selectedAll)for(let Z=0;Z<at;Z++)z.data.data[Z].selected=!0;else for(let Z=0;Z<at;Z++)z.data.data[Z].selected=!1;A.refreshData()}},P=()=>{const tt=[];return z.selectedFalg&&z.data.data.forEach(it=>{it.selected&&tt.push(it.id)}),tt},j=()=>{const tt=[];if(z.selectedFalg){const it=A.serialize();it==null||it.data.forEach(at=>{at.selected&&tt.push(at)})}return tt},N=()=>{z.enableChartGridSwitch&&(A.config.layout=De,A.config.scroll_on_click=!1,Q(-1),l(),Et(()=>{S.chartFlag.value=!1}))},L=()=>{z.enableChartGridSwitch&&(A.config.layout=Ae,A.config.scroll_on_click=z.scrollOnClick,Q(-1),l(),Et(()=>{S.chartFlag.value=!0}))},B=()=>{z.enableChartGridSwitch&&(A.config.layout=ue,A.config.scroll_on_click=z.scrollOnClick,Q(-1),l(),z.defaultHideChart&&(D(),M()),Et(()=>{S.chartFlag.value=!0}))},I=(tt=!0)=>{const it=new Date;tt?(e&&A.deleteMarker(e),e=A.addMarker({start_date:it,css:"today"})):e&&A.deleteMarker(e)},V=tt=>{A.config.highlight_critical_path=tt,r()},Y=tt=>{A.batchUpdate(()=>{A.eachTask(it=>{const at=A.calculateTaskLevel(it);tt===0||at<tt?A.open(it.id):A.close(it.id)})})},H=tt=>{A.batchUpdate(()=>{A.eachTask(it=>{const at=A.calculateTaskLevel(it);tt-1<at&&A.close(it.id)})})},F=(tt,it)=>{if(tt){const at=Ot(tt.items);A.attachEvent("onContextMenu",(Z,et,ot)=>{var st;if(A.ext.tooltips.tooltip.hide(),Z){Gt.removeMenu(),tt.items=at;const dt=A.getTask(Z);return z.fineTuning?it&&(tt.items=it(dt,tt.items)):dt!=null&&dt.isRoot&&(tt.items=tt.items.filter(ft=>ft.rootShow!==!1)),A.selectTask(Z),tt!=null&&tt.items&&((st=tt==null?void 0:tt.items)==null?void 0:st.length)>0&&(tt==null||tt.items.forEach(ft=>{ft.item=dt})),Gt.creatMenu(ot,tt),!0}return!1}),A.attachEvent("onGanttScroll",(Z,et)=>{var ot;tt!=null&&tt.items&&((ot=tt==null?void 0:tt.items)==null?void 0:ot.length)>0&&Gt.removeMenu()})}},G=()=>{const tt={init:it=>{A.attachEvent("onEmptyClick",()=>(it.save(),it.hide(),!0)),A.attachEvent("onBeforeLightbox",()=>(it.save(),it.hide(),!0)),A.attachEvent("onBeforeTaskSelected",at=>(it.save(),it.hide(),!0)),A.attachEvent("onBeforeTaskDrag",(at,Z,et)=>(it.save(),it.hide(),!0))},onShow:(it,at)=>{var Z,et;at.children&&at.children.length>0&&at.children[0].children&&at.children[0].children.length>0&&((Z=at.children[0].children[0])==null?void 0:Z.nodeName)==="INPUT"&&((et=at.children[0].children[0])==null||et.setAttribute("autocomplete","off")),at.onkeydown=ot=>{if(ot!=null&&ot.defaultPrevented)return;let st=!0;switch(ot.keyCode){case 13:it.save(),it.hide();break;default:st=!1;break}st&&ot.preventDefault()}}};A.ext.inlineEditors.setMapping(tt)},R=()=>{o&&(document.head.removeChild(o),o=null);const tt=document.querySelector("#"+n()+" .gantt_hor_scroll");tt&&tt.removeEventListener("scroll",K)},K=tt=>{document.querySelector("#"+n()).style.setProperty("--gantt-frozen-column-scroll-left",tt.target.scrollLeft+"px")},Q=tt=>{if(R(),A.config.columns.filter(et=>!et.hide).forEach((et,ot)=>{et._freeze=tt===ot}),tt<0)return;o=document.createElement("style"),document.head.appendChild(o);const it=o.sheet,at=` #${n()}`;for(let et=0;et<=tt;et++)it.insertRule(`
        ${at} .gantt_grid_editor_placeholder[data-column-index="${et}"] {
          transform: translateX(var(--gantt-frozen-column-scroll-left));
          z-index: 2;
        }`),it.insertRule(`${at} .gantt_cell[data-column-index="${et}"] {
          transform: translateX(var(--gantt-frozen-column-scroll-left));
          ${tt==et&&"border-right: 1px solid #ebebeb;"};
          background-color: inherit;
          z-index: 1;
        }`),it.insertRule(`${at} .gantt_grid_scale .gantt_grid_head_cell[data-column-index="${et}"] {
          transform: translateX(var(--gantt-frozen-column-scroll-left));
          ${tt==et&&"border-right: 1px solid #ebebeb !important;"};
          background-color: inherit;
          z-index: 1;
        }`);const Z=document.querySelector(at+" .gantt_hor_scroll");Z&&(K({target:Z}),Z.addEventListener("scroll",K))},W=()=>{A.templates.grid_date_format=(tt,it)=>{if(it==="start_date"||it==="end_date"||it==="constraint_date"){if(z.durationUnit==="day")return tt?Pt(tt).format(S.dayDateFormat):"--";if(z.durationUnit==="minute")return tt?Pt(tt).format(S.dateFormat):"--"}}},O=()=>{z.showEmptyState&&(A.config.show_empty_state=z.showEmptyState,A.ext.emptyStateElement.renderContent=function(tt){return tt.innerHTML=`<div class='gantt_empty_state'>
                  <div class='gantt_empty_state_image'></div>
                  <div class='gantt_empty_state_text'>
                    <div class='gantt_empty_state_text_link' data-empty-state-create-task>${x("project.wbs.createTask")}</div>
                    <div class='gantt_empty_state_text_description'>${x("project.wbs.createTaskDescription")}</div>
                  </div>
                </div>`,tt},A.render())},$=(tt=!1,it=[0,6])=>{const at=[3,4,5],Z=[2,3,4,5],et=[1,2,3,4,5];A.templates.timeline_cell_class=(ot,st)=>{const dt=A.ext.zoom.getCurrentLevel(),ft=A.getTaskCalendar(ot);if(tt){const ut=[];return at.indexOf(dt)===-1&&(ft.isWorkTime(st,"day")||ut.push("week_end"),Z.indexOf(dt)===-1&&(ft.isWorkTime(st,"hour")||ut.push("no_work_hour")),et.indexOf(dt)===-1&&(ft.isWorkTime(st,"minute")||ut.push("no_work_minute"))),ut.join(" ")}else if(it.indexOf(st.getDay())!==-1&&at.indexOf(dt)===-1)return"week_end"}},D=()=>{z.highlightDragPosition&&(A.templates.drag_date=A.date.date_to_str(A.config.drag_date),u&&A.removeTaskLayer(u),u=A.addTaskLayer({renderer:tt=>{const it=A.getTaskPosition(tt,tt.start_date,tt.end_date),at=document.createElement("div");return z.showDragVertical&&U({css:"drag_move_vertical",left:it.left+"px",top:0,width:it.width+"px",height:A.getVisibleTaskCount()*A.config.row_height+"px",wrapper:at}),z.showDragHorizontal&&U({css:"drag_move_horizontal",left:0,top:it.top+"px",width:"100%",height:A.config.row_height-1+"px",wrapper:at}),at},filter:tt=>A.config.show_drag_vertical&&tt.id==A.getState().drag_id}),s&&A.removeTaskLayer(s),s=A.addTaskLayer({renderer:tt=>{const it=A.getTaskPosition(tt,tt.start_date,tt.end_date),at=document.createElement("div");U({css:"drag_move_start drag_date",left:it.left-A.config.drag_label_width+"px",top:it.top+"px",width:A.config.drag_label_width+"px",height:A.config.row_height-1+"px",html:A.templates.drag_date(tt.start_date),wrapper:at});const Z=X(tt);let et=it.left+it.width;return Z==="right"&&(tt.text.length*A.config.font_width_ratio>160?et+=130:et+=tt.text.length*A.config.font_width_ratio+20),U({css:"drag_move_end drag_date",left:et+"px",top:it.top+"px",width:A.config.drag_label_width+"px",height:A.config.row_height-1+"px",html:A.templates.drag_date(tt.end_date),wrapper:at}),at},filter:tt=>A.config.show_drag_dates&&tt.id==A.getState().drag_id}))},M=()=>{z.enableMilestoneLine&&(c&&A.removeTaskLayer(c),c=A.addTaskLayer({renderer:{render:tt=>{if((tt==null?void 0:tt.type)=="milestone"){const it=A.getTaskPosition(tt,tt.start_date,tt.end_date),at=document.createElement("div");return at.className="milestone-line",at.style.left=it.left+"px",at.style.width="0px",at.style.height=A.getVisibleTaskCount()*A.config.row_height+"px",at.style.top="0px",at}return!1},getRectangle:(tt,it)=>{const at=A.getTaskPosition(tt,tt.start_date,tt.end_date);return at.top=0,at.height=1/0,at}}}))},U=tt=>{const it=document.createElement("div");return it.style.position="absolute",it.className=tt.css||"",it.style.left=tt.left,it.style.width=tt.width,it.style.height=tt.height,it.style.lineHeight=tt.height,it.style.top=tt.top,tt.html&&(it.innerHTML=tt.html),tt.wrapper&&tt.wrapper.appendChild(it),it},q=()=>{A.config.font_width_ratio=7,A.templates.rightside_text=(tt,it,at)=>X(at)==="right"?at.text:"",A.templates.task_text=(tt,it,at)=>X(at)==="center"?at.text:""},X=tt=>{var ot;const[it,at]=[A.posFromDate(tt.start_date),A.posFromDate(tt.end_date)],Z=at-it,et=((ot=tt.text||"")==null?void 0:ot.length)*A.config.font_width_ratio+36;if(Z<et){const st=A.getState().max_date;return A.posFromDate(st)-at<et?"center":"right"}else return"center"};return{getBaseGanttId:n,getBaseGanttInstance:t,renderBaseGantt:r,refreshBaseGanttData:a,getBaseGanttConfig:d,setBaseGanttConfig:f,setLocalization:p,getBaseGanttColumns:v,setBaseGanttUndoAndRedo:g,updateBaseGanttColumns:y,batchSetBaseGanttColumns:m,resetBaseGanttColumns:C,appendBaseGanttColumns:b,deleteBaseGanttColumns:w,deleteAllBaseGanttColumns:T,handleSelectAllRows:E,getBaseGanttSelectedIds:P,getBaseGanttSelectedRows:j,setBaseGanttColumnsDisplay:k,hideBaseGanttChart:N,hideBaseGanttGrid:L,showBaseGanttChartGrid:B,switchBaseGanttTodayLine:I,toggleCriticalPath:V,expandBaseGanttLevel:Y,collapseBaseGanttLevel:H,setBaseGanttContextMenu:F,improveInlineEditor:G,freezeBaseGanttColumns:Q,removeCustomFreezeStyleRules:R,formatGridDateColumns:W,setBaseGanttEmptyState:O,setNoWorkTimeClass:$,setBaseGanttSubTaskCSS:()=>{A.templates.grid_row_class=(tt,it,at)=>{const Z=[];return A.hasChild(at.id)&&Z.push("task-parent"),z.enableMilestoneBgColor&&at.type==="milestone"&&Z.push("task-milestone"),Z.join(" ")}},setBaseGanttMilestoneCSS:()=>{A.templates.task_row_class=(tt,it,at)=>{const Z=[];return at.type==="milestone"&&Z.push("task-milestone"),Z.join(" ")}},highlightDragPosition:D,setMilestoneHelperLine:M,dynamicTaskTextPosition:q,initBaseGanttZoomConfig:(tt=null)=>{const it=tt||Re(A,x,z);A.ext.zoom.init(it)},setBaseGanttZoom:(tt=z.defaultZoom)=>{Ut[tt]>=z.limitZoomInLevel&&(A.ext.zoom.setLevel(tt),Dt.emit("zoomChange",tt))},baseGanttZoomIn:()=>{A.ext.zoom.getCurrentLevel()>z.limitZoomInLevel&&A.ext.zoom.zoomIn()},baseGanttZoomOut:()=>{A.ext.zoom.zoomOut()},setTasksOutsideTimescale:(tt=7)=>{var at,Z;const it=A.getTaskBy(et=>et==null?void 0:et.isRoot);(it==null?void 0:it.length)>0&&((at=it[0])!=null&&at.start_date)&&((Z=it[0])!=null&&Z.end_date)&&(A.config.start_date=Pt(it[0].start_date).subtract(tt,"day").toDate(),A.config.end_date=Pt(it[0].end_date).add(tt,"day").toDate())},chartBoxSelectionCallback:(tt,it,at,Z,et,ot)=>{A.eachSelectedTask(st=>{A.unselectTask(st.id)}),ot.forEach(st=>{A.selectTask(st.id)})},repairMousemoveGantt:tt=>{const it=A.$container.getBoundingClientRect();if(it&&(tt.clientX<=it.left||tt.clientY<=it.top||tt.clientX>=it.right||tt.clientY>=it.bottom)){const at=new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window});A.$task_data.dispatchEvent(at)}},enableBaseGanttLoading:(tt="")=>{S.spinning.value=!0,S.spinningTip.value=tt},closeBaseGanttLoading:()=>{S.spinning.value=!1,S.spinningTip.value=""},openBaseGanttAbout:()=>{var tt,it;(it=(tt=S.baseGanttAboutRef)==null?void 0:tt.value)==null||it.showAbout()}}},Fe=(z,A)=>{const{operation:S,key:x,value:h}=A,_=z[x];if(typeof S=="function")return S(z,h,A);if(_===void 0)return!1;switch(S){case"=":return _===h;case"!==":return _!==h;case">":return _>h;case">=":return _>=h;case"<":return _<h;case"<=":return _<=h;case"like":return _.toLocaleLowerCase().indexOf(h.toLocaleLowerCase())>-1;case"in":return h.includes(_);default:return console.warn(`[checkFilterCondition warn]: The passed operation ${S} is not supported`),!1}},ln=z=>{const A=ce({height:0,width:0}),S=Tt(null);let x=new ResizeObserver(h=>{A.height=h[0].contentRect.height,A.width=h[0].contentRect.width});return Wt(()=>{if(typeof z=="string"){const h=document.querySelector(z);if(!h)return A;S.value=h}else if(xe(z))S.value=z.value;else return A;x.observe(S.value),A.height=S.value.getBoundingClientRect().height,A.width=S.value.getBoundingClientRect().width}),te(()=>{x.disconnect(),x=null}),A},He=(z,A)=>{const S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),x=[];let h;if(A=A||S.length,z)for(h=0;h<z;h++)x[h]=S[0|Math.random()*A];else{let _;for(x[8]=x[13]=x[18]=x[23]="-",x[14]="4",h=0;h<36;h++)x[h]||(_=0|Math.random()*16,x[h]=S[h==19?_&3|8:_])}return x.join("")},he=(z,A)=>{let S="";switch(z){case Ct.PROJECT_PLAN:S=A==="task"?Ct.PROJECT_PLAN_TASKIDPREFIX:Ct.PROJECT_PLAN_LINKIDPREFIX;break;case Ct.CHANGE_PLAN:S=A==="task"?Ct.CHANGE_PLAN_TASKIDPREFIX:Ct.CHANGE_PLAN_LINKIDPREFIX;break;case Ct.PROJECT_MODEL_PLAN:S=A==="task"?Ct.PROJECT_MODEL_PLAN_TASKIDPREFIX:Ct.PROJECT_MODEL_PLAN_LINKIDPREFIX;break;case Ct.TASK_MODEL_PLAN:S=A==="task"?Ct.TASK_MODEL_PLAN_TASKIDPREFIX:Ct.TASK_MODEL_PLAN_LINKIDPREFIX;break;default:S=A==="task"?Ct.PROJECT_PLAN_TASKIDPREFIX:Ct.PROJECT_PLAN_LINKIDPREFIX;break}return S+"_"+He(32,36)},Zt=z=>he(z,"task"),ee=z=>he(z,"link"),se=z=>{const{t:A}=Lt();return{enter:"day",store:"minute",format:"day",hoursPerDay:z,labels:{day:{get full(){return A("project.wbs.day")},get plural(){return A("project.wbs.day")},get short(){return A("project.wbs.day")}}}}},ze=(z,A,S)=>{const{t:x}=Lt();let h=!1,_="",u="",s={add:{data:[],links:[]},update:{data:[],links:[]},delete:{data:[],links:[]}},c;const i=(L,B=!1)=>{if(L){let I=!0;if(A.eachTask(G=>{var R,K,Q,W;if(((R=G==null?void 0:G.start_date)==null?void 0:R.getTime())===((K=A.config.project_start)==null?void 0:K.getTime())&&((Q=G==null?void 0:G.start_date)==null?void 0:Q.getTime())!==((W=new Date(L))==null?void 0:W.getTime())){const O=G.$target;if((O==null?void 0:O.length)>0)for(let $=0;$<(O==null?void 0:O.length);$++){const D=A.getLink(O[$]);if(D.type==="3"){const M=A.getTask(D.source);_t(x("project.wbs.updateProjectData",{first:G.text,second:M.text})),I=!1;break}}}}),!I)return;const V=A.config.project_start,Y=new Date(L).getTime()-new Date(V).getTime();A.config.project_start=new Date(L),h=B;const H=A.getTaskBy(G=>(G==null?void 0:G.isRoot)===!0),F=H.length>0?A.getCalendar(H[0].calendar_id):A.getCalendar("global");if(z.separateProjectStart){if(B){const G=F.calculateDuration(V,new Date(L));A.batchUpdate(()=>{A.eachTask(R=>{Bt.includes(R.task_status)||R!=null&&R.isRoot||(R.start_date=F.calculateEndDate({start_date:R.start_date,duration:G,task:R}),R.duration===0&&G>0?(R.start_date=F.getClosestWorkTime({date:R.start_date,dir:"future"}),R.end_date=R.start_date):R.end_date=F.calculateEndDate({start_date:R.start_date,duration:R.duration,task:R}),R.constraint_date&&(R.constraint_date=F.calculateEndDate({start_date:R.constraint_date,duration:G,task:R}),A.isWorkTime(R.constraint_date)||(Y>0?R.constraint_date=F.getClosestWorkTime({date:R.constraint_date,dir:"future"}):(R.constraint_date=F.getClosestWorkTime({date:R.constraint_date,dir:"past"}),["mso","snet","snlt"].includes(R.constraint_type)&&(R.constraint_date=F.calculateEndDate({start_date:R.constraint_date,duration:-z.hoursPerDay*60,unit:"minute"}))))))})})}}else B&&A.batchUpdate(()=>{A.eachTask(G=>{var R,K,Q,W,O,$;(G==null?void 0:G.auto_scheduling)!==!0&&(((R=G==null?void 0:G.start_date)==null?void 0:R.getTime())<((K=new Date(L))==null?void 0:K.getTime())||((Q=G==null?void 0:G.start_date)==null?void 0:Q.getTime())===(V==null?void 0:V.getTime())&&((W=G==null?void 0:G.start_date)==null?void 0:W.getTime())>((O=new Date(L))==null?void 0:O.getTime()))&&(G.start_date=new Date(L),G.end_date=F.calculateEndDate({start_date:new Date(L),duration:G.duration,task:G})),(G==null?void 0:G.auto_scheduling)===!0&&((G==null?void 0:G.constraint_type)==="snet"||(G==null?void 0:G.constraint_type)==="mso")&&(($=G==null?void 0:G.constraint_date)==null?void 0:$.getTime())===(V==null?void 0:V.getTime())&&(G.constraint_date=new Date(L))})});z.showStartEndDateLine&&A.addMarker&&(_&&A.deleteMarker(_),_=A.addMarker({start_date:A.config.project_start,css:"start_date"}),A.refreshData()),h&&A.autoSchedule()}},o=L=>{L&&(A.config.project_end=new Date(L),z.showStartEndDateLine&&A.addMarker&&z.showProjectEndMarker&&(u&&A.deleteMarker(u),u=A.addMarker({start_date:A.config.project_end,css:"end_date"})),A.autoSchedule())},e=L=>{const B={start_date:new Date,end_date:new Date};if(z.isSingleProject){const I=A.getTaskBy(V=>(V==null?void 0:V.isRoot)===!0);I.length>0&&(B.start_date=I[0].start_date,B.end_date=I[0].end_date)}else z.data.data&&Object.keys(z.data.data).length!==0&&z.data.data.forEach(I=>{var V,Y;I!=null&&I.isRoot&&(((V=I.start_date)==null?void 0:V.getTime())<B.start_date.getTime()&&(B.start_date=I.start_date),((Y=I.end_date)==null?void 0:Y.getTime())>B.end_date.getTime()&&(B.end_date=I.end_date))});L&&(B.start_date=L),B!=null&&B.start_date&&i(B.start_date),B!=null&&B.end_date&&o(B.end_date)},t=()=>{var I,V,Y,H,F,G,R,K,Q,W,O;let L=null;const B=A.getTaskBy($=>($==null?void 0:$.isRoot)===!0);L=B.length>0&&B[0],z.separateProjectStart||L!=null&&L.start_date&&((I=A.config)!=null&&I.project_start)&&(h===!1?(((V=L.start_date)==null?void 0:V.getTime())>((H=(Y=A.config)==null?void 0:Y.project_start)==null?void 0:H.getTime())&&i(L.start_date),((F=L.start_date)==null?void 0:F.getTime())<((R=(G=A.config)==null?void 0:G.project_start)==null?void 0:R.getTime())&&setTimeout(()=>{i(L.start_date)},100)):setTimeout(()=>{h=!1},1e3)),L!=null&&L.end_date&&((K=A.config)!=null&&K.project_end)&&((Q=L.end_date)==null?void 0:Q.getTime())!==((O=(W=A.config)==null?void 0:W.project_end)==null?void 0:O.getTime())&&o(L.end_date)},n=(L,B)=>{const I=A.getState(),[V,Y]=[I.min_date,I.max_date],H=new Date().getTime();let F=new Date(A.date.add(new Date,I.scale_step,I.scale_unit)).getTime();F=F-H;let[G,R]=[null,!1];(L==="resize"||L==="move")&&(z.showPrevDate&&Math.abs(B.start_date-V)<F&&(G=B.start_date,R=!0),Math.abs(B.end_date-Y)<F&&(G=B.end_date,R=!0),R&&(A.render(),A.showDate(G)))},a=L=>{var B,I,V,Y;(L==null?void 0:L.isRoot)!==!0&&(L==null?void 0:L.auto_scheduling)===!0&&(L==null?void 0:L.constraint_type)!=="asap"&&(L.constraint_type==="snet"&&((B=L==null?void 0:L.start_date)==null?void 0:B.getTime())<((I=L==null?void 0:L.constraint_date)==null?void 0:I.getTime())||L.constraint_type==="fnlt"&&((V=L==null?void 0:L.end_date)==null?void 0:V.getTime())>((Y=L==null?void 0:L.constraint_date)==null?void 0:Y.getTime()))&&(pe.warning({class:"subtask-update-notification",message:void 0,description:x("project.wbs.subTask.updateTip",{text:L==null?void 0:L.text}),key:S.uuid}),L.constraint_type="asap",L.constraint_date=void 0,A.updateTask(L.id))},r=()=>{var L,B;if(z.isSingleProject){let I=null;const V=A.getTaskBy(Y=>(Y==null?void 0:Y.isRoot)===!0);I=V.length>0&&V[0],I!=null&&I.calendar_id?(L=S.projectCalendarRef.value)==null||L.showProjectCalendar(I==null?void 0:I.calendar_id):_t(x("project.wbs.projectCalendarId"))}else{const I=A.getSelectedTasks();if(I.length!==1)_t(x("project.wbs.selectProjectCalendarId"));else{const V=A.getTask(I[0]);V!=null&&V.isRoot?V!=null&&V.calendar_id?(B=S.projectCalendarRef.value)==null||B.showProjectCalendar(V==null?void 0:V.calendar_id):_t(x("project.wbs.projectCalendarId")):_t(x("project.wbs.selectProjectCalendarId"))}}},l=L=>{const B={};return L.forEach(I=>{B[I.id]={...I,from:I.from&&new Date(I.from),to:I.to&&new Date(I.to)}}),B},d=(L=[],B=!1,I=void 0)=>{!L||!Array.isArray(L)||(L==null||L.forEach(V=>{z.globalCalendar&&(V.calendarId="global"),A.getCalendar(V.calendarId)&&A.deleteCalendar(V.calendarId),A.addCalendar({id:V.calendarId,worktime:{days:V.week,customWeeks:l(V.custom)}})}),B&&(S.spinning.value=!0,S.spinningTip.value=x("project.wbs.resetAutoSchedule"),Et(()=>{A.batchUpdate(()=>{A.eachTask(V=>{(V==null?void 0:V.type)==="task"?A.calculateDuration(V)!==V.duration&&A.updateTask(V.id):A.refreshTask(V.id)})}),I&&typeof I=="function"?I():(S.spinning.value=!1,S.spinningTip.value="")})))},f=L=>{S.batchDeleteTask=!0,A.batchUpdate(()=>{L.forEach(B=>{A.isTaskExists(B.id)&&A.deleteTask(B.id)})}),S.batchDeleteTask=!1,A.autoSchedule()},g=(L,B=!0)=>{const I="";if(B&&L[Rt.AUTH_RESOLVE_FLAG]&&L.isRoot)return x("project.wbs.decomposeNotEdit");if(L.readonly||!L[xt]&&Bt.includes(L==null?void 0:L.task_status)||z.fineTuning&&(L==null?void 0:L.type)==="milestone"){if(z.fineTuning&&(L==null?void 0:L.type)==="milestone")return x("project.wbs.fineTuningCanNotMileTask");if(Bt.includes(L==null?void 0:L.task_status))return x("project.wbs.canNotEdit");if(L[Rt.AUTH_RESOLVE_FLAG]&&(L!=null&&L.isRoot))return x("project.wbs.decomposeNotEdit");if(L.readonly)return x("project.wbs.readOnlyTaskStatusTip",{text:L==null?void 0:L.text})}return I},p=L=>{const B="",I=[];v(L,I);for(let V=0;V<I.length;V++){const Y=A.getTask(I[V]);if(z.fineTuning&&(Y==null?void 0:Y.type)==="milestone")return x("project.wbs.fineTuningCanNotMileTask");if(Bt.includes(Y==null?void 0:Y.task_status))return x("project.wbs.canNotEdit");if(Y.readonly)return x("project.wbs.readOnlyTaskStatusTip",{text:Y==null?void 0:Y.text})}return B},v=(L,B)=>{const I=A.getChildren(L);I.length>0&&I.forEach(V=>{B.push(V),v(V,B)})},y=L=>{Array.isArray(L)&&(S.taskFilterParams.value=L,S.spinning.value=!0,S.spinningTip.value=x("project.wbs.filter"),Et(()=>{A.refreshData(),S.spinning.value=!1,S.spinningTip.value=""}))},m=(L,B)=>{for(const I of S.taskFilterParams.value)if(Fe(B,I)===!1)return!1;return!0},b=(L,B)=>(typeof z.enableDecompose=="string"&&(S.decomposeKey=z.enableDecompose),B[S.decomposeKey]!==!1),k=()=>{(z.enableFilter||z.enableDecompose)&&A.attachEvent("onBeforeTaskDisplay",(L,B)=>{const I=[];z.enableDecompose&&I.push(b),z.enableFilter&&I.push(m);let V=null;for(;V=I.shift();)if(V(L,B)===!1)return!1;return!0})},C=L=>{L[Rt.AUTH_RESOLVE]&&L.task_status!==gt.TASKWAITRESOLVE&&(L.task_status=gt.TASKWAITRESOLVE,A.refreshTask(L.id)),L.task_status===gt.TASKWAITRESOLVE&&L[Rt.AUTH_RESOLVE]===!1&&(L.task_status=L[Rt.PUBLISH_STATUS]===!0?gt.TASKWAITSTART:gt.TASKNEW,A.refreshTask(L.id))},w=()=>{A.attachEvent("onBeforeUndoStack",L=>(L.commands.forEach(I=>{switch(I.type){case"add":break;case"remove":if(I.value[xt])break;I.entity==="task"?s.delete.data.includes(I.value.id)||s.delete.data.push(I.value.id):I.entity==="link"&&(s.delete.links.includes(I.value.id)||s.delete.links.push(I.value.id));break;case"update":if(I.value[xt])break;I.entity==="task"?s.update.data.includes(I.value.id)||s.update.data.push(I.value.id):I.entity==="link"&&(s.update.links.includes(I.value.id)||s.update.links.push(I.value.id));break;case"move":if(I.value[xt])break;s.update.data.includes(I.value.id)||s.update.data.push(I.value.id);break}}),!0)),A.attachEvent("onAfterUndo",L=>{const B=L==null?void 0:L.commands;(B==null?void 0:B.length)>0&&B.forEach(I=>{if(I.type==="remove"&&I.entity==="task"){const V=s.delete.data.findIndex(Y=>Y===I.value.id);V!==-1&&s.delete.data.splice(V,1)}if(I.type==="remove"&&I.entity==="link"){const V=s.delete.links.findIndex(Y=>Y===I.value.id);V!==-1&&s.delete.links.splice(V,1)}})})},T=()=>{const L=A.serialize(),B=Ot(s);L.data.forEach(G=>{const R=A.getTask(G.id);R[xt]&&B.add.data.push(P(R)),!R[xt]&&z.differenceWbsData&&R.$wbs!==R.outlineNo&&B.update.data.push(R.id),!R[xt]&&R.duration_back&&R.duration_back!==parseFloat(S.autoFormatter.format(R.duration))&&B.update.data.push(R.id)}),L.links.forEach(G=>{G[xt]&&B.add.links.push(G)}),B.update.data=[...new Set(B.update.data)],B.update.links=[...new Set(B.update.links)];const I=new Set;for(const G of Object.values(B))G.data.forEach(R=>{let K=R;for(;A.getParent(K);){const Q=A.getParent(K);B.update.data.includes(Q)&&I.add(Q),K=Q}});const V=Array.from(I);for(let G=0;G<V.length;G++)A.getTask(V[G])[xt]&&(V.splice(G,1),G--);B.update.data=[...new Set([...B.update.data,...V])];const Y=[];B.update.data.forEach(G=>{const R=A.getTask(G);typeof R=="object"&&Y.push(P(R))}),B.update.data=Y;const H=[];B.update.links.forEach(G=>{const R=A.getLink(G);typeof R=="object"&&H.push(R)}),B.update.links=H;const F={data:B};return B.delete.data=[...new Set(B.delete.data)],B.delete.links=[...new Set(B.delete.links)],z.tempSaveCalendar&&(F.canledars=S.projectCalendarData.value),z.queryKeepLevel&&(S.openTaskIds=[],A.eachTask(G=>{G!=null&&G.$open&&S.openTaskIds.push(G.id)})),z.separateProjectStart&&(F.project_start=Pt(A.config.project_start).format(S.dateFormat)),F},E=(L,B)=>{let I=L;const[V,Y]=[[],[]];for(;A.getParent(I)&&(A.getParent(I)!="0"||A.getParent(I)!="-1");){const H=A.getParent(I);V.push(H),Y.push(A.getTask(H).text),I=H}return{parentIds:V.join(B),parentTexts:Y.join(B)}},P=L=>{const B=["readonly","hide_bar","isRoot","successors","project_id","plan_id","calendar_id","milestone","outlineNo","duration_back","predecessorData","open"],I={parent:L!=null&&L.isRoot?void 0:L.parent,duration:Math.floor(parseFloat(S.autoFormatter.format(L.duration))*100)/100,plan_hour:parseFloat((L.duration/60).toFixed(2)),start_date:L.start_date?Pt(L.start_date).format(S.dateFormat):"",end_date:L.end_date?Pt(L.end_date).format(S.dateFormat):"",constraint_date:L.constraint_date?Pt(L.constraint_date).format(S.dateFormat):"",level:L.$level,local_index:L.$local_index,index:L.$index,wbs:L.$wbs,leaf_task:!A.hasChild(L.id),key_route:A.isCriticalTask(L),pids:E(L.id,";").parentIds,parent_path:E(L.id,"->").parentTexts,progress:L.progress?Math.floor(L.progress*100)/100:0};return Object.keys(L).forEach(V=>{!B.includes(V)&&V[0]!=="$"&&!Object.prototype.hasOwnProperty.call(I,V)&&(I[V]=L[V])}),I};return{getChildTaskId:v,checkTaskLimit:g,checkTaskChildLimit:p,openProjectCalendar:r,filterBaseGanttTask:y,updateProjectCalendar:d,dateRangeDynamically:n,adjustSubTaskConstraint:a,setBaseGanttProjectStart:i,setBaseGanttProjectEnd:o,setProjectStartAndEndDate:e,autoAdjustProjectStartEndDate:t,deleteSelectedTask:f,updateTaskStatusDisplay:C,monitorRedoUndoEvent:w,enableFilterDecompose:k,getDifferenceData:T,checkDifferenceData:()=>{let L=0;return c=T(),Object.values(c.data).forEach(B=>{L+=Object.values(B).flat().length}),L>0},resetDifferenceData:()=>{s={add:{data:[],links:[]},update:{data:[],links:[]},delete:{data:[],links:[]}},c=void 0}}},Ue=(z,A,S)=>{const{t:x}=Lt(),h=[{key:"task_status",get lable(){return x("project.wbs.columns.task_status")}},{key:"end_date",get lable(){return x("project.wbs.projectEndDate")}}],_=[{key:"duration",get lable(){return x("project.wbs.durationDay")}},{key:"progress",get lable(){return x("project.wbs.columns.progress")}},{key:"start_date",get lable(){return x("project.wbs.projectStartDate")}},{key:"end_date",get lable(){return x("project.wbs.projectEndDate")}}],u="：",s=(o=_,e)=>{if(z.showTooltip){const t=A.ext.tooltips,n=z.durationUnit==="day"?S.dayDateFormat:S.dateFormat;t.tooltipFor({selector:".gantt_row",html:(a,r)=>"",global:!1}),t.tooltipFor({selector:".gantt_task_line",html:(a,r)=>{const l=r.getAttribute(A.config.task_attribute);if(l){const d=A.getTask(l);let f="";return d!=null&&d.hide_bar?f:(d==null?void 0:d.type)==="milestone"?(f+=`<div class='gantt_tooltip-first-text'>${d.text}</div>`,h==null||h.forEach(g=>{switch(g.key){case"task_status":f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${oe[d[g.key]]?x(oe[d[g.key]]):"--"}</div>`;break;case"end_date":f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${Pt(d.end_date).format(e||n)}</div>`;break;default:f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${d[g.key]}</div>`}}),f):(f+=`<div class='gantt_tooltip-first-text'>${d.text}</div>`,Object.prototype.toString.call(o)==="[object Array]"&&o.forEach(g=>{switch(g.key){case"progress":f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${Math.floor(d.progress*100)}%</div>`;break;case"duration":f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${S.autoFormatter.format(d.duration)}</div>`;break;case"start_date":f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${Pt(d.start_date).format(e||n)}</div>`;break;case"end_date":f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${Pt(d.end_date).format(e||n)}</div>`;break;default:f+=`<div class='gantt_tooltip-second-text'>${g.lable}${u}${d[g.key]}</div>`}}),f)}return""},global:!1})}},c=o=>{switch(o){case A.config.links.start_to_start:return x("project.wbs.startToStart");case A.config.links.start_to_finish:return x("project.wbs.startToFinish");case A.config.links.finish_to_start:return x("project.wbs.finishToStart");case A.config.links.finish_to_finish:return x("project.wbs.finishToFinish");default:return""}};return{customTaskTooltipContent:s,customLinkTooltipContent:()=>{z.showTooltip&&z.showLinkTooltip&&A.ext.tooltips.tooltipFor({selector:".gantt_task_link",html:(e,t)=>{const n=t.getAttribute(A.config.link_attribute);if(n){const a=A.getLink(n),r=A.getTask(a.source),l=A.getTask(a.target),d=[`<div class='gantt_tooltip-second-text'>${x("project.wbs.source")}${u}${r.text}</div>`,`<div class='gantt_tooltip-second-text'>${x("project.wbs.target")}${u}${l.text}</div>`,`<div class='gantt_tooltip-second-text'>${x("project.wbs.taskLink")}${u}${c(a.type)}</div>`];return a.lag&&d.push(`<div class='gantt_tooltip-second-text'>${x("project.wbs.lag")}${u}${S.autoFormatter.format(a.lag)}</div>`),d.join("")}}})}}},We=(z,A,S)=>{const{t:x}=Lt();let h="";const _=()=>{z.showBaseLine&&(h?(S.baseLineCSSFlag.value=!1,A.removeTaskLayer(h),A.templates.rightside_text=(c,i,o)=>{if(o.planned_end)return""},A.config.bar_height=28,A.config.row_height=34,h="",Et(()=>{A.render()})):(S.baseLineCSSFlag.value=!0,u()))},u=(c=!1,i=x("project.wbs.later"),o=x("project.wbs.day"))=>{c&&(S.baseLineCSSFlag.value=!0),A.config.bar_height=19,A.config.row_height=46,h=A.addTaskLayer({renderer:{render:e=>{if(z.ignoreMilestone&&e.type==="milestone")return!1;if(e.planned_start&&e.planned_end){const t=A.getTaskPosition(e,e.planned_start,e.planned_end),n=document.createElement("div");return n.className="baseline",n.style.left=t.left+"px",n.style.width=t.width+"px",n.style.top=t.top+A.config.bar_height+12+"px",n}return!1},getRectangle:(e,t)=>e.planned_start&&e.planned_end?A.getTaskPosition(e,e.planned_start,e.planned_end):null}}),z.baseLineRightText&&(A.templates.rightside_text=(e,t,n)=>{if(n.planned_end&&t.getTime()>n.planned_end.getTime()){const a=Math.ceil(Math.abs((t.getTime()-n.planned_end.getTime())/864e5));return'<b class="right-text">'+i+":"+a+" "+o+"</b>"}}),Et(()=>{A.render()})};return{switchBaseGanttBaseLine:_,setBaseGanttBaseLine:u,setBaseGanttBaseLineCSS:(c,i=!1)=>{const o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.id="baselineCSS",c==="off"?o.href=new URL("data:text/css;base64,LmdhbnR0X3Rhc2tfbGluZSwKLmdhbnR0X2xpbmVfd3JhcHBlciB7CiAgICBtYXJnaW4tdG9wOiAwOwp9CgouZ2FudHRfc2lkZV9jb250ZW50IHsKICAgIG1hcmdpbi1ib3R0b206IDA7Cn0KCi5nYW50dF90YXNrX2xpbmsgLmdhbnR0X2xpbmtfYXJyb3cgewogICAgbWFyZ2luLXRvcDogLTNweDsKfQ==",self.location).href:o.href=new URL("data:text/css;base64,LmdhbnR0X3Rhc2tfbGluZSwKLmdhbnR0X2xpbmVfd3JhcHBlciB7CiAgICBtYXJnaW4tdG9wOiAtN3B4Owp9CgouZ2FudHRfc2lkZV9jb250ZW50IHsKICAgIG1hcmdpbi1ib3R0b206IC05cHg7CiAgICBtYXJnaW4tbGVmdDogNXB4Owp9CgouZ2FudHRfdGFza19saW5rIC5nYW50dF9saW5rX2Fycm93IHsKICAgIG1hcmdpbi10b3A6IC0xMHB4Owp9",self.location).href,i?document.querySelector("#baselineCSS")===null&&document.head.appendChild(o):document.head.replaceChild(o,document.querySelector("#baselineCSS"))}}},Ve=(z,A,S)=>{const{t:x}=Lt();return{addRelationTaskLink:s=>{s.length>1&&(S.spinning.value=!0,S.spinningTip.value=x("project.wbs.addRelationLink"),Et(()=>{A.batchUpdate(()=>{let c=s[0];for(let i=1;i<s.length;i++){const o=A.getTask(s[i]),e={id:ee(z.bizType),source:c,target:o.id,type:"0"};e[xt]=!0;const t=A.getLinks();let n=!0;t.forEach(a=>{a.source==e.source&&a.target==e.target&&a.type==e.type&&(n=!1)}),n&&(A.addLink(e),A.refreshTask(s[i])),c=o.id}}),S.spinning.value=!1,S.spinningTip.value=""}))},deleteFSRelationTaskLink:s=>{if(s.length>1){const c=[];s.forEach(i=>{A.getTask(i).$target.forEach(t=>{const n=A.getLink(t);s.includes(n.source)&&c.push(t)})}),(c==null?void 0:c.length)>0&&c.forEach(i=>{A.deleteLink(i)})}},deleteRelationTaskLink:s=>{s.length>1&&(S.spinning.value=!0,S.spinningTip.value=x("project.wbs.deleteRelationLink"),Et(()=>{S.batchDeleteLink=!0,A.batchUpdate(()=>{for(let c=1;c<s.length;c++){const i=A.getTask(s[c]),o=Array.from(i.$target);o.forEach(t=>{const n=A.getLink(t);s.indexOf(n.source)!==-1&&A.deleteLink(t)});const e=Array.from(i.$source);e.forEach(t=>{const n=A.getLink(t);s.indexOf(n.target)!==-1&&A.deleteLink(t)}),(o.length>0||e.length>0)&&A.refreshTask(s[c])}}),S.batchDeleteLink=!1,A.autoSchedule(),S.spinning.value=!1,S.spinningTip.value=""}))}}},Ge=(z,A,S)=>({exportBaseGanttPNG:()=>{},exportBaseGanttPDF:()=>{},exportBaseGanttExcel:()=>{},exportBaseGanttMSProject:()=>{}}),qe=(z,A,S,x)=>{const{t:h}=Lt(),_=i=>{z.outdentInSituFlag&&i==="outdent"?s():A.batchUpdate(()=>{const o={},e={};A.eachSelectedTask(n=>{o[n]=A.getTaskIndex(n),e[n]={first:null};let a=n;for(;A.isTaskExists(A.getPrevSibling(a))&&A.isSelectedTask(A.getPrevSibling(a));)a=A.getPrevSibling(a);e[n].first=a});const t={};A.eachSelectedTask(n=>{if(t[A.getParent(n)])t[n]=!0;else{const a=i==="outdent"?u(n,o,e):c(n);t[a]=!0}})})},u=(i,o,e)=>{const t=A.getTask(i),n=t.parent;if(A.isTaskExists(n)&&n!=A.config.root_id){let a=A.getTaskIndex(n)+1;const r=e[i].first;return A.isSelectedTask(r)&&(a+=o[i]-o[r]),A.moveTask(i,a,A.getParent(t.parent)),A.updateTask(i),A.updateTask(n),i}return null},s=()=>{A.batchUpdate(()=>{const i={},o=A.getSelectedTasks();A.eachSelectedTask(e=>{var d,f,g;const t=A.getTask(e),n=(d=x==null?void 0:x.checkTaskLimit)==null?void 0:d.call(x,t,!1);if(n!==""){o.length===1&&_t(n);return}const a=(f=x==null?void 0:x.checkTaskChildLimit)==null?void 0:f.call(x,e);if(a!==""){o.length===1&&_t(a);return}const r=t.parent,l=A.getTask(r);if(A.isTaskExists(r)&&(l==null?void 0:l.isRoot)!==!0){const p=l.parent;if(A.isTaskExists(p)){const k=A.getTask(p);if(Bt.includes(k==null?void 0:k.task_status)){o.length===1&&_t(h("project.wbs.canNotEdit"));return}if(k.type==="milestone"){o.length===1&&_t(h("project.wbs.fineTuningCanNotMileTask"));return}}let v=A.getNextSibling(e);if(A.isTaskExists(v)){let k=v;for(;A.isTaskExists(k);){const C=(g=x==null?void 0:x.checkTaskLimit)==null?void 0:g.call(x,A.getTask(k),!1);if(C!==""){o.length===1&&_t(C);return}k=A.getNextSibling(k)}}const y=[];for(;A.isTaskExists(v)&&!A.isSelectedTask(v);)y.push(v),v=A.getNextSibling(v);if(y.length>0&&t.type==="milestone"){_t(h("project.wbsEditor.canNotAddChildTask"));return}const b=A.getTask(r).parent;for(let k=0;k<o.length;k++){const C=o[k];if(r===C||b===C)return}if(A.isTaskExists(b)){i[e]=r;let k=0;Object.keys(i).forEach(w=>{i[w]===r&&k++});const C=A.getTaskIndex(r)+k;A.moveTask(e,C,b),y.forEach((w,T)=>{A.moveTask(w,T,e),A.updateTask(w)}),A.open(e),A.updateTask(e),A.updateTask(r)}}else{(o==null?void 0:o.length)===1&&l&&_t(h("project.wbs.levelTaskCanNotUpGrade")),(o==null?void 0:o.length)===1&&!l&&_t(h("project.wbs.rootCanNotUpGrade"));return}})})},c=i=>{var r,l;const o=A.getSelectedTasks(),e=A.getTask(i),t=(r=x==null?void 0:x.checkTaskLimit)==null?void 0:r.call(x,e,!1);if(t!=="")return o.length===1&&_t(t),null;const n=(l=x==null?void 0:x.checkTaskChildLimit)==null?void 0:l.call(x,i);if(n!=="")return o.length===1&&_t(n),null;if(A.isSelectedTask(e.parent))return null;let a=A.getPrevSibling(i);for(;A.isSelectedTask(a);){const d=A.getPrevSibling(a);if(!d)break;a=d}if(a){const d=A.getTask(a);return d.type==="milestone"?(_t(h("project.wbs.canNotAddChildTask")),null):Bt.includes(d==null?void 0:d.task_status)?(_t(h("project.wbs.canNotEdit")),null):d.readonly&&!d.isRoot?(_t(h("project.wbs.readOnlyTaskStatusTip",{text:d.text})),null):(A.moveTask(i,A.getChildren(d.id).length,d.id),d.$open=!0,A.updateTask(i),A.updateTask(d.id),i)}return null};return{taskIndentAndOutdent:_,baseGanttTaskIndent:c,baseGanttTaskOutdent:u,baseGanttTaskOutdentInSitu:s}},Ye=(z,A,S,x)=>{const{t:h}=Lt();let _="",u=[],s=[],c={},i=0;const o=g=>{const p=A.getSelectedTasks();if(p.length===0){_t(h(g==="copy"?"project.wbs.selectedCopyTask":"project.wbs.selectedCutTask"));return}let v=!1;for(let y=0;y<p.length;y++)if(A.getTask(p[y]).isRoot){v=!0;break}if(v){_t(h("project.wbs.rootNotCopyCut"));return}u=[],g==="copy"&&(z.copyDataKeepLevel?p.forEach(y=>{const m={id:y,copyFlag:!1};u.push(m)}):p.forEach(y=>{const m=A.copy(A.getTask(y));u.push(m)})),g==="cut"&&p.forEach(y=>{const m={id:y,cutFlag:!1};u.push(m)}),_=g,_t(h(g==="copy"?"project.wbs.selectedCopySuccess":"project.wbs.selectedCutSuccess"),"success")},e=()=>{if(_===""){_t(h("project.wbs.prevSelectTask"));return}if(u.length===0)return;const g=A.getSelectedTasks();if(g.length!==1){_t(h("project.wbs.copyTarget"));return}const p=A.getTask(g[0]);if(p!=null&&p.isRoot){_t(h("project.wbs.rootNotPaste"));return}u.length>z.enablePasteLoadingTotal?(S.spinning.value=!0,S.spinningTip.value=h("project.wbs.pasting"),Et(()=>{t(g),S.spinning.value=!1,S.spinningTip.value=""})):t(g)},t=g=>{if(_==="copy")if(z.copyDataKeepLevel){const p=A.getParent(g[0]);A.batchUpdate(()=>{u.forEach(v=>{v.copyFlag||a(v,p,g[0])})}),A.refreshData(),u.forEach(v=>{v.copyFlag=!1}),s=[],c={},i=0}else{const p=Ot(u);A.batchUpdate(()=>{p.forEach(v=>{v.id=Zt(z.bizType),v.parent="",v.$wbs="",v.$new=!0,v[xt]=!0,v.readonly&&(v.readonly=void 0),A.addTask(v,g[0])}),A.updateTask(g[0])})}if(_==="cut"){const p=[];let v=!1;if(u.forEach(y=>{var m;(m=x==null?void 0:x.getChildTaskId)==null||m.call(x,y.id,p)}),p.forEach(y=>{y==g[0]&&(v=!0)}),v){_t(h("project.wbs.notCut"));return}if(z.cutToPastePosition){const y=A.getParent(g[0]);A.batchUpdate(()=>{u.forEach(m=>{if(!m.cutFlag){const b=A.getParent(m.id),k=A.getTaskIndex(g[0]);b===y?A.moveTask(m.id,k-1,y):A.moveTask(m.id,k,y),m.cutFlag=!0,A.updateTask(g[0])}n(m.id)})})}else{const y=A.getChildren(g[0]);A.batchUpdate(()=>{u.forEach((m,b)=>{m.cutFlag||(A.moveTask(m.id,y.length+b,g[0]),m.cutFlag=!0,A.updateTask(g[0])),n(m.id)})})}u=[],_=""}_t(h(_==="copy"?"project.wbs.copySuccess":"project.wbs.cutSuccess"),"success")},n=g=>{const p=A.getChildren(g);p.length>0&&p.forEach((v,y)=>{u.forEach(m=>{v===m.id&&(m.cutFlag||(A.moveTask(v,y,g),A.updateTask(g),m.cutFlag=!0))}),n(v)})},a=(g,p,v)=>{const y=A.getTask(g.id),m=A.copy(y);m.id=Zt(z.bizType),i=A.getTaskIndex(v),m.$new=!0,m[xt]=!0,m.progress=0;const b=A.getTask(v);if(z!=null&&z.fineTuning){let k=!1,C=v;for(;A.isTaskExists(C);){const w=A.getTask(C);if((w==null?void 0:w.task_status)===gt.TASKWAITRESOLVE){k=!0;break}C=w.parentId}m.task_status=k?gt.TASKNEW:gt.TASKWAITSTART,k===!0?((b==null?void 0:b.task_status)===gt.TASKEXCUTE||(b==null?void 0:b.task_status)===gt.TASKWAITSTART)&&(b.task_status=gt.TASKNEW):(b==null?void 0:b.task_status)===gt.TASKEXCUTE&&(b.task_status=gt.TASKWAITSTART)}else{m.task_status=gt.TASKNEW;const k=A.getTaskBy(C=>(C==null?void 0:C.isRoot)===!0);k&&(k==null?void 0:k.length)>0&&k[0][Rt.AUTH_RESOLVE_FLAG]&&((b==null?void 0:b.task_status)===gt.TASKWAITSTART||(b==null?void 0:b.task_status)===gt.TASKEXCUTE)&&(m.task_status=gt.TASKWAITSTART),(b==null?void 0:b.task_status)===gt.TASKEXCUTE&&(b.task_status=m.task_status)}A.addTask(m,p,i),g.copyFlag=!0,s=[],l(g.id),c={},d(y.id,m.id),A.hasChild(g.id)&&r(g.id,m.id),f()},r=(g,p)=>{const v=A.getChildren(g);for(let y=0;y<v.length;y++)u.forEach(m=>{if(m.id==v[y]&&m.copyFlag===!1){const b=A.getTask(v[y]),k=A.copy(b);k.id=Zt(z.bizType),k.parent=p,k.$new=!0,k[xt]=!0,A.addTask(k,k.parent),m.copyFlag=!0,l(b.id),d(b.id,k.id),A.hasChild(b.id)&&r(b.id,k.id)}})},l=g=>{const v=A.getTask(g).$source;for(let y=0;y<v.length;y++)s.push(v[y])},d=(g,p)=>{c[g]=p},f=()=>{s=[...new Set(s)];for(let g=0;g<s.length;g++){const p=A.getLink(s[g]);if(c[p.source]&&c[p.target]){const v={};v.id=ee(z.bizType),v.target=c[p.target],v.source=c[p.source],v.type=p.type,v[xt]=!0,A.addLink(v)}}};return{copyOrCutBaseGanttData:o,pasteBaseGanttData:e}},Ke=(z,A,S)=>{const x=s=>{let c=5;switch(s){case gt.TASKNEW:c=1;break;case gt.TASKWAITRESOLVE:c=2;break;case gt.TASKWAITSTART:c=3;break;case gt.TASKEXCUTE:c=4;break;default:c=5}return c},h=s=>{let c="";switch(s){case 1:c=gt.TASKNEW;break;case 2:c=gt.TASKWAITRESOLVE;break;case 3:c=gt.TASKWAITSTART;break;case 4:c=gt.TASKEXCUTE;break}return c},_=s=>{if(s.type!==A.config.types.project||s.task_status===gt.TASKWAITRESOLVE||s.task_status===gt.TASKAPPROVE||s.task_status===gt.TASKFINISHED)return s.task_status;let c=5;const i=A.getChildren(s.id);for(let o=0;o<i.length;o++){const e=i[o],t=A.getTask(e),n=x(t.task_status);n<c&&(c=n)}return h(c)},u=s=>{if(!A.isTaskExists(s))return;const c=A.getTask(s),i=_(c);i!==c.task_status&&(i===gt.TASKWAITRESOLVE?c.task_status!==gt.TASKNEW&&c.task_status!==gt.TASKWAITRESOLVE&&c.task_status!==gt.TASKWAITSTART&&(c.task_status=gt.TASKWAITSTART,A.updateTask(s),A.refreshTask(s)):(c.task_status=i,A.updateTask(s),A.refreshTask(s))),u(A.getParent(s))};return{refreshSummaryTaskStatus:u}},Xe=(z,A,S)=>{const x=()=>{A.templates.progress_text=(u,s,c)=>A.ext.zoom.getCurrentLevel()>z.autoShowProgressWithZoom?"":z.autoShowProgress?parseFloat(S.autoFormatter.format(c.duration))>1?"<span>"+Math.floor(c.progress*100)+"%</span>":"":"<span>"+Math.floor(c.progress*100)+"%</span>",A.templates.task_class=(u,s,c)=>{const i=[];return A.hasChild(c.id)&&i.push("task-parent"),(c.type==A.config.types.project||c.type=="project")&&i.push("hide_project_progress_drag"),i.join(" ")}},h=u=>{if(u.type!=A.config.types.project)return u.progress;let s=0,c=0;return A.eachTask(i=>{i.type!=A.config.types.project&&(s+=i.duration,c+=(i.progress||0)*i.duration)},u.id),s?c/s:0},_=(u,s)=>{if(!A.isTaskExists(u))return;const c=A.getTask(u),i=h(c);i!==c.progress&&(c.progress=i,s||A.refreshTask(u),A.updateTask(u));const o=A.getParent(u);!s&&o!==A.config.root_id&&A.getTask(o).auto_scheduling&&_(A.getParent(u),s)};return{baseGanttProgressConfig:x,calculateSummaryProgress:h,refreshSummaryProgress:_}},Je=(z,A,S)=>{const x=Ie(z,A,S),h=ze(z,A,S),_=Ue(z,A,S),u=We(z,A,S),s=Ve(z,A,S),c=Ge(),i=qe(z,A,S,h),o=Ye(z,A,S,h),e=Ke(z,A),t=Xe(z,A,S);return{...x,...h,..._,...u,...s,...c,...i,...o,...e,...t}};const Ze={"project.wbs.today":"Today","project.wbs.second":"#","project.wbs.week":"W","project.wbs.source":"source","project.wbs.target":"target","project.wbs.name":"name","project.wbs.duration":"duration","project.wbs.durationDay":"task duration","project.wbs.projectStartDate":"start time","project.wbs.projectEndDate":"end time","project.wbs.endDate":"end date","project.wbs.milestone":"milestone","project.wbs.circular":"the link is circular, no add","project.wbs.nakecircular":"will make circular, so jump","project.wbs.addRelationLink":"add  task  link","project.wbs.deleteRelationLink":"delete task link","project.wbs.taskLinkError":"The predecessor task types for summary and decomposition tasks can only be SS and FF","project.wbs.addAction":"Add","project.wbs.moveProjectLimit":"task can not  move  root id","project.wbs.projectCalendarId":"project root calendar ID of the root node cannot be empty","project.wbs.selectProjectCalendarId":"Please select a root project node directly first","project.wbs.startToStart":"start to start","project.wbs.startToFinish":"start to finish","project.wbs.finishToStart":"finish to start","project.wbs.finishtoFinish":"finish to finish","project.wbs.taskLink":"task link","project.wbs.later":"later","project.wbs.day":"day","project.wbs.filter":"filter...","project.wbs.pasting":"pasting...","project.wbs.about":"about","project.wbs.zoomOut":"Out","project.wbs.zoomIn":"In","project.wbs.createTask":"Create Task","project.wbs.new":"New","project.wbs.toberesolved":"ToBeResolved","project.wbs.resolving":"Resolving","project.wbs.resolved":"Resolved","project.wbs.unstart":"Unstart","project.wbs.executing":"Executing","project.wbs.approving":"Approving","project.wbs.finished":"Finished","project.wbs.pause":"Pause","project.wbs.terminated":"Terminated","project.wbs.createTaskDescription":"Start creating your first task","project.wbs.selectedCopyTask":"please selected copy task ","project.wbs.selectedCutTask":"please selected cut task ","project.wbs.selectedCopySuccess":"copy  data  success","project.wbs.selectedCutSuccess":"cut  data  success","project.wbs.prevSelectTask":"please copy task or  cut task","project.wbs.copyTarget":"please select a single task to paste","project.wbs.copySuccess":"paste  copy  data  success","project.wbs.cutSuccess":"paste  cut  data  success","project.wbs.rootNotCopyCut":"root task  not  cut or copy","project.wbs.notCut":"Parent node does not allow cutting to child node","project.wbs.illegalLink":"this link is illegal","project.wbs.rootNotPaste":"The root node is not allowed to paste","project.wbs.lag":"lag","project.wbs.hourZoom":"Hour view","project.wbs.dayZoom":"Day view","project.wbs.weekZoom":"Week view","project.wbs.monthZoom":"Month view","project.wbs.quarterZoom":"Quarter view","project.wbs.yearZoom":"Year view","project.wbs.columns.width":"current width:","project.wbs.columns.wbs":"wbs","project.wbs.columns.auto_scheduling":"scheduling","project.wbs.columns.text":"text","project.wbs.columns.sign":"sign","project.wbs.columns.progress":"progress","project.wbs.columns.duration":"duration","project.wbs.columns.start_date":"start_date","project.wbs.columns.end_date":"end_date","project.wbs.columns.predecessors":"predecessors","project.wbs.columns.constraint_type":"type","project.wbs.columns.constraint_date":"constraint_date","project.wbs.columns.publish_status":"publish_status","project.wbs.columns.is_resolve":"resolve","project.wbs.columns.task_resource":"task_resource","project.wbs.columns.task_status":"task_status","project.wbs.columns.remarks":"remarks","project.wbs.columns.real_start_date":"real_start_date","project.wbs.columns.real_end_date":"real_end_date","project.wbs.columns.plan_hour":"plan_hour","project.wbs.columns.deliverable_name":"deliverable_name","project.wbs.columns.is_deliverable":"is_deliverable","project.wbs.columns.description":"description","project.wbs.columns.allow_delete":"allow_delete","project.wbs.columns.custom_form_type":"custom_form_type","project.wbs.columns.review_point":"review_point","project.wbs.columns.review_type":"review_type","project.wbs.load":"load","project.wbs.load.showLoad":"show load","project.wbs.load.hasTempLog":"has temp log","project.wbs.load.hasNotApprovedLog":"has not approved log","project.wbs.load.bar":"bar","project.wbs.load.taskNumber":"task number","project.wbs.load.line":"line","project.wbs.load.number":"number","project.wbs.load.planReleaseLoad":"plan release load","project.wbs.load.planOverLoad":"planOverLoad","project.wbs.load.planNormalLoad":"planNormalLoad","project.wbs.load.realOverLoad":"realOverLoad","project.wbs.load.realNormalLoad":"realNormalLoad","project.wbs.load.every":"every","project.wbs.load.common":"total","project.wbs.load.item":"item","project.wbs.load.planTotalLoad":"plan total load","project.wbs.load.releaseLoad":"release load","project.wbs.load.netLoad":"net load","project.wbs.load.standLoad":"stand load","project.wbs.load.detail":"detail","project.wbs.load.column.taskName":"task name","project.wbs.load.column.projectName":"project name","project.wbs.load.column.planTotalLoad":"plan total load","project.wbs.load.column.planReleaseLoad":"plan release load","project.wbs.load.column.usageRate":"usage rate","project.wbs.load.column.startTimePlan":"start time plan","project.wbs.load.column.endTimePlan":"end time plan","project.wbs.load.column.startTimeActual":"start time actual","project.wbs.load.column.endTimeActual":"end time actual","project.wbs.subTask.updateTip":"sub task【{text}】contraint_type  is update!","project.wbs.calendar.name":"Project Calendar","project.wbs.calendar.desc":"Note: After the calendar is updated, WBS rescheduled and automatically saved","project.wbs.calendar.cancel":"Cancel","project.wbs.calendar.sure":"Sure","project.wbs.calendar.year":"Y","project.wbs.calendar.month":"M","project.wbs.calendar.day":"D","project.wbs.calendar.to":"to","project.wbs.calendar.today":"today","project.wbs.calendar.saveSuccess":"Calendar data saved successfully","project.wbs.updateProjectData":"【{first}】and【{second}】the relationship affects change of project time. Please change relationship first","project.globalCalendar.name":"Calendar List","project.globalCalendar.calendar":"calendar name","project.globalCalendar.inputCalendar":"Please enter a calendar name!","project.globalCalendar.inputCalendarRequire":"The beginning and end of the name cannot be spaces!","project.globalCalendar.setCalendar":"Set as default calendar","project.globalCalendar.cancel":"cancel","project.globalCalendar.save":"sure","project.globalCalendar.addCalendar":"Add Calendar","project.globalCalendar.updateCalendar":"Update Calendar","project.globalCalendar.saveAsCalendar":"Saveas Calendar","project.globalCalendar.setting":"Calendar Setting","project.calendar.weekday":"weekday","project.calendar.exceptional.day":"Exceptional rest day","project.calendar.exceptional.working.days":"Exceptional working days","project.calendar.rest.day":"Rest Day","project.wbs.fineTuningCanNotMileTask":"Fine tuning mode does not allow changing milestone tasks","project.wbs.canNotEdit":"Editing is not allowed for tasks under review or completed","project.wbs.decomposeNotEdit":"Root task not allowed to be edited in decomposition mode","project.wbs.readOnlyTaskStatusTip":"Task 【{text}】 is a read-only task. Please cancel this task before proceeding with the relevant operations","project.wbs.canNotAddChildTask":"Milestone tasks do not allow adding subtasks","project.wbs.levelTaskCanNotUpGrade":"The task level cannot be equal to the root task level and cannot continue to be upgraded!","project.wbs.rootCanNotUpGrade":"The task level has reached the top and cannot be upgraded anymore!"},Qe={"project.wbs.today":"今天","project.wbs.second":"第","project.wbs.week":"周","project.wbs.source":"来源任务","project.wbs.target":"目标任务","project.wbs.name":"名称","project.wbs.duration":"工期","project.wbs.durationDay":"任务工期","project.wbs.projectStartDate":"开始时间","project.wbs.projectEndDate":"完成时间","project.wbs.milestone":"里程碑","project.wbs.endDate":"结束时间","project.wbs.circular":"添加的连接会形成环,禁止添加","project.wbs.nakecircular":"形成环连接的添加,将自动跳过","project.wbs.addRelationLink":"添加连接中，请耐心等待","project.wbs.taskLinkError":"摘要、分解任务的前置任务类型只能为SS和FS","project.wbs.deleteRelationLink":"删除连接中，请耐心等待","project.wbs.addAction":"添加","project.wbs.moveProjectLimit":"任务不能移动出根节点","project.wbs.projectCalendarId":"根节点的项目日历ID不能为空","project.wbs.selectProjectCalendarId":"请先直接选中一个根项目节点","project.wbs.resetAutoSchedule":"根据新的项目日历重新调度中","project.wbs.startToStart":"开始开始","project.wbs.startToFinish":"开始完成","project.wbs.finishToStart":"完成开始","project.wbs.finishToFinish":"完成完成","project.wbs.taskLink":"链接类型","project.wbs.later":"延期","project.wbs.day":"天","project.wbs.filter":"筛选中...","project.wbs.pasting":"粘贴中...","project.wbs.about":"关于","project.wbs.zoomOut":"缩小","project.wbs.zoomIn":"放大","project.wbs.createTask":"创建任务","project.wbs.new":"新建","project.wbs.toberesolved":"待分解","project.wbs.resolving":"分解审批中","project.wbs.resolved":"已分解","project.wbs.unstart":"待启动","project.wbs.executing":"执行中","project.wbs.approving":"审核中","project.wbs.finished":"已完成","project.wbs.pause":"已暂停","project.wbs.terminated":"已终止","project.wbs.createTaskDescription":"开始创建你的第一个任务吧","project.wbs.selectedCopyTask":"请先选中要复制的数据","project.wbs.selectedCutTask":"请先选中要剪切的数据","project.wbs.selectedCopySuccess":"复制数据成功","project.wbs.selectedCutSuccess":"剪切数据成功","project.wbs.prevSelectTask":"请先复制或剪切数据","project.wbs.copyTarget":"请选择单条任务进行粘贴","project.wbs.copySuccess":"粘贴复制数据成功","project.wbs.cutSuccess":"粘贴剪贴数据成功","project.wbs.rootNotCopyCut":"根节点不允许剪切或复制","project.wbs.notCut":"父节点不允许剪切到子节点","project.wbs.illegalLink":"不允许建立非法(环)的连接关系","project.wbs.rootNotPaste":"根节点不允许粘贴","project.wbs.lag":"延时时长","project.wbs.hourZoom":"小时视图","project.wbs.dayZoom":"天视图","project.wbs.weekZoom":"周视图","project.wbs.monthZoom":"月度视图","project.wbs.quarterZoom":"季度视图","project.wbs.yearZoom":"年度视图","project.wbs.columns.width":"当前宽度：","project.wbs.columns.wbs":"大纲号","project.wbs.columns.auto_scheduling":"任务模式","project.wbs.columns.text":"任务名称","project.wbs.columns.sign":"标记","project.wbs.columns.progress":"任务进度","project.wbs.columns.duration":"工期","project.wbs.columns.start_date":"开始时间","project.wbs.columns.end_date":"完成时间","project.wbs.columns.predecessors":"前置任务","project.wbs.columns.constraint_type":"限制类型","project.wbs.columns.constraint_date":"限制时间","project.wbs.columns.publish_status":"发布状态","project.wbs.columns.is_resolve":"是否分解","project.wbs.columns.task_resource":"资源","project.wbs.columns.task_status":"任务状态","project.wbs.columns.remarks":"备注","project.wbs.columns.real_start_date":"实际开始时间","project.wbs.columns.real_end_date":"实际完成时间","project.wbs.columns.plan_hour":"计划工时","project.wbs.columns.deliverable_name":"交付物名称","project.wbs.columns.is_deliverable":"必须有交付物","project.wbs.columns.description":"描述","project.wbs.columns.allow_delete":"允许删除","project.wbs.columns.custom_form_type":"自定义表单类型","project.wbs.columns.review_point":"评审点","project.wbs.columns.review_type":"评审类型","project.wbs.load":"资源负荷","project.wbs.load.showLoad":"显示资源负荷","project.wbs.load.hasTempLog":"包含临时日志","project.wbs.load.hasNotApprovedLog":"包含未审核日志","project.wbs.load.bar":"柱状图","project.wbs.load.taskNumber":"任务数量","project.wbs.load.line":"折线图","project.wbs.load.number":"数值","project.wbs.load.planReleaseLoad":"计划释放负荷","project.wbs.load.planOverLoad":"计划超出负荷","project.wbs.load.planNormalLoad":"计划正常负荷","project.wbs.load.realOverLoad":"实际超出负荷","project.wbs.load.realNormalLoad":"实际正常负荷","project.wbs.load.every":"第","project.wbs.load.common":"共","project.wbs.load.item":"条","project.wbs.load.planTotalLoad":"计划总负荷","project.wbs.load.releaseLoad":"释放负荷","project.wbs.load.netLoad":"计划净负荷","project.wbs.load.standLoad":"标准负荷","project.wbs.load.detail":"详细信息","project.wbs.load.column.taskName":"任务名称","project.wbs.load.column.projectName":"所属项目","project.wbs.load.column.planTotalLoad":"当日计划负荷","project.wbs.load.column.planReleaseLoad":"当日释放负荷","project.wbs.load.column.usageRate":"投入百分比","project.wbs.load.column.startTimePlan":"计划开始时间","project.wbs.load.column.endTimePlan":"计划完成时间","project.wbs.load.column.startTimeActual":"实际开始时间","project.wbs.load.column.endTimeActual":"实际完成时间","project.wbs.subTask.updateTip":"父任务【{text}】及其相关的父任务的限制类型，已根据子任务进行修改!","project.wbs.calendar.name":"项目日历","project.wbs.calendar.desc":"注意：项目日历更新之后，WBS会重新调度，并自动保存WBS数据","project.wbs.calendar.cancel":"取消","project.wbs.calendar.sure":"确定","project.wbs.calendar.year":"年","project.wbs.calendar.month":"月","project.wbs.calendar.day":"日","project.wbs.calendar.to":"至","project.wbs.calendar.today":"今日","project.wbs.calendar.saveSuccess":"日历数据保存成功","project.wbs.updateProjectData":"任务【{first}】和任务【{second}】的关联关系影响项目时间修改,请先改变关联关系","project.globalCalendar.name":"日历列表","project.globalCalendar.calendar":"日历名称","project.globalCalendar.inputCalendar":"请输入日历名称！","project.globalCalendar.inputCalendarRequire":"名称开头结尾不能为空格！","project.globalCalendar.setCalendar":"设为默认日历","project.globalCalendar.cancel":"取消","project.globalCalendar.save":"确定","project.globalCalendar.addCalendar":"新增日历","project.globalCalendar.updateCalendar":"编辑日历","project.globalCalendar.saveAsCalendar":"另存为日历","project.globalCalendar.setting":"日历设置","project.calendar.weekday":"工作日","project.calendar.exceptional.day":"例外休息日","project.calendar.exceptional.working.days":"例外工作日","project.calendar.rest.day":"休息日","project.wbs.fineTuningCanNotMileTask":"微调模式不允许更改里程碑任务","project.wbs.canNotEdit":"审核中或已完成的任务不允许编辑、添加子任务","project.wbs.decomposeNotEdit":"分解模式下根任务不允许编辑","project.wbs.readOnlyTaskStatusTip":"任务【{text}】为只读任务，请先取消此任务，在进行相关操作","project.wbs.canNotAddChildTask":"里程碑任务不允许添加子任务","project.wbs.levelTaskCanNotUpGrade":"任务层级不允许等于根任务层级，不能继续升级！","project.wbs.rootCanNotUpGrade":"任务层级已经到顶不能再升级！"},tn=Ht({name:"BaseGanttCheckBox",props:{uniqueKey:{type:String,default:""},data:{type:Object,default:()=>({})},node:{type:Object,default:()=>({})}},setup(z){const A=Tt(z.data.selected),S=()=>{z.data.selected=!z.data.selected,A.value=z.data.selected,Dt.emit("needChangeIndeterminate",z.uniqueKey)};return()=>mt("div",null,[mt(le,{checked:A.value,"onUpdate:checked":x=>A.value=x,onChange:S},null)])}}),en=Ht({name:"BaseGanttCheckAll",props:{uniqueKey:{type:String,default:""},ganttTaskData:{type:Array,default:()=>[]}},setup(z){const A=Tt(!1),S=Tt(!1),x=()=>{const _=z==null?void 0:z.ganttTaskData.length,[u,s]=[[],[]];for(let c=0;c<_;c++)z.ganttTaskData[c].selected?s.push(z.ganttTaskData[c].selected):u.push(z.ganttTaskData[c].selected);u.length===0&&(A.value=!0,S.value=!1),s.length===0&&(A.value=!1,S.value=!1),u.length>0&&s.length>0&&(A.value=!1,S.value=!0)};x();const h=()=>{A.value=!A.value,S.value=!1,Dt.emit("selectAllRows",{uniqueKey:z.uniqueKey,selectedAll:A.value})};return Wt(()=>{Dt.on("handleCheckIndeterminate",_=>{_===z.uniqueKey&&x()})}),Te(()=>{Dt.off("handleCheckIndeterminate")}),()=>mt("div",null,[mt(le,{checked:A.value,"onUpdate:checked":_=>A.value=_,indeterminate:S.value,onChange:h},null)])}}),nn=Ht({name:"BaseGanttAbout",setup(z,{expose:A}){const{t:S}=Lt(),x=Tt(!1),h=[{key:"Ctrl + C",value:"复制"},{key:"Ctrl + X",value:"剪切"},{key:"Ctrl + V",value:"粘贴"},{key:"Ctrl + S",value:"保存"},{key:"Ctrl + Z",value:"撤销"},{key:"Ctrl + Y",value:"恢复"},{key:"Ctrl + D",value:"删除"},{key:"Ctrl + F",value:"查找"},{key:"Ctrl + G",value:"筛选"},{key:"Ctrl",value:"按住多选"},{key:"Shift",value:"按住连选"},{key:"Ctrl + H",value:"隐藏Chart"},{key:"Ctrl + L",value:"显示Chart"},{key:"Ctrl + U",value:"更新资源"}],_=()=>{x.value=!0},u=()=>{x.value=!1};return A({showAbout:_}),()=>mt(ve,{visible:x.value,"onUpdate:visible":s=>x.value=s,title:S("project.wbs.about"),centered:!0,width:"420px",maskClosable:!1,footer:null,destroyOnClose:!0,onCancel:u},{default:()=>[mt("h4",{style:"color: #000"},[ie("WBS编辑器(v1.0.20)，相关功能不断完善中...")]),mt("p",{style:"color: #000"},[ie("键盘快捷键说明:")]),mt("ul",null,[h.map(s=>mt("li",null,[mt("span",null,[s.key]),mt("span",null,[s.value])]))])]})}}),rn=Ht({name:"BaseGanttToolBar",props:{toolbar:{type:Boolean,default:!0},chartFlag:{type:Boolean,default:!0},limitZoomInLevel:{type:Number,default:0},ganttInstance:{type:Object,default:()=>({})}},emits:["zoomIn","zoomOut"],setup(z,{emit:A}){const{t:S}=Lt(),x=Tt(z.ganttInstance.ext.zoom.getCurrentLevel()??2),h=Object.keys(Ut).map(c=>({value:Ut[c],label:S(`project.wbs.${c}Zoom`)})).filter(c=>c&&c.value>=z.limitZoomInLevel),_=()=>{A("zoomIn"),x.value=z.ganttInstance.ext.zoom.getCurrentLevel()},u=()=>{A("zoomOut"),x.value=z.ganttInstance.ext.zoom.getCurrentLevel()},s=c=>{z.ganttInstance.ext.zoom.setLevel(c)};return Wt(()=>{Dt.on("zoomChange",c=>{x.value=Ut[c]})}),te(()=>{Dt.off("zoomChange")}),()=>Se(mt("div",{class:"base-gantt-toolbar"},[mt("div",{class:"toolbar-item",onClick:_},[mt(ne,{name:"hoteam-enlarge",size:"18"},null)]),mt("div",{class:"toolbar-content"},[mt(me,{class:"toolbar-select",value:x.value,"onUpdate:value":c=>x.value=c,bordered:!1,size:"small",showSearch:!1,options:h,onChange:s},null)]),mt("div",{class:"toolbar-item",onClick:u},[mt(ne,{name:"hoteam-narrow",size:"18"},null)])]),[[Ce,z.toolbar&&z.chartFlag]])}}),cn=Ht({name:"HBBaseGantt",props:{...Le},setup(z,{emit:A,expose:S}){const{t:x,mergeLocaleMessage:h,locale:_}=Lt();h("en-US",Ze),h("zh-CN",Qe);const u=new Date().getTime()+"",s=Tt(!0),c=Tt("");let i=[];const o=Tt(),e=Me.Gantt.getGanttInstance(),t=Qt(()=>_.value),n=Tt(!1),a=Tt(),r=Tt([]),l=Tt([]),d=Rt.AUTH_RESOLVE,f=Tt(),g=Tt(!0);let p=0,[v,y]=[null,null];const m=new Set,b={start_date:null,end_date:null};let k=!1,C=null,w=null;e.plugins({auto_scheduling:!0,marker:!0,undo:!0,critical_path:!0,fullscreen:!0,click_drag:!0,drag_timeline:!1,multiselect:!0,tooltip:z.showTooltip,export_api:!0});const T={uuid:u,constantObj:Nt,chartFlag:g,spinning:s,spinningTip:c,columnsWithBackUp:i,baseLineCSSFlag:n,projectCalendarRef:a,baseGanttAboutRef:f,decomposeKey:d,taskFilterParams:l,projectCalendarData:r,batchDeleteTask:!1,batchDeleteLink:!1,openTaskIds:[],dayDateFormat:"YYYY-MM-DD",dateFormat:"YYYY-MM-DD HH:mm",autoFormatter:e.ext.formatters.durationFormatter(se(z.hoursPerDay))},E=Je(z,e,T);(()=>{const W=[];z.selectedFalg&&W.push({name:Nt.CHECKBOXNAME,label:"",align:"center",width:Nt.INITWIDTH,min_width:Nt.INITWIDTH,max_width:Nt.INITWIDTH,resize:!0,hide:!1,onrender:(O,$)=>mt(tn,{data:O,node:$,uniqueKey:u})}),z.columnAddFlag&&W.push({min_width:Nt.INITWIDTH,max_width:Nt.INITWIDTH,name:Nt.ADDNAME,width:Nt.INITWIDTH,get label(){return x("project.wbs.addAction")},resize:!0,hide:!1,template:O=>"<div class='gantt_add'></div>"}),e.config.columns=W,z.columnsReactiveFlag&&(e.config.columns=ce(e.config.columns)),e.config.date_format="%Y-%m-%d %H:%i",z.gridDateFormat&&E.formatGridDateColumns(),z.reorderGridColumn&&(e.config.reorder_grid_columns=!0),z.workTime&&(e.config.work_time=!0,e.config.duration_unit="minute",e.config.duration_step=1,e.config.time_step=30,e.config.round_dnd_dates=z.roundDndDate,e.config.correct_work_time=z.correctWorkTime),e.config.auto_types=z.autoTypes,e.config.drag_progress=z.dragProgress,e.config.skip_off_time=z.skipOffTime,z.gridElasticColumns&&(e.config.grid_elastic_columns="width"),e.config.scroll_on_click=z.scrollOnClick,E.setNoWorkTimeClass(z.showWorkTimeClass),z.orderBranch&&(e.config.order_branch="marker",e.config.order_branch_free=!0),z.enableChartGridSwitch&&(e.config.layout=ue),z.autoSchedule&&(e.config.auto_scheduling=!0,e.config.auto_scheduling_initial=!0,e.config.auto_scheduling_strict=!0),z.todayLine&&E.switchBaseGanttTodayLine(),e.config.fit_tasks=!0,E.setLocalization(t.value),e.config.readonly=z.readonly,E.initBaseGanttZoomConfig(),E.setBaseGanttZoom(),e.config.touch=!1,E.setBaseGanttSubTaskCSS(),z.enableMilestoneBgColor&&E.setBaseGanttMilestoneCSS(),E.setBaseGanttUndoAndRedo(),E.improveInlineEditor(),e.config.inline_editors_multiselect_open=!0,e.config.inherit_calendar=!0,e.config.show_errors=!1,e.config.bar_height=z.barHeight,e.config.resize_rows=z.resizeRow,E.baseGanttProgressConfig(),z.chartBoxSelection&&(e.config.autoscroll=!0,e.config.autoscroll_speed=50,e.config.click_drag={callback:E.chartBoxSelectionCallback}),e.config.auto_scheduling_project_constraint=z.scheduleProjectConstraint,z.dynamicTextPosition&&E.dynamicTaskTextPosition(),z.highlightDragPosition&&(e.config.show_drag_vertical=z.showDragVertical,e.config.show_drag_dates=!0,e.config.drag_label_width=70,e.config.drag_date="%Y-%m-%d",e.templates.drag_date=null),e.config.scale_height=z.scaleHeight,e.config.row_height=z.rowHeight,e.config.static_background=!0,e.config.show_tasks_outside_timescale=!0})();const j=qt(()=>{new Set(m).forEach(W=>{requestAnimationFrame(()=>{W._vnode&&W.getBoundingClientRect().width===0&&(Kt(null,W),m.delete(W))})})},1e3),N=()=>{e.init(o==null?void 0:o.value),z.defaultHideChart&&E.hideBaseGanttChart(),z.renderFlag&&(e.config.external_render={isElement:W=>re(W)||ae(W),renderElement:(W,O)=>{O.removeChild(O.children[0]),re(W)?(Kt(W,O),m.add(O)):ae(W)&&O.append(W),j()}})},L=W=>{i=Ot(W),E.appendBaseGanttColumns(W)},B=W=>{var O;if(z.selectedFalg){const $=(O=W==null?void 0:W.data)==null?void 0:O.length;for(let D=0;D<$;D++)W.data[D].selected=!1}if(e.parse(W),z.enableProjectStartEndDate&&E.setProjectStartAndEndDate(W==null?void 0:W.project_start),z.autoOpenLevel){let $=0;W.data.length>150&&W.data.length<=300&&($=1),W.data.length>300&&W.data.length<=500&&($=2),W.data.length>500&&($=3),E.expandBaseGanttLevel($)}s.value=!1,c.value=""},I=W=>{var O,$,D,M;if(z.queryKeepLevel)if((O=z.tempIdRealIdMap)!=null&&O.data&&Object.keys(z.tempIdRealIdMap.data).length>0){const U=[];($=T.openTaskIds)==null||$.forEach(q=>{z.tempIdRealIdMap.data[q]?U.push(z.tempIdRealIdMap.data[q]):U.push(q)}),(D=W.data)==null||D.forEach(q=>{q.open=!!(U!=null&&U.includes(q.id))})}else(M=W.data)==null||M.forEach(U=>{var q;U.open=!!((q=T.openTaskIds)!=null&&q.includes(U.id))});e.clearAll(),e.parse(W),E.setBaseGanttEmptyState(),z.enableProjectStartEndDate&&E.setProjectStartAndEndDate(W==null?void 0:W.project_start),z.todayLine&&E.switchBaseGanttTodayLine(),s.value=!1,c.value="",E.resetDifferenceData()},V=W=>{W.data&&Object.prototype.toString.call(W==null?void 0:W.data)==="[object Array]"&&(console.time("renderData"),e.parse({data:[],links:[]}),e.parse(W),z.enableProjectStartEndDate&&E.setProjectStartAndEndDate(W==null?void 0:W.project_start),console.timeEnd("renderData"),s.value=!1,c.value="")},Y=W=>{var O,$,D;W.add.data&&((O=W.add.data)==null?void 0:O.length)>0&&W.add.data.forEach(M=>{const U=e.getTask(M);U&&(U[xt]=void 0,E.updateTaskStatusDisplay(U),U.outlineNo=U.$wbs,U.duration_back=parseFloat(T.autoFormatter.format(U.duration)))}),W.add.links&&(($=W.add.links)==null?void 0:$.length)>0&&W.add.links.forEach(M=>{const U=e.getLink(M);U&&(U[xt]=void 0)}),W.update.data&&((D=W.update.data)==null?void 0:D.length)>0&&W.update.data.forEach(M=>{const U=e.getTask(M);U&&(E.updateTaskStatusDisplay(U),U.$wbs!==U.outlineNo&&(U.outlineNo=U.$wbs),U.duration_back=parseFloat(T.autoFormatter.format(U.duration)))}),E.resetDifferenceData()},H=()=>{var W,O,$;E.updateProjectCalendar(z.calendars),z.columns.length>0&&L(z.columns),z.data&&Object.keys(z.data).length&&((O=(W=z.data)==null?void 0:W.data)!=null&&O.length)&&(($=z==null?void 0:z.data)==null||$.data.forEach(D=>D.duration_back=parseFloat(D.duration)),B(z.data),s.value=!0,setTimeout(()=>{s.value=!1},50))};E.monitorRedoUndoEvent(),E.enableFilterDecompose(),e.attachEvent("onAfterTaskAdd",W=>{const O=e.getTask(W);if(z.progressCalculate&&E.refreshSummaryProgress(W,!0),z.statusCalculate&&E.refreshSummaryTaskStatus(W),e.config.multiselect){const $=e.getParent(W);$&&e.unselectTask($)}e.autoSchedule(),O.$new=void 0}),e.attachEvent("onAfterTaskUpdate",(W,O)=>{z.progressCalculate&&E.refreshSummaryProgress(W,!1),z.statusCalculate&&E.refreshSummaryTaskStatus(W),z.scheduleProjectConstraint||(O==null?void 0:O.type)==="project"&&(O==null?void 0:O.auto_scheduling)===!0&&(O.constraint_type="asap",O.constraint_date=void 0),(O==null?void 0:O.auto_scheduling)===!1&&O.constraint_type!==void 0&&(O.constraint_type=void 0,O.constraint_date=void 0),(O==null?void 0:O.auto_scheduling)===!0&&O.constraint_type===void 0&&(O.constraint_type="asap",O.constraint_date=void 0),(O==null?void 0:O.type)==="project"&&(O==null?void 0:O.auto_scheduling)===!0&&!Pe.includes(O.constraint_type)&&(O.constraint_type="asap",O.constraint_date=void 0),z.scheduleProjectConstraint&&(C=O),O.$new||(k?setTimeout(()=>{k=!1},30):e.autoSchedule())}),e.attachEvent("onBeforeTaskDelete",W=>{p=e.getParent(W)}),e.attachEvent("onAfterTaskDelete",()=>{z.progressCalculate&&E.refreshSummaryProgress(p,!0),z.statusCalculate&&E.refreshSummaryTaskStatus(p),T.batchDeleteTask||e.autoSchedule()}),e.attachEvent("onBeforeLinkAdd",(W,O)=>{if(e.isCircularLink(O))return _t(x("project.wbs.circular")),!1;const D=e.getTask(O.source),M=e.getTask(O.target);return D.parent==M.id||M.parent==D.id?(_t(x("project.wbs.nakecircular")),!1):Bt.includes(M.task_status)?!1:(O.type==2||O.type==3)&&(e.hasChild(M.id)||M[d])?(_t(x("project.wbs.taskLinkError")),!1):(typeof O.id=="number"&&(O.id=ee(z.bizType),O[xt]=!0),!0)}),e.attachEvent("onAfterLinkDelete",(W,O)=>{T.batchDeleteLink||e.autoSchedule()}),z.isSingleProject&&e.attachEvent("onBeforeTaskMove",(W,O,$)=>{if(O==e.config.root_id)return _t(x("project.wbs.moveProjectLimit")),!1;const D=e.getTask(W);if(D[d]&&(D!=null&&D.isRoot))return!0;if(e.isTaskExists(W)){const M=E.checkTaskLimit(D,!1);if(M!=="")return _t(M),!1;const U=E.checkTaskChildLimit(W);if(U!=="")return _t(U),!1}if(e.isTaskExists(O)){const M=E.checkTaskLimit(e.getTask(O),!1);if(M!=="")return _t(M),!1}return!0}),e.attachEvent("onAfterTaskMove",(W,O,$)=>{$===0&&e.getTask(W).$target.forEach(U=>{const q=e.getLink(U);q.source==O&&q.target==W&&e.deleteLink(U)})}),e.attachEvent("onBeforeTaskDrag",(W,O,$)=>{const D=e.getTask(W);return O==="progress"&&D[d]?!1:(b.start_date=e.getTask(W).start_date,b.end_date=e.getTask(W).end_date,!0)}),e.attachEvent("onTaskDrag",(W,O,$,D)=>{z.separateProjectStart&&new Date($.start_date).getTime()<new Date(e.config.project_start).getTime()&&($.start_date=e.config.project_start,$.end_date=D.end_date),z.progressCalculate&&O==="progress"&&E.refreshSummaryProgress(W,!1),z.rangeDynamically&&E.dateRangeDynamically(O,$)}),e.attachEvent("onAfterTaskDrag",(W,O,$)=>{var nt,J,rt,ct,lt,ht,pt,kt,bt,St,Mt,At,tt,it;k=!0;const D=e.getTask(W);let M=e.getCalendar(D.calendar_id);const U=[],q=[];let X=0;if(M||(M=e.getCalendar("global")),M.getWorkHours(D.start_date).forEach(at=>{at.split("-").forEach(Z=>{U.push(Z)})}),X=parseInt((nt=U[0])==null?void 0:nt.split(":")[0])*60+parseInt((J=U[0])==null?void 0:J.split(":")[1]),M.getWorkHours(D.end_date).forEach(at=>{at.split("-").forEach(Z=>{q.push(Z)})}),O==="move"&&(D==null?void 0:D.type)!=="milestone"&&(D.start_date=e.date.add(e.date.day_start(D.start_date),X,"minute"),D.end_date=M==null?void 0:M.calculateEndDate({start_date:D.start_date,duration:D.duration,task:D,unit:"minute"}),(D==null?void 0:D.constraint_type)==="snet"&&(D==null?void 0:D.type)!=="project"&&((rt=D==null?void 0:D.constraint_date)==null?void 0:rt.getTime())!==((ct=D==null?void 0:D.start_date)==null?void 0:ct.getTime())&&(D.constraint_date=new Date(D==null?void 0:D.start_date)),D.auto_scheduling!==!0&&(D==null?void 0:D.type)!=="project"&&((lt=D==null?void 0:D.start_date)==null?void 0:lt.getTime())<((ht=e==null?void 0:e.config)==null?void 0:ht.project_start.getTime())&&(D.start_date=new Date((pt=e==null?void 0:e.config)==null?void 0:pt.project_start),D.end_date=M==null?void 0:M.calculateEndDate({start_date:new Date((kt=e==null?void 0:e.config)==null?void 0:kt.project_start),duration:D.duration,task:D})),e.updateTask(D.id)),O==="resize"&&(((bt=D==null?void 0:D.start_date)==null?void 0:bt.getTime())!==((St=b==null?void 0:b.start_date)==null?void 0:St.getTime())&&(D.start_date=e.date.add(e.date.day_start(D.start_date),X,"minute"),D.end_date=M==null?void 0:M.calculateEndDate({start_date:D.start_date,duration:D.duration,task:D,unit:"minute"}),e.updateTask(W)),((Mt=D==null?void 0:D.end_date)==null?void 0:Mt.getTime())!==((At=b==null?void 0:b.end_date)==null?void 0:At.getTime()))){const at=parseInt((tt=q[q.length-1])==null?void 0:tt.split(":")[0])*60+parseInt((it=q[q.length-1])==null?void 0:it.split(":")[1]);D.end_date=e.date.add(e.date.day_start(D.end_date),at,"minute"),e.updateTask(W)}}),e.attachEvent("onBeforeTaskAutoSchedule",(W,O,$,D)=>{if(W.$new&&W[xt]||Bt.includes(W.task_status)||!z.complateCalculate&&W.progress===1)return!1;if(z.separateProjectStart&&new Date(O).getTime()<new Date(e.config.project_start).getTime()){if(W.start_date=e.config.project_start,["mfo","fnlt"].includes(W.constraint_type)){const M=e.getTaskBy(q=>(q==null?void 0:q.isRoot)===!0),U=M.length>0?e.getCalendar(M[0].calendar_id):e.getCalendar("global");W.end_date=U.calculateEndDate({start_date:W.start_date,duration:W.duration,task:W}),W.constraint_type="asap",W.constraint_date=null,_t(x("project.wbs.removeContraintType"))}return!1}return!0}),z.isSingleProject&&(v=qt(E.autoAdjustProjectStartEndDate,100),e.attachEvent("onAfterAutoSchedule",(W,O)=>{z.scheduleProjectConstraint&&(W===void 0&&(O==null?void 0:O.length)>0&&e.batchUpdate(()=>{e.eachParent($=>{E.adjustSubTaskConstraint($)},O[0])}),W!==void 0&&(O==null?void 0:O.length)===0&&e.batchUpdate(()=>{e.eachParent($=>{E.adjustSubTaskConstraint($)},W)}),W===void 0&&(O==null?void 0:O.length)===0&&(C==null?void 0:C.type)==="project"&&E.adjustSubTaskConstraint(C)),v()})),e.attachEvent("onTaskLoading",W=>(W.planned_start=e.date.parseDate(W.planned_start,"xml_date"),W.planned_end=e.date.parseDate(W.planned_end,"xml_date"),!0)),e.attachEvent("onGanttReady",()=>{E.customTaskTooltipContent(),E.customLinkTooltipContent(),e.$ui.getView("grid").attachEvent("onAfterColumnReorder",()=>{E.removeCustomFreezeStyleRules()}),E.highlightDragPosition(),E.setMilestoneHelperLine()}),e.attachEvent("onDataRender",()=>{var W,O;z.differenceWbsData&&z.data&&Object.keys(z.data).length!==0&&((O=(W=z.data)==null?void 0:W.data)==null||O.forEach($=>{$!=null&&$.$wbs&&($.outlineNo=$.$wbs)})),E.setTasksOutsideTimescale(z.outsideTimeScaleDay),G()}),e.ext.inlineEditors.attachEvent("onSave",W=>{const O=W.columnName;e.autoSchedule&&(O=="start_date"||O=="end_date"||O=="duration")&&e.autoSchedule()}),z.enableColumnResizeTooltip&&(e.attachEvent("onColumnResize",(W,O,$)=>{w?document.getElementById("columnWidth").innerText=$+1:w=e.message({expire:-1,text:`【<b>${O.label_back??O.label}</b>】${x("project.wbs.columns.width")}<b id='columnWidth'>${$+1}</b><b>px</b>`})}),e.attachEvent("onColumnResizeEnd",()=>(w&&e.message.hide(w),w=null,!0)));const F=W=>{Dt.emit("handleCheckIndeterminate",W)},G=()=>{var W;z.selectedFalg&&Kt(mt(en,{uniqueKey:u,ganttTaskData:(W=z.data)==null?void 0:W.data}),document.querySelector('div[column_id="external_checkbox"]'))},R=()=>{const W=document.querySelectorAll(".gantt_tooltip");W==null||W.forEach(O=>{O.remove()})};y=qt(()=>{e.resetLayout()},350);const K=()=>{r.value=[],T.openTaskIds=[],v=null,y=null,j()},Q=$e();return Q.run(()=>{Ft(()=>z.hoursPerDay,(W,O)=>{W!==O&&(T.autoFormatter=e.ext.formatters.durationFormatter(se(z.hoursPerDay)))}),Ft(()=>z.calendars,(W,O)=>{(W==null?void 0:W.length)>0&&(O==null?void 0:O.length)===0&&E.updateProjectCalendar(z.calendars),(W==null?void 0:W.length)>0&&(O==null?void 0:O.length)>0&&(ke(W,O)||E.updateProjectCalendar(z.calendars,!0,()=>{A("autoSaveBaseGanttData")}))},{deep:!0}),Ft(()=>z.columns,()=>{var W;((W=z==null?void 0:z.columns)==null?void 0:W.length)>0&&L(z.columns)}),Ft(()=>z.data,()=>{z.data&&Object.keys(z.data).length!==0?(z.data.data.forEach(W=>{W.duration_back=parseFloat(W.duration)}),z.queryDataFlag?(l.value=[],I(z.data)):B(z.data)):(I({data:[],links:[]}),s.value=!1)}),Ft(()=>t.value,()=>{E.setLocalization(t.value,!0)}),Ft(()=>s.value,()=>{R(),A("switchMenuMask",s.value)})}),Wt(()=>{N(),H(),Dt.on("selectAllRows",E.handleSelectAllRows),Dt.on("needChangeIndeterminate",F),window.addEventListener("resize",y),window.addEventListener("mousemove",E.repairMousemoveGantt)}),te(()=>{Q.stop(),Dt.off("selectAllRows"),Dt.off("needChangeIndeterminate"),window.removeEventListener("resize",y),window.removeEventListener("mousemove",E.repairMousemoveGantt),E.removeCustomFreezeStyleRules(),R(),K(),e.destructor()}),S({spinning:s,setBaseGanttData:V,updateBaseGanttData:Y,...E}),()=>mt(Ee,null,[mt(ye,{spinning:z.enableLoadingFlag&&s.value,tip:c.value,wrapperClassName:"base-gantt-loading"},{default:()=>[mt("div",{id:"base_gantt_"+u,ref:o,class:[n.value?"base-line-css":"","base-gantt-container"]},null),mt(rn,{toolbar:z.toolbar,chartFlag:g.value,ganttInstance:e,limitZoomInLevel:z.limitZoomInLevel,onZoomIn:E.baseGanttZoomIn,onZoomOut:E.baseGanttZoomOut},null),mt(nn,{ref:f},null)]})])}});export{Rt as A,cn as B,gt as T,oe as a,Bt as b,_t as c,Nt as d,Zt as e,Dt as f,ee as g,ln as l,xt as n,sn as u};
