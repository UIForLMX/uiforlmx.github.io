import{f as g}from"./theme.DnYSLrkS.js";import{d as w,r as l,c}from"./framework.CIF-FFa0.js";const x=w({name:"InlineResource",props:{data:{type:Object,default:()=>({})},options:{type:Array,default:()=>[]},name:{type:String,default:""}},emits:["updateValue"],setup(a,{emit:d}){const s=l(),n=l([]),o=l(!1);a.data[a.name]&&a.data[a.name].length>0&&(n.value=a.data[a.name].map(e=>e.resource));const u=()=>{o.value=!1,d("updateValue",a.data.id,a.name,n.value)},i=()=>{o.value=!0},f=()=>{var e,t,r;!o.value&&((e=n.value)==null?void 0:e.length)===0?u():(r=(t=s.value)==null?void 0:t.focus)==null||r.call(t)},m=(e,t)=>t.name.toLowerCase().indexOf(e.toLowerCase())>=0,p=e=>{e.stopPropagation()},v=e=>{e.stopPropagation()},h=e=>{e.stopPropagation()};return()=>{var e;return c("div",{onKeydown:v,onMousedown:h,onDblclick:p},[c(g,{ref:s,class:["inline-resource",((e=a.data)==null?void 0:e.type)==="project"&&"inline-resource-project"],value:n.value,"onUpdate:value":t=>n.value=t,mode:"multiple","show-search":!0,maxTagCount:1,"max-tag-text-length":3,bordered:!1,options:a.options,optionLabelProp:"name",fieldNames:{label:"name",value:"id"},"filter-option":m,onBlur:u,onFocus:i,onDeselect:f},null)])}}});export{x as default};
